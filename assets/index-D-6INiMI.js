(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var rd={exports:{}},oo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function nR(){if(T_)return oo;T_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:u}}return oo.Fragment=e,oo.jsx=i,oo.jsxs=i,oo}var E_;function iR(){return E_||(E_=1,rd.exports=nR()),rd.exports}var b=iR(),ad={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function sR(){if(x_)return le;x_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function S(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function M(R,H,K){this.props=R,this.context=H,this.refs=N,this.updater=K||E}M.prototype.isReactComponent={},M.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},M.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function U(){}U.prototype=M.prototype;function L(R,H,K){this.props=R,this.context=H,this.refs=N,this.updater=K||E}var G=L.prototype=new U;G.constructor=L,C(G,M.prototype),G.isPureReactComponent=!0;var q=Array.isArray;function te(){}var X={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function se(R,H,K){var Z=K.ref;return{$$typeof:t,type:R,key:H,ref:Z!==void 0?Z:null,props:K}}function Ee(R,H){return se(R.type,H,R.props)}function $e(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function tt(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(K){return H[K]})}var yn=/\/+/g;function nn(R,H){return typeof R=="object"&&R!==null&&R.key!=null?tt(""+R.key):H.toString(36)}function Mt(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(te,te):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function z(R,H,K,Z,ue){var me=typeof R;(me==="undefined"||me==="boolean")&&(R=null);var Re=!1;if(R===null)Re=!0;else switch(me){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(R.$$typeof){case t:case e:Re=!0;break;case g:return Re=R._init,z(Re(R._payload),H,K,Z,ue)}}if(Re)return ue=ue(R),Re=Z===""?"."+nn(R,0):Z,q(ue)?(K="",Re!=null&&(K=Re.replace(yn,"$&/")+"/"),z(ue,H,K,"",function(ma){return ma})):ue!=null&&($e(ue)&&(ue=Ee(ue,K+(ue.key==null||R&&R.key===ue.key?"":(""+ue.key).replace(yn,"$&/")+"/")+Re)),H.push(ue)),1;Re=0;var Ct=Z===""?".":Z+":";if(q(R))for(var Ze=0;Ze<R.length;Ze++)Z=R[Ze],me=Ct+nn(Z,Ze),Re+=z(Z,H,K,me,ue);else if(Ze=S(R),typeof Ze=="function")for(R=Ze.call(R),Ze=0;!(Z=R.next()).done;)Z=Z.value,me=Ct+nn(Z,Ze++),Re+=z(Z,H,K,me,ue);else if(me==="object"){if(typeof R.then=="function")return z(Mt(R),H,K,Z,ue);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Re}function F(R,H,K){if(R==null)return R;var Z=[],ue=0;return z(R,Z,"","",function(me){return H.call(K,me,ue++)}),Z}function J(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(K){(R._status===0||R._status===-1)&&(R._status=1,R._result=K)},function(K){(R._status===0||R._status===-1)&&(R._status=2,R._result=K)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var ve=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Te={map:F,forEach:function(R,H,K){F(R,function(){H.apply(this,arguments)},K)},count:function(R){var H=0;return F(R,function(){H++}),H},toArray:function(R){return F(R,function(H){return H})||[]},only:function(R){if(!$e(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return le.Activity=y,le.Children=Te,le.Component=M,le.Fragment=i,le.Profiler=o,le.PureComponent=L,le.StrictMode=r,le.Suspense=m,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,le.__COMPILER_RUNTIME={__proto__:null,c:function(R){return X.H.useMemoCache(R)}},le.cache=function(R){return function(){return R.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(R,H,K){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Z=C({},R.props),ue=R.key;if(H!=null)for(me in H.key!==void 0&&(ue=""+H.key),H)!W.call(H,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&H.ref===void 0||(Z[me]=H[me]);var me=arguments.length-2;if(me===1)Z.children=K;else if(1<me){for(var Re=Array(me),Ct=0;Ct<me;Ct++)Re[Ct]=arguments[Ct+2];Z.children=Re}return se(R.type,ue,Z)},le.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},le.createElement=function(R,H,K){var Z,ue={},me=null;if(H!=null)for(Z in H.key!==void 0&&(me=""+H.key),H)W.call(H,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ue[Z]=H[Z]);var Re=arguments.length-2;if(Re===1)ue.children=K;else if(1<Re){for(var Ct=Array(Re),Ze=0;Ze<Re;Ze++)Ct[Ze]=arguments[Ze+2];ue.children=Ct}if(R&&R.defaultProps)for(Z in Re=R.defaultProps,Re)ue[Z]===void 0&&(ue[Z]=Re[Z]);return se(R,me,ue)},le.createRef=function(){return{current:null}},le.forwardRef=function(R){return{$$typeof:h,render:R}},le.isValidElement=$e,le.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:J}},le.memo=function(R,H){return{$$typeof:p,type:R,compare:H===void 0?null:H}},le.startTransition=function(R){var H=X.T,K={};X.T=K;try{var Z=R(),ue=X.S;ue!==null&&ue(K,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(te,ve)}catch(me){ve(me)}finally{H!==null&&K.types!==null&&(H.types=K.types),X.T=H}},le.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},le.use=function(R){return X.H.use(R)},le.useActionState=function(R,H,K){return X.H.useActionState(R,H,K)},le.useCallback=function(R,H){return X.H.useCallback(R,H)},le.useContext=function(R){return X.H.useContext(R)},le.useDebugValue=function(){},le.useDeferredValue=function(R,H){return X.H.useDeferredValue(R,H)},le.useEffect=function(R,H){return X.H.useEffect(R,H)},le.useEffectEvent=function(R){return X.H.useEffectEvent(R)},le.useId=function(){return X.H.useId()},le.useImperativeHandle=function(R,H,K){return X.H.useImperativeHandle(R,H,K)},le.useInsertionEffect=function(R,H){return X.H.useInsertionEffect(R,H)},le.useLayoutEffect=function(R,H){return X.H.useLayoutEffect(R,H)},le.useMemo=function(R,H){return X.H.useMemo(R,H)},le.useOptimistic=function(R,H){return X.H.useOptimistic(R,H)},le.useReducer=function(R,H,K){return X.H.useReducer(R,H,K)},le.useRef=function(R){return X.H.useRef(R)},le.useState=function(R){return X.H.useState(R)},le.useSyncExternalStore=function(R,H,K){return X.H.useSyncExternalStore(R,H,K)},le.useTransition=function(){return X.H.useTransition()},le.version="19.2.3",le}var C_;function Pm(){return C_||(C_=1,ad.exports=sR()),ad.exports}var w=Pm(),od={exports:{}},lo={},ld={exports:{}},ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function rR(){return w_||(w_=1,(function(t){function e(z,F){var J=z.length;z.push(F);e:for(;0<J;){var ve=J-1>>>1,Te=z[ve];if(0<o(Te,F))z[ve]=F,z[J]=Te,J=ve;else break e}}function i(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var F=z[0],J=z.pop();if(J!==F){z[0]=J;e:for(var ve=0,Te=z.length,R=Te>>>1;ve<R;){var H=2*(ve+1)-1,K=z[H],Z=H+1,ue=z[Z];if(0>o(K,J))Z<Te&&0>o(ue,K)?(z[ve]=ue,z[Z]=J,ve=Z):(z[ve]=K,z[H]=J,ve=H);else if(Z<Te&&0>o(ue,J))z[ve]=ue,z[Z]=J,ve=Z;else break e}}return F}function o(z,F){var J=z.sortIndex-F.sortIndex;return J!==0?J:z.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var m=[],p=[],g=1,y=null,_=3,S=!1,E=!1,C=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function G(z){for(var F=i(p);F!==null;){if(F.callback===null)r(p);else if(F.startTime<=z)r(p),F.sortIndex=F.expirationTime,e(m,F);else break;F=i(p)}}function q(z){if(C=!1,G(z),!E)if(i(m)!==null)E=!0,te||(te=!0,tt());else{var F=i(p);F!==null&&Mt(q,F.startTime-z)}}var te=!1,X=-1,W=5,se=-1;function Ee(){return N?!0:!(t.unstable_now()-se<W)}function $e(){if(N=!1,te){var z=t.unstable_now();se=z;var F=!0;try{e:{E=!1,C&&(C=!1,U(X),X=-1),S=!0;var J=_;try{t:{for(G(z),y=i(m);y!==null&&!(y.expirationTime>z&&Ee());){var ve=y.callback;if(typeof ve=="function"){y.callback=null,_=y.priorityLevel;var Te=ve(y.expirationTime<=z);if(z=t.unstable_now(),typeof Te=="function"){y.callback=Te,G(z),F=!0;break t}y===i(m)&&r(m),G(z)}else r(m);y=i(m)}if(y!==null)F=!0;else{var R=i(p);R!==null&&Mt(q,R.startTime-z),F=!1}}break e}finally{y=null,_=J,S=!1}F=void 0}}finally{F?tt():te=!1}}}var tt;if(typeof L=="function")tt=function(){L($e)};else if(typeof MessageChannel<"u"){var yn=new MessageChannel,nn=yn.port2;yn.port1.onmessage=$e,tt=function(){nn.postMessage(null)}}else tt=function(){M($e,0)};function Mt(z,F){X=M(function(){z(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(z){switch(_){case 1:case 2:case 3:var F=3;break;default:F=_}var J=_;_=F;try{return z()}finally{_=J}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(z,F){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=_;_=z;try{return F()}finally{_=J}},t.unstable_scheduleCallback=function(z,F,J){var ve=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ve+J:ve):J=ve,z){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=J+Te,z={id:g++,callback:F,priorityLevel:z,startTime:J,expirationTime:Te,sortIndex:-1},J>ve?(z.sortIndex=J,e(p,z),i(m)===null&&z===i(p)&&(C?(U(X),X=-1):C=!0,Mt(q,J-ve))):(z.sortIndex=Te,e(m,z),E||S||(E=!0,te||(te=!0,tt()))),z},t.unstable_shouldYield=Ee,t.unstable_wrapCallback=function(z){var F=_;return function(){var J=_;_=F;try{return z.apply(this,arguments)}finally{_=J}}}})(ud)),ud}var A_;function aR(){return A_||(A_=1,ld.exports=rR()),ld.exports}var cd={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function oR(){if(R_)return Tt;R_=1;var t=Pm();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:p,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tt.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,g)},Tt.flushSync=function(m){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=g,r.d.f()}},Tt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},Tt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Tt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:S}):g==="script"&&r.d.X(m,{crossOrigin:y,integrity:_,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},Tt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);r.d.L(m,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tt.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=h(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},Tt.requestFormReset=function(m){r.d.r(m)},Tt.unstable_batchedUpdates=function(m,p){return m(p)},Tt.useFormState=function(m,p,g){return c.H.useFormState(m,p,g)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.2.3",Tt}var N_;function lR(){if(N_)return cd.exports;N_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cd.exports=oR(),cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function uR(){if(D_)return lo;D_=1;var t=aR(),e=Pm(),i=lR();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(r(188))}function p(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),L=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),Ee=Symbol.for("react.memo_cache_sentinel"),$e=Symbol.iterator;function tt(n){return n===null||typeof n!="object"?null:(n=$e&&n[$e]||n["@@iterator"],typeof n=="function"?n:null)}var yn=Symbol.for("react.client.reference");function nn(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===yn?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case M:return"Profiler";case N:return"StrictMode";case q:return"Suspense";case te:return"SuspenseList";case se:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case L:return n.displayName||"Context";case U:return(n._context.displayName||"Context")+".Consumer";case G:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case X:return s=n.displayName||null,s!==null?s:nn(n.type)||"Memo";case W:s=n._payload,n=n._init;try{return nn(n(s))}catch{}}return null}var Mt=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ve=[],Te=-1;function R(n){return{current:n}}function H(n){0>Te||(n.current=ve[Te],ve[Te]=null,Te--)}function K(n,s){Te++,ve[Te]=n.current,n.current=s}var Z=R(null),ue=R(null),me=R(null),Re=R(null);function Ct(n,s){switch(K(me,s),K(ue,n),K(Z,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?G0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=G0(s),n=Y0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}H(Z),K(Z,n)}function Ze(){H(Z),H(ue),H(me)}function ma(n){n.memoizedState!==null&&K(Re,n);var s=Z.current,a=Y0(s,n.type);s!==a&&(K(ue,n),K(Z,a))}function al(n){ue.current===n&&(H(Z),H(ue)),Re.current===n&&(H(Re),io._currentValue=J)}var Vc,Sg;function fs(n){if(Vc===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Vc=s&&s[1]||"",Sg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vc+n+Sg}var Bc=!1;function Hc(n,s){if(!n||Bc)return"";Bc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(j){var k=j}Reflect.construct(n,[],B)}else{try{B.call()}catch(j){k=j}n.call(B.prototype)}}else{try{throw Error()}catch(j){k=j}(B=n())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(j){if(j&&k&&typeof j.stack=="string")return[j.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var x=v.split(`
`),I=T.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===I.length)for(l=x.length-1,f=I.length-1;1<=l&&0<=f&&x[l]!==I[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==I[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==I[f]){var P=`
`+x[l].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=l&&0<=f);break}}}finally{Bc=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?fs(a):""}function IC(n,s){switch(n.tag){case 26:case 27:case 5:return fs(n.type);case 16:return fs("Lazy");case 13:return n.child!==s&&s!==null?fs("Suspense Fallback"):fs("Suspense");case 19:return fs("SuspenseList");case 0:case 15:return Hc(n.type,!1);case 11:return Hc(n.type.render,!1);case 1:return Hc(n.type,!0);case 31:return fs("Activity");default:return""}}function Tg(n){try{var s="",a=null;do s+=IC(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Fc=Object.prototype.hasOwnProperty,qc=t.unstable_scheduleCallback,Gc=t.unstable_cancelCallback,kC=t.unstable_shouldYield,LC=t.unstable_requestPaint,qt=t.unstable_now,jC=t.unstable_getCurrentPriorityLevel,Eg=t.unstable_ImmediatePriority,xg=t.unstable_UserBlockingPriority,ol=t.unstable_NormalPriority,UC=t.unstable_LowPriority,Cg=t.unstable_IdlePriority,PC=t.log,zC=t.unstable_setDisableYieldValue,pa=null,Gt=null;function Ti(n){if(typeof PC=="function"&&zC(n),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(pa,n)}catch{}}var Yt=Math.clz32?Math.clz32:HC,VC=Math.log,BC=Math.LN2;function HC(n){return n>>>=0,n===0?32:31-(VC(n)/BC|0)|0}var ll=256,ul=262144,cl=4194304;function hs(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function fl(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=hs(l):(v&=T,v!==0?f=hs(v):a||(a=T&~n,a!==0&&(f=hs(a))))):(T=l&~d,T!==0?f=hs(T):v!==0?f=hs(v):a||(a=l&~n,a!==0&&(f=hs(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function ga(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function FC(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wg(){var n=cl;return cl<<=1,(cl&62914560)===0&&(cl=4194304),n}function Yc(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function ya(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function qC(n,s,a,l,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,x=n.expirationTimes,I=n.hiddenUpdates;for(a=v&~a;0<a;){var P=31-Yt(a),B=1<<P;T[P]=0,x[P]=-1;var k=I[P];if(k!==null)for(I[P]=null,P=0;P<k.length;P++){var j=k[P];j!==null&&(j.lane&=-536870913)}a&=~B}l!==0&&Ag(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~s))}function Ag(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-Yt(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Rg(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-Yt(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Ng(n,s){var a=s&-s;return a=(a&42)!==0?1:Kc(a),(a&(n.suspendedLanes|s))!==0?0:a}function Kc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Wc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Dg(){var n=F.p;return n!==0?n:(n=window.event,n===void 0?32:p_(n.type))}function Mg(n,s){var a=F.p;try{return F.p=n,s()}finally{F.p=a}}var Ei=Math.random().toString(36).slice(2),pt="__reactFiber$"+Ei,Ot="__reactProps$"+Ei,Xs="__reactContainer$"+Ei,Xc="__reactEvents$"+Ei,GC="__reactListeners$"+Ei,YC="__reactHandles$"+Ei,Og="__reactResources$"+Ei,va="__reactMarker$"+Ei;function Qc(n){delete n[pt],delete n[Ot],delete n[Xc],delete n[GC],delete n[YC]}function Qs(n){var s=n[pt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Xs]||a[pt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=J0(n);n!==null;){if(a=n[pt])return a;n=J0(n)}return s}n=a,a=n.parentNode}return null}function $s(n){if(n=n[pt]||n[Xs]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function _a(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Zs(n){var s=n[Og];return s||(s=n[Og]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ct(n){n[va]=!0}var Ig=new Set,kg={};function ds(n,s){Js(n,s),Js(n+"Capture",s)}function Js(n,s){for(kg[n]=s,n=0;n<s.length;n++)Ig.add(s[n])}var KC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lg={},jg={};function WC(n){return Fc.call(jg,n)?!0:Fc.call(Lg,n)?!1:KC.test(n)?jg[n]=!0:(Lg[n]=!0,!1)}function hl(n,s,a){if(WC(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function dl(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Bn(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ug(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function XC(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function $c(n){if(!n._valueTracker){var s=Ug(n)?"checked":"value";n._valueTracker=XC(n,s,""+n[s])}}function Pg(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Ug(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function ml(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var QC=/[\n"\\]/g;function rn(n){return n.replace(QC,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Zc(n,s,a,l,f,d,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),s!=null?v==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+sn(s)):n.value!==""+sn(s)&&(n.value=""+sn(s)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),s!=null?Jc(n,v,sn(s)):a!=null?Jc(n,v,sn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+sn(T):n.removeAttribute("name")}function zg(n,s,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){$c(n);return}a=a!=null?""+sn(a):"",s=s!=null?""+sn(s):a,T||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),$c(n)}function Jc(n,s,a){s==="number"&&ml(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function er(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+sn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Vg(n,s,a){if(s!=null&&(s=""+sn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+sn(a):""}function Bg(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Mt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=sn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),$c(n)}function tr(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var $C=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hg(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||$C.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Fg(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Hg(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Hg(n,d,s[d])}function ef(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),JC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pl(n){return JC.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Hn(){}var tf=null;function nf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var nr=null,ir=null;function qg(n){var s=$s(n);if(s&&(n=s.stateNode)){var a=n[Ot]||null;e:switch(n=s.stateNode,s.type){case"input":if(Zc(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Ot]||null;if(!f)throw Error(r(90));Zc(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Pg(l)}break e;case"textarea":Vg(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&er(n,!!a.multiple,s,!1)}}}var sf=!1;function Gg(n,s,a){if(sf)return n(s,a);sf=!0;try{var l=n(s);return l}finally{if(sf=!1,(nr!==null||ir!==null)&&(nu(),nr&&(s=nr,n=ir,ir=nr=null,qg(s),n)))for(s=0;s<n.length;s++)qg(n[s])}}function ba(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Ot]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rf=!1;if(Fn)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){rf=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{rf=!1}var xi=null,af=null,gl=null;function Yg(){if(gl)return gl;var n,s=af,a=s.length,l,f="value"in xi?xi.value:xi.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&s[a-l]===f[d-l];l++);return gl=f.slice(n,1<l?1-l:void 0)}function yl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function vl(){return!0}function Kg(){return!1}function It(n){function s(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?vl:Kg,this.isPropagationStopped=Kg,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),s}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=It(ms),Ta=y({},ms,{view:0,detail:0}),ew=It(Ta),of,lf,Ea,bl=y({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ea&&(Ea&&n.type==="mousemove"?(of=n.screenX-Ea.screenX,lf=n.screenY-Ea.screenY):lf=of=0,Ea=n),of)},movementY:function(n){return"movementY"in n?n.movementY:lf}}),Wg=It(bl),tw=y({},bl,{dataTransfer:0}),nw=It(tw),iw=y({},Ta,{relatedTarget:0}),uf=It(iw),sw=y({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),rw=It(sw),aw=y({},ms,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ow=It(aw),lw=y({},ms,{data:0}),Xg=It(lw),uw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hw(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=fw[n])?!!s[n]:!1}function cf(){return hw}var dw=y({},Ta,{key:function(n){if(n.key){var s=uw[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=yl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?cw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cf,charCode:function(n){return n.type==="keypress"?yl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),mw=It(dw),pw=y({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qg=It(pw),gw=y({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cf}),yw=It(gw),vw=y({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),_w=It(vw),bw=y({},bl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Sw=It(bw),Tw=y({},ms,{newState:0,oldState:0}),Ew=It(Tw),xw=[9,13,27,32],ff=Fn&&"CompositionEvent"in window,xa=null;Fn&&"documentMode"in document&&(xa=document.documentMode);var Cw=Fn&&"TextEvent"in window&&!xa,$g=Fn&&(!ff||xa&&8<xa&&11>=xa),Zg=" ",Jg=!1;function ey(n,s){switch(n){case"keyup":return xw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var sr=!1;function ww(n,s){switch(n){case"compositionend":return ty(s);case"keypress":return s.which!==32?null:(Jg=!0,Zg);case"textInput":return n=s.data,n===Zg&&Jg?null:n;default:return null}}function Aw(n,s){if(sr)return n==="compositionend"||!ff&&ey(n,s)?(n=Yg(),gl=af=xi=null,sr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $g&&s.locale!=="ko"?null:s.data;default:return null}}var Rw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Rw[n.type]:s==="textarea"}function iy(n,s,a,l){nr?ir?ir.push(l):ir=[l]:nr=l,s=uu(s,"onChange"),0<s.length&&(a=new _l("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Ca=null,wa=null;function Nw(n){z0(n,0)}function Sl(n){var s=_a(n);if(Pg(s))return n}function sy(n,s){if(n==="change")return s}var ry=!1;if(Fn){var hf;if(Fn){var df="oninput"in document;if(!df){var ay=document.createElement("div");ay.setAttribute("oninput","return;"),df=typeof ay.oninput=="function"}hf=df}else hf=!1;ry=hf&&(!document.documentMode||9<document.documentMode)}function oy(){Ca&&(Ca.detachEvent("onpropertychange",ly),wa=Ca=null)}function ly(n){if(n.propertyName==="value"&&Sl(wa)){var s=[];iy(s,wa,n,nf(n)),Gg(Nw,s)}}function Dw(n,s,a){n==="focusin"?(oy(),Ca=s,wa=a,Ca.attachEvent("onpropertychange",ly)):n==="focusout"&&oy()}function Mw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sl(wa)}function Ow(n,s){if(n==="click")return Sl(s)}function Iw(n,s){if(n==="input"||n==="change")return Sl(s)}function kw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Kt=typeof Object.is=="function"?Object.is:kw;function Aa(n,s){if(Kt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Fc.call(s,f)||!Kt(n[f],s[f]))return!1}return!0}function uy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function cy(n,s){var a=uy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=uy(a)}}function fy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?fy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function hy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=ml(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=ml(n.document)}return s}function mf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Lw=Fn&&"documentMode"in document&&11>=document.documentMode,rr=null,pf=null,Ra=null,gf=!1;function dy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||rr==null||rr!==ml(l)||(l=rr,"selectionStart"in l&&mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ra&&Aa(Ra,l)||(Ra=l,l=uu(pf,"onSelect"),0<l.length&&(s=new _l("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=rr)))}function ps(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var ar={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},yf={},my={};Fn&&(my=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function gs(n){if(yf[n])return yf[n];if(!ar[n])return n;var s=ar[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in my)return yf[n]=s[a];return n}var py=gs("animationend"),gy=gs("animationiteration"),yy=gs("animationstart"),jw=gs("transitionrun"),Uw=gs("transitionstart"),Pw=gs("transitioncancel"),vy=gs("transitionend"),_y=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function vn(n,s){_y.set(n,s),ds(s,[n])}var Tl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},an=[],or=0,_f=0;function El(){for(var n=or,s=_f=or=0;s<n;){var a=an[s];an[s++]=null;var l=an[s];an[s++]=null;var f=an[s];an[s++]=null;var d=an[s];if(an[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&by(a,f,d)}}function xl(n,s,a,l){an[or++]=n,an[or++]=s,an[or++]=a,an[or++]=l,_f|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function bf(n,s,a,l){return xl(n,s,a,l),Cl(n)}function ys(n,s){return xl(n,null,null,s),Cl(n)}function by(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-Yt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Cl(n){if(50<Qa)throw Qa=0,Nh=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var lr={};function zw(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(n,s,a,l){return new zw(n,s,a,l)}function Sf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qn(n,s){var a=n.alternate;return a===null?(a=Wt(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Sy(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function wl(n,s,a,l,f,d){var v=0;if(l=n,typeof n=="function")Sf(n)&&(v=1);else if(typeof n=="string")v=qA(n,a,Z.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case se:return n=Wt(31,a,s,f),n.elementType=se,n.lanes=d,n;case C:return vs(a.children,f,d,s);case N:v=8,f|=24;break;case M:return n=Wt(12,a,s,f|2),n.elementType=M,n.lanes=d,n;case q:return n=Wt(13,a,s,f),n.elementType=q,n.lanes=d,n;case te:return n=Wt(19,a,s,f),n.elementType=te,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case L:v=10;break e;case U:v=9;break e;case G:v=11;break e;case X:v=14;break e;case W:v=16,l=null;break e}v=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=Wt(v,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function vs(n,s,a,l){return n=Wt(7,n,l,s),n.lanes=a,n}function Tf(n,s,a){return n=Wt(6,n,null,s),n.lanes=a,n}function Ty(n){var s=Wt(18,null,null,0);return s.stateNode=n,s}function Ef(n,s,a){return s=Wt(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Ey=new WeakMap;function on(n,s){if(typeof n=="object"&&n!==null){var a=Ey.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Tg(s)},Ey.set(n,s),s)}return{value:n,source:s,stack:Tg(s)}}var ur=[],cr=0,Al=null,Na=0,ln=[],un=0,Ci=null,Mn=1,On="";function Gn(n,s){ur[cr++]=Na,ur[cr++]=Al,Al=n,Na=s}function xy(n,s,a){ln[un++]=Mn,ln[un++]=On,ln[un++]=Ci,Ci=n;var l=Mn;n=On;var f=32-Yt(l)-1;l&=~(1<<f),a+=1;var d=32-Yt(s)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Mn=1<<32-Yt(s)+f|a<<f|l,On=d+n}else Mn=1<<d|a<<f|l,On=n}function xf(n){n.return!==null&&(Gn(n,1),xy(n,1,0))}function Cf(n){for(;n===Al;)Al=ur[--cr],ur[cr]=null,Na=ur[--cr],ur[cr]=null;for(;n===Ci;)Ci=ln[--un],ln[un]=null,On=ln[--un],ln[un]=null,Mn=ln[--un],ln[un]=null}function Cy(n,s){ln[un++]=Mn,ln[un++]=On,ln[un++]=Ci,Mn=s.id,On=s.overflow,Ci=n}var gt=null,Pe=null,Se=!1,wi=null,cn=!1,wf=Error(r(519));function Ai(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Da(on(s,n)),wf}function wy(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[pt]=n,s[Ot]=l,a){case"dialog":ge("cancel",s),ge("close",s);break;case"iframe":case"object":case"embed":ge("load",s);break;case"video":case"audio":for(a=0;a<Za.length;a++)ge(Za[a],s);break;case"source":ge("error",s);break;case"img":case"image":case"link":ge("error",s),ge("load",s);break;case"details":ge("toggle",s);break;case"input":ge("invalid",s),zg(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ge("invalid",s);break;case"textarea":ge("invalid",s),Bg(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||F0(s.textContent,a)?(l.popover!=null&&(ge("beforetoggle",s),ge("toggle",s)),l.onScroll!=null&&ge("scroll",s),l.onScrollEnd!=null&&ge("scrollend",s),l.onClick!=null&&(s.onclick=Hn),s=!0):s=!1,s||Ai(n,!0)}function Ay(n){for(gt=n.return;gt;)switch(gt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:gt=gt.return}}function fr(n){if(n!==gt)return!1;if(!Se)return Ay(n),Se=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||qh(n.type,n.memoizedProps)),a=!a),a&&Pe&&Ai(n),Ay(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Pe=Z0(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Pe=Z0(n)}else s===27?(s=Pe,Bi(n.type)?(n=Xh,Xh=null,Pe=n):Pe=s):Pe=gt?hn(n.stateNode.nextSibling):null;return!0}function _s(){Pe=gt=null,Se=!1}function Af(){var n=wi;return n!==null&&(Ut===null?Ut=n:Ut.push.apply(Ut,n),wi=null),n}function Da(n){wi===null?wi=[n]:wi.push(n)}var Rf=R(null),bs=null,Yn=null;function Ri(n,s,a){K(Rf,s._currentValue),s._currentValue=a}function Kn(n){n._currentValue=Rf.current,H(Rf)}function Nf(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function Df(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var x=0;x<s.length;x++)if(T.context===s[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Nf(d.return,a,n),l||(v=null);break e}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Nf(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function hr(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=f.type;Kt(f.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(f===Re.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(io):n=[io])}f=f.return}n!==null&&Df(s,n,a,l),s.flags|=262144}function Rl(n){for(n=n.firstContext;n!==null;){if(!Kt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ss(n){bs=n,Yn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function yt(n){return Ry(bs,n)}function Nl(n,s){return bs===null&&Ss(n),Ry(n,s)}function Ry(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Yn===null){if(n===null)throw Error(r(308));Yn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Yn=Yn.next=s;return a}var Vw=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Bw=t.unstable_scheduleCallback,Hw=t.unstable_NormalPriority,nt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new Vw,data:new Map,refCount:0}}function Ma(n){n.refCount--,n.refCount===0&&Bw(Hw,function(){n.controller.abort()})}var Oa=null,Of=0,dr=0,mr=null;function Fw(n,s){if(Oa===null){var a=Oa=[];Of=0,dr=Lh(),mr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Of++,s.then(Ny,Ny),s}function Ny(){if(--Of===0&&Oa!==null){mr!==null&&(mr.status="fulfilled");var n=Oa;Oa=null,dr=0,mr=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function qw(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Dy=z.S;z.S=function(n,s){d0=qt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Fw(n,s),Dy!==null&&Dy(n,s)};var Ts=R(null);function If(){var n=Ts.current;return n!==null?n:Le.pooledCache}function Dl(n,s){s===null?K(Ts,Ts.current):K(Ts,s.pool)}function My(){var n=If();return n===null?null:{parent:nt._currentValue,pool:n}}var pr=Error(r(460)),kf=Error(r(474)),Ml=Error(r(542)),Ol={then:function(){}};function Oy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Iy(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Hn,Hn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ly(n),n;default:if(typeof s.status=="string")s.then(Hn,Hn);else{if(n=Le,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ly(n),n}throw xs=s,pr}}function Es(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(xs=a,pr):a}}var xs=null;function ky(){if(xs===null)throw Error(r(459));var n=xs;return xs=null,n}function Ly(n){if(n===pr||n===Ml)throw Error(r(483))}var gr=null,Ia=0;function Il(n){var s=Ia;return Ia+=1,gr===null&&(gr=[]),Iy(gr,n,s)}function ka(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function kl(n,s){throw s.$$typeof===_?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function jy(n){function s(D,A){if(n){var O=D.deletions;O===null?(D.deletions=[A],D.flags|=16):O.push(A)}}function a(D,A){if(!n)return null;for(;A!==null;)s(D,A),A=A.sibling;return null}function l(D){for(var A=new Map;D!==null;)D.key!==null?A.set(D.key,D):A.set(D.index,D),D=D.sibling;return A}function f(D,A){return D=qn(D,A),D.index=0,D.sibling=null,D}function d(D,A,O){return D.index=O,n?(O=D.alternate,O!==null?(O=O.index,O<A?(D.flags|=67108866,A):O):(D.flags|=67108866,A)):(D.flags|=1048576,A)}function v(D){return n&&D.alternate===null&&(D.flags|=67108866),D}function T(D,A,O,V){return A===null||A.tag!==6?(A=Tf(O,D.mode,V),A.return=D,A):(A=f(A,O),A.return=D,A)}function x(D,A,O,V){var ne=O.type;return ne===C?P(D,A,O.props.children,V,O.key):A!==null&&(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===W&&Es(ne)===A.type)?(A=f(A,O.props),ka(A,O),A.return=D,A):(A=wl(O.type,O.key,O.props,null,D.mode,V),ka(A,O),A.return=D,A)}function I(D,A,O,V){return A===null||A.tag!==4||A.stateNode.containerInfo!==O.containerInfo||A.stateNode.implementation!==O.implementation?(A=Ef(O,D.mode,V),A.return=D,A):(A=f(A,O.children||[]),A.return=D,A)}function P(D,A,O,V,ne){return A===null||A.tag!==7?(A=vs(O,D.mode,V,ne),A.return=D,A):(A=f(A,O),A.return=D,A)}function B(D,A,O){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Tf(""+A,D.mode,O),A.return=D,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return O=wl(A.type,A.key,A.props,null,D.mode,O),ka(O,A),O.return=D,O;case E:return A=Ef(A,D.mode,O),A.return=D,A;case W:return A=Es(A),B(D,A,O)}if(Mt(A)||tt(A))return A=vs(A,D.mode,O,null),A.return=D,A;if(typeof A.then=="function")return B(D,Il(A),O);if(A.$$typeof===L)return B(D,Nl(D,A),O);kl(D,A)}return null}function k(D,A,O,V){var ne=A!==null?A.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ne!==null?null:T(D,A,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return O.key===ne?x(D,A,O,V):null;case E:return O.key===ne?I(D,A,O,V):null;case W:return O=Es(O),k(D,A,O,V)}if(Mt(O)||tt(O))return ne!==null?null:P(D,A,O,V,null);if(typeof O.then=="function")return k(D,A,Il(O),V);if(O.$$typeof===L)return k(D,A,Nl(D,O),V);kl(D,O)}return null}function j(D,A,O,V,ne){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return D=D.get(O)||null,T(A,D,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return D=D.get(V.key===null?O:V.key)||null,x(A,D,V,ne);case E:return D=D.get(V.key===null?O:V.key)||null,I(A,D,V,ne);case W:return V=Es(V),j(D,A,O,V,ne)}if(Mt(V)||tt(V))return D=D.get(O)||null,P(A,D,V,ne,null);if(typeof V.then=="function")return j(D,A,O,Il(V),ne);if(V.$$typeof===L)return j(D,A,O,Nl(A,V),ne);kl(A,V)}return null}function Q(D,A,O,V){for(var ne=null,xe=null,ee=A,fe=A=0,be=null;ee!==null&&fe<O.length;fe++){ee.index>fe?(be=ee,ee=null):be=ee.sibling;var Ce=k(D,ee,O[fe],V);if(Ce===null){ee===null&&(ee=be);break}n&&ee&&Ce.alternate===null&&s(D,ee),A=d(Ce,A,fe),xe===null?ne=Ce:xe.sibling=Ce,xe=Ce,ee=be}if(fe===O.length)return a(D,ee),Se&&Gn(D,fe),ne;if(ee===null){for(;fe<O.length;fe++)ee=B(D,O[fe],V),ee!==null&&(A=d(ee,A,fe),xe===null?ne=ee:xe.sibling=ee,xe=ee);return Se&&Gn(D,fe),ne}for(ee=l(ee);fe<O.length;fe++)be=j(ee,D,fe,O[fe],V),be!==null&&(n&&be.alternate!==null&&ee.delete(be.key===null?fe:be.key),A=d(be,A,fe),xe===null?ne=be:xe.sibling=be,xe=be);return n&&ee.forEach(function(Yi){return s(D,Yi)}),Se&&Gn(D,fe),ne}function ie(D,A,O,V){if(O==null)throw Error(r(151));for(var ne=null,xe=null,ee=A,fe=A=0,be=null,Ce=O.next();ee!==null&&!Ce.done;fe++,Ce=O.next()){ee.index>fe?(be=ee,ee=null):be=ee.sibling;var Yi=k(D,ee,Ce.value,V);if(Yi===null){ee===null&&(ee=be);break}n&&ee&&Yi.alternate===null&&s(D,ee),A=d(Yi,A,fe),xe===null?ne=Yi:xe.sibling=Yi,xe=Yi,ee=be}if(Ce.done)return a(D,ee),Se&&Gn(D,fe),ne;if(ee===null){for(;!Ce.done;fe++,Ce=O.next())Ce=B(D,Ce.value,V),Ce!==null&&(A=d(Ce,A,fe),xe===null?ne=Ce:xe.sibling=Ce,xe=Ce);return Se&&Gn(D,fe),ne}for(ee=l(ee);!Ce.done;fe++,Ce=O.next())Ce=j(ee,D,fe,Ce.value,V),Ce!==null&&(n&&Ce.alternate!==null&&ee.delete(Ce.key===null?fe:Ce.key),A=d(Ce,A,fe),xe===null?ne=Ce:xe.sibling=Ce,xe=Ce);return n&&ee.forEach(function(tR){return s(D,tR)}),Se&&Gn(D,fe),ne}function Ie(D,A,O,V){if(typeof O=="object"&&O!==null&&O.type===C&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case S:e:{for(var ne=O.key;A!==null;){if(A.key===ne){if(ne=O.type,ne===C){if(A.tag===7){a(D,A.sibling),V=f(A,O.props.children),V.return=D,D=V;break e}}else if(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===W&&Es(ne)===A.type){a(D,A.sibling),V=f(A,O.props),ka(V,O),V.return=D,D=V;break e}a(D,A);break}else s(D,A);A=A.sibling}O.type===C?(V=vs(O.props.children,D.mode,V,O.key),V.return=D,D=V):(V=wl(O.type,O.key,O.props,null,D.mode,V),ka(V,O),V.return=D,D=V)}return v(D);case E:e:{for(ne=O.key;A!==null;){if(A.key===ne)if(A.tag===4&&A.stateNode.containerInfo===O.containerInfo&&A.stateNode.implementation===O.implementation){a(D,A.sibling),V=f(A,O.children||[]),V.return=D,D=V;break e}else{a(D,A);break}else s(D,A);A=A.sibling}V=Ef(O,D.mode,V),V.return=D,D=V}return v(D);case W:return O=Es(O),Ie(D,A,O,V)}if(Mt(O))return Q(D,A,O,V);if(tt(O)){if(ne=tt(O),typeof ne!="function")throw Error(r(150));return O=ne.call(O),ie(D,A,O,V)}if(typeof O.then=="function")return Ie(D,A,Il(O),V);if(O.$$typeof===L)return Ie(D,A,Nl(D,O),V);kl(D,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,A!==null&&A.tag===6?(a(D,A.sibling),V=f(A,O),V.return=D,D=V):(a(D,A),V=Tf(O,D.mode,V),V.return=D,D=V),v(D)):a(D,A)}return function(D,A,O,V){try{Ia=0;var ne=Ie(D,A,O,V);return gr=null,ne}catch(ee){if(ee===pr||ee===Ml)throw ee;var xe=Wt(29,ee,null,D.mode);return xe.lanes=V,xe.return=D,xe}}}var Cs=jy(!0),Uy=jy(!1),Ni=!1;function Lf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Di(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Mi(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(we&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Cl(n),by(n,null,a),s}return xl(n,l,s,a),Cl(n)}function La(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Rg(n,a)}}function Uf(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Pf=!1;function ja(){if(Pf){var n=mr;if(n!==null)throw n}}function Ua(n,s,a,l){Pf=!1;var f=n.updateQueue;Ni=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var x=T,I=x.next;x.next=null,v===null?d=I:v.next=I,v=x;var P=n.alternate;P!==null&&(P=P.updateQueue,T=P.lastBaseUpdate,T!==v&&(T===null?P.firstBaseUpdate=I:T.next=I,P.lastBaseUpdate=x))}if(d!==null){var B=f.baseState;v=0,P=I=x=null,T=d;do{var k=T.lane&-536870913,j=k!==T.lane;if(j?(_e&k)===k:(l&k)===k){k!==0&&k===dr&&(Pf=!0),P!==null&&(P=P.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Q=n,ie=T;k=s;var Ie=a;switch(ie.tag){case 1:if(Q=ie.payload,typeof Q=="function"){B=Q.call(Ie,B,k);break e}B=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ie.payload,k=typeof Q=="function"?Q.call(Ie,B,k):Q,k==null)break e;B=y({},B,k);break e;case 2:Ni=!0}}k=T.callback,k!==null&&(n.flags|=64,j&&(n.flags|=8192),j=f.callbacks,j===null?f.callbacks=[k]:j.push(k))}else j={lane:k,tag:T.tag,payload:T.payload,callback:T.callback,next:null},P===null?(I=P=j,x=B):P=P.next=j,v|=k;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;j=T,T=j.next,j.next=null,f.lastBaseUpdate=j,f.shared.pending=null}}while(!0);P===null&&(x=B),f.baseState=x,f.firstBaseUpdate=I,f.lastBaseUpdate=P,d===null&&(f.shared.lanes=0),ji|=v,n.lanes=v,n.memoizedState=B}}function Py(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function zy(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Py(a[n],s)}var yr=R(null),Ll=R(0);function Vy(n,s){n=ni,K(Ll,n),K(yr,s),ni=n|s.baseLanes}function zf(){K(Ll,ni),K(yr,yr.current)}function Vf(){ni=Ll.current,H(yr),H(Ll)}var Xt=R(null),fn=null;function Oi(n){var s=n.alternate;K(Je,Je.current&1),K(Xt,n),fn===null&&(s===null||yr.current!==null||s.memoizedState!==null)&&(fn=n)}function Bf(n){K(Je,Je.current),K(Xt,n),fn===null&&(fn=n)}function By(n){n.tag===22?(K(Je,Je.current),K(Xt,n),fn===null&&(fn=n)):Ii()}function Ii(){K(Je,Je.current),K(Xt,Xt.current)}function Qt(n){H(Xt),fn===n&&(fn=null),H(Je)}var Je=R(0);function jl(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Kh(a)||Wh(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Wn=0,ce=null,Me=null,it=null,Ul=!1,vr=!1,ws=!1,Pl=0,Pa=0,_r=null,Gw=0;function Ke(){throw Error(r(321))}function Hf(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Kt(n[a],s[a]))return!1;return!0}function Ff(n,s,a,l,f,d){return Wn=d,ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,z.H=n===null||n.memoizedState===null?xv:sh,ws=!1,d=a(l,f),ws=!1,vr&&(d=Fy(s,a,l,f)),Hy(n),d}function Hy(n){z.H=Ba;var s=Me!==null&&Me.next!==null;if(Wn=0,it=Me=ce=null,Ul=!1,Pa=0,_r=null,s)throw Error(r(300));n===null||st||(n=n.dependencies,n!==null&&Rl(n)&&(st=!0))}function Fy(n,s,a,l){ce=n;var f=0;do{if(vr&&(_r=null),Pa=0,vr=!1,25<=f)throw Error(r(301));if(f+=1,it=Me=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=Cv,d=s(a,l)}while(vr);return d}function Yw(){var n=z.H,s=n.useState()[0];return s=typeof s.then=="function"?za(s):s,n=n.useState()[0],(Me!==null?Me.memoizedState:null)!==n&&(ce.flags|=1024),s}function qf(){var n=Pl!==0;return Pl=0,n}function Gf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Yf(n){if(Ul){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ul=!1}Wn=0,it=Me=ce=null,vr=!1,Pa=Pl=0,_r=null}function wt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?ce.memoizedState=it=n:it=it.next=n,it}function et(){if(Me===null){var n=ce.alternate;n=n!==null?n.memoizedState:null}else n=Me.next;var s=it===null?ce.memoizedState:it.next;if(s!==null)it=s,Me=n;else{if(n===null)throw ce.alternate===null?Error(r(467)):Error(r(310));Me=n,n={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},it===null?ce.memoizedState=it=n:it=it.next=n}return it}function zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function za(n){var s=Pa;return Pa+=1,_r===null&&(_r=[]),n=Iy(_r,n,s),s=ce,(it===null?s.memoizedState:it.next)===null&&(s=s.alternate,z.H=s===null||s.memoizedState===null?xv:sh),n}function Vl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return za(n);if(n.$$typeof===L)return yt(n)}throw Error(r(438,String(n)))}function Kf(n){var s=null,a=ce.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=zl(),ce.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=Ee;return s.index++,a}function Xn(n,s){return typeof s=="function"?s(n):s}function Bl(n){var s=et();return Wf(s,Me,n)}function Wf(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var T=v=null,x=null,I=s,P=!1;do{var B=I.lane&-536870913;if(B!==I.lane?(_e&B)===B:(Wn&B)===B){var k=I.revertLane;if(k===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),B===dr&&(P=!0);else if((Wn&k)===k){I=I.next,k===dr&&(P=!0);continue}else B={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},x===null?(T=x=B,v=d):x=x.next=B,ce.lanes|=k,ji|=k;B=I.action,ws&&a(d,B),d=I.hasEagerState?I.eagerState:a(d,B)}else k={lane:B,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},x===null?(T=x=k,v=d):x=x.next=k,ce.lanes|=B,ji|=B;I=I.next}while(I!==null&&I!==s);if(x===null?v=d:x.next=T,!Kt(d,n.memoizedState)&&(st=!0,P&&(a=mr,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Xf(n){var s=et(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);Kt(d,s.memoizedState)||(st=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function qy(n,s,a){var l=ce,f=et(),d=Se;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!Kt((Me||f).memoizedState,a);if(v&&(f.memoizedState=a,st=!0),f=f.queue,Zf(Ky.bind(null,l,f,n),[n]),f.getSnapshot!==s||v||it!==null&&it.memoizedState.tag&1){if(l.flags|=2048,br(9,{destroy:void 0},Yy.bind(null,l,f,a,s),null),Le===null)throw Error(r(349));d||(Wn&127)!==0||Gy(l,s,a)}return a}function Gy(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=ce.updateQueue,s===null?(s=zl(),ce.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Yy(n,s,a,l){s.value=a,s.getSnapshot=l,Wy(s)&&Xy(n)}function Ky(n,s,a){return a(function(){Wy(s)&&Xy(n)})}function Wy(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Kt(n,a)}catch{return!0}}function Xy(n){var s=ys(n,2);s!==null&&Pt(s,n,2)}function Qf(n){var s=wt();if(typeof n=="function"){var a=n;if(n=a(),ws){Ti(!0);try{a()}finally{Ti(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:n},s}function Qy(n,s,a,l){return n.baseState=a,Wf(n,Me,typeof l=="function"?l:Xn)}function Kw(n,s,a,l,f){if(ql(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};z.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,$y(s,d)):(d.next=a.next,s.pending=a.next=d)}}function $y(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=z.T,v={};z.T=v;try{var T=a(f,l),x=z.S;x!==null&&x(v,T),Zy(n,s,T)}catch(I){$f(n,s,I)}finally{d!==null&&v.types!==null&&(d.types=v.types),z.T=d}}else try{d=a(f,l),Zy(n,s,d)}catch(I){$f(n,s,I)}}function Zy(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jy(n,s,l)},function(l){return $f(n,s,l)}):Jy(n,s,a)}function Jy(n,s,a){s.status="fulfilled",s.value=a,ev(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,$y(n,a)))}function $f(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,ev(s),s=s.next;while(s!==l)}n.action=null}function ev(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function tv(n,s){return s}function nv(n,s){if(Se){var a=Le.formState;if(a!==null){e:{var l=ce;if(Se){if(Pe){t:{for(var f=Pe,d=cn;f.nodeType!==8;){if(!d){f=null;break t}if(f=hn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Pe=hn(f.nextSibling),l=f.data==="F!";break e}}Ai(l)}l=!1}l&&(s=a[0])}}return a=wt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tv,lastRenderedState:s},a.queue=l,a=Sv.bind(null,ce,l),l.dispatch=a,l=Qf(!1),d=ih.bind(null,ce,!1,l.queue),l=wt(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=Kw.bind(null,ce,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function iv(n){var s=et();return sv(s,Me,n)}function sv(n,s,a){if(s=Wf(n,s,tv)[0],n=Bl(Xn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=za(s)}catch(v){throw v===pr?Ml:v}else l=s;s=et();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(ce.flags|=2048,br(9,{destroy:void 0},Ww.bind(null,f,a),null)),[l,d,n]}function Ww(n,s){n.action=s}function rv(n){var s=et(),a=Me;if(a!==null)return sv(s,a,n);et(),s=s.memoizedState,a=et();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function br(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=ce.updateQueue,s===null&&(s=zl(),ce.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function av(){return et().memoizedState}function Hl(n,s,a,l){var f=wt();ce.flags|=n,f.memoizedState=br(1|s,{destroy:void 0},a,l===void 0?null:l)}function Fl(n,s,a,l){var f=et();l=l===void 0?null:l;var d=f.memoizedState.inst;Me!==null&&l!==null&&Hf(l,Me.memoizedState.deps)?f.memoizedState=br(s,d,a,l):(ce.flags|=n,f.memoizedState=br(1|s,d,a,l))}function ov(n,s){Hl(8390656,8,n,s)}function Zf(n,s){Fl(2048,8,n,s)}function Xw(n){ce.flags|=4;var s=ce.updateQueue;if(s===null)s=zl(),ce.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function lv(n){var s=et().memoizedState;return Xw({ref:s,nextImpl:n}),function(){if((we&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function uv(n,s){return Fl(4,2,n,s)}function cv(n,s){return Fl(4,4,n,s)}function fv(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function hv(n,s,a){a=a!=null?a.concat([n]):null,Fl(4,4,fv.bind(null,s,n),a)}function Jf(){}function dv(n,s){var a=et();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Hf(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function mv(n,s){var a=et();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Hf(s,l[1]))return l[0];if(l=n(),ws){Ti(!0);try{n()}finally{Ti(!1)}}return a.memoizedState=[l,s],l}function eh(n,s,a){return a===void 0||(Wn&1073741824)!==0&&(_e&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=p0(),ce.lanes|=n,ji|=n,a)}function pv(n,s,a,l){return Kt(a,s)?a:yr.current!==null?(n=eh(n,a,l),Kt(n,s)||(st=!0),n):(Wn&42)===0||(Wn&1073741824)!==0&&(_e&261930)===0?(st=!0,n.memoizedState=a):(n=p0(),ce.lanes|=n,ji|=n,s)}function gv(n,s,a,l,f){var d=F.p;F.p=d!==0&&8>d?d:8;var v=z.T,T={};z.T=T,ih(n,!1,s,a);try{var x=f(),I=z.S;if(I!==null&&I(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var P=qw(x,l);Va(n,s,P,Jt(n))}else Va(n,s,l,Jt(n))}catch(B){Va(n,s,{then:function(){},status:"rejected",reason:B},Jt())}finally{F.p=d,v!==null&&T.types!==null&&(v.types=T.types),z.T=v}}function Qw(){}function th(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=yv(n).queue;gv(n,f,s,J,a===null?Qw:function(){return vv(n),a(l)})}function yv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:J},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function vv(n){var s=yv(n);s.next===null&&(s=n.alternate.memoizedState),Va(n,s.next.queue,{},Jt())}function nh(){return yt(io)}function _v(){return et().memoizedState}function bv(){return et().memoizedState}function $w(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Jt();n=Di(a);var l=Mi(s,n,a);l!==null&&(Pt(l,s,a),La(l,s,a)),s={cache:Mf()},n.payload=s;return}s=s.return}}function Zw(n,s,a){var l=Jt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ql(n)?Tv(s,a):(a=bf(n,s,a,l),a!==null&&(Pt(a,n,l),Ev(a,s,l)))}function Sv(n,s,a){var l=Jt();Va(n,s,a,l)}function Va(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ql(n))Tv(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,Kt(T,v))return xl(n,s,f,0),Le===null&&El(),!1}catch{}if(a=bf(n,s,f,l),a!==null)return Pt(a,n,l),Ev(a,s,l),!0}return!1}function ih(n,s,a,l){if(l={lane:2,revertLane:Lh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ql(n)){if(s)throw Error(r(479))}else s=bf(n,a,l,2),s!==null&&Pt(s,n,2)}function ql(n){var s=n.alternate;return n===ce||s!==null&&s===ce}function Tv(n,s){vr=Ul=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Ev(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Rg(n,a)}}var Ba={readContext:yt,use:Vl,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Ba.useEffectEvent=Ke;var xv={readContext:yt,use:Vl,useCallback:function(n,s){return wt().memoizedState=[n,s===void 0?null:s],n},useContext:yt,useEffect:ov,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Hl(4194308,4,fv.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Hl(4194308,4,n,s)},useInsertionEffect:function(n,s){Hl(4,2,n,s)},useMemo:function(n,s){var a=wt();s=s===void 0?null:s;var l=n();if(ws){Ti(!0);try{n()}finally{Ti(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=wt();if(a!==void 0){var f=a(s);if(ws){Ti(!0);try{a(s)}finally{Ti(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Zw.bind(null,ce,n),[l.memoizedState,n]},useRef:function(n){var s=wt();return n={current:n},s.memoizedState=n},useState:function(n){n=Qf(n);var s=n.queue,a=Sv.bind(null,ce,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(n,s){var a=wt();return eh(a,n,s)},useTransition:function(){var n=Qf(!1);return n=gv.bind(null,ce,n.queue,!0,!1),wt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=ce,f=wt();if(Se){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Le===null)throw Error(r(349));(_e&127)!==0||Gy(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,ov(Ky.bind(null,l,d,n),[n]),l.flags|=2048,br(9,{destroy:void 0},Yy.bind(null,l,d,a,s),null),a},useId:function(){var n=wt(),s=Le.identifierPrefix;if(Se){var a=On,l=Mn;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Pl++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Gw++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:nh,useFormState:nv,useActionState:nv,useOptimistic:function(n){var s=wt();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=ih.bind(null,ce,!0,a),a.dispatch=s,[n,s]},useMemoCache:Kf,useCacheRefresh:function(){return wt().memoizedState=$w.bind(null,ce)},useEffectEvent:function(n){var s=wt(),a={impl:n};return s.memoizedState=a,function(){if((we&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},sh={readContext:yt,use:Vl,useCallback:dv,useContext:yt,useEffect:Zf,useImperativeHandle:hv,useInsertionEffect:uv,useLayoutEffect:cv,useMemo:mv,useReducer:Bl,useRef:av,useState:function(){return Bl(Xn)},useDebugValue:Jf,useDeferredValue:function(n,s){var a=et();return pv(a,Me.memoizedState,n,s)},useTransition:function(){var n=Bl(Xn)[0],s=et().memoizedState;return[typeof n=="boolean"?n:za(n),s]},useSyncExternalStore:qy,useId:_v,useHostTransitionStatus:nh,useFormState:iv,useActionState:iv,useOptimistic:function(n,s){var a=et();return Qy(a,Me,n,s)},useMemoCache:Kf,useCacheRefresh:bv};sh.useEffectEvent=lv;var Cv={readContext:yt,use:Vl,useCallback:dv,useContext:yt,useEffect:Zf,useImperativeHandle:hv,useInsertionEffect:uv,useLayoutEffect:cv,useMemo:mv,useReducer:Xf,useRef:av,useState:function(){return Xf(Xn)},useDebugValue:Jf,useDeferredValue:function(n,s){var a=et();return Me===null?eh(a,n,s):pv(a,Me.memoizedState,n,s)},useTransition:function(){var n=Xf(Xn)[0],s=et().memoizedState;return[typeof n=="boolean"?n:za(n),s]},useSyncExternalStore:qy,useId:_v,useHostTransitionStatus:nh,useFormState:rv,useActionState:rv,useOptimistic:function(n,s){var a=et();return Me!==null?Qy(a,Me,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:bv};Cv.useEffectEvent=lv;function rh(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:y({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ah={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Jt(),f=Di(l);f.payload=s,a!=null&&(f.callback=a),s=Mi(n,f,l),s!==null&&(Pt(s,n,l),La(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Jt(),f=Di(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Mi(n,f,l),s!==null&&(Pt(s,n,l),La(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Jt(),l=Di(a);l.tag=2,s!=null&&(l.callback=s),s=Mi(n,l,a),s!==null&&(Pt(s,n,a),La(s,n,a))}};function wv(n,s,a,l,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):s.prototype&&s.prototype.isPureReactComponent?!Aa(a,l)||!Aa(f,d):!0}function Av(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&ah.enqueueReplaceState(s,s.state,null)}function As(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=y({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function Rv(n){Tl(n)}function Nv(n){console.error(n)}function Dv(n){Tl(n)}function Gl(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Mv(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function oh(n,s,a){return a=Di(a),a.tag=3,a.payload={element:null},a.callback=function(){Gl(n,s)},a}function Ov(n){return n=Di(n),n.tag=3,n}function Iv(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){Mv(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Mv(s,a,l),typeof f!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Jw(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&hr(s,a,f,!0),a=Xt.current,a!==null){switch(a.tag){case 31:case 13:return fn===null?iu():a.alternate===null&&We===0&&(We=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ol?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Oh(n,l,f)),!1;case 22:return a.flags|=65536,l===Ol?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Oh(n,l,f)),!1}throw Error(r(435,a.tag))}return Oh(n,l,f),iu(),!1}if(Se)return s=Xt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==wf&&(n=Error(r(422),{cause:l}),Da(on(n,a)))):(l!==wf&&(s=Error(r(423),{cause:l}),Da(on(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=on(l,a),f=oh(n.stateNode,l,f),Uf(n,f),We!==4&&(We=2)),!1;var d=Error(r(520),{cause:l});if(d=on(d,a),Xa===null?Xa=[d]:Xa.push(d),We!==4&&(We=2),s===null)return!0;l=on(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=oh(a.stateNode,l,n),Uf(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ui===null||!Ui.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ov(f),Iv(f,n,a,l),Uf(a,f),!1}a=a.return}while(a!==null);return!1}var lh=Error(r(461)),st=!1;function vt(n,s,a,l){s.child=n===null?Uy(s,null,a,l):Cs(s,n.child,a,l)}function kv(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ss(s),l=Ff(n,s,a,v,d,f),T=qf(),n!==null&&!st?(Gf(n,s,f),Qn(n,s,f)):(Se&&T&&xf(s),s.flags|=1,vt(n,s,l,f),s.child)}function Lv(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Sf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,jv(n,s,d,l,f)):(n=wl(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!gh(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Aa,a(v,l)&&n.ref===s.ref)return Qn(n,s,f)}return s.flags|=1,n=qn(d,l),n.ref=s.ref,n.return=s,s.child=n}function jv(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(Aa(d,l)&&n.ref===s.ref)if(st=!1,s.pendingProps=l=d,gh(n,f))(n.flags&131072)!==0&&(st=!0);else return s.lanes=n.lanes,Qn(n,s,f)}return uh(n,s,a,l,f)}function Uv(n,s,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return Pv(n,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Dl(s,d!==null?d.cachePool:null),d!==null?Vy(s,d):zf(),By(s);else return l=s.lanes=536870912,Pv(n,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Dl(s,d.cachePool),Vy(s,d),Ii(),s.memoizedState=null):(n!==null&&Dl(s,null),zf(),Ii());return vt(n,s,f,a),s.child}function Ha(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Pv(n,s,a,l,f){var d=If();return d=d===null?null:{parent:nt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&Dl(s,null),zf(),By(s),n!==null&&hr(n,s,l,!0),s.childLanes=f,null}function Yl(n,s){return s=Wl({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function zv(n,s,a){return Cs(s,n.child,null,a),n=Yl(s,s.pendingProps),n.flags|=2,Qt(s),s.memoizedState=null,n}function eA(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Se){if(l.mode==="hidden")return n=Yl(s,l),s.lanes=536870912,Ha(null,n);if(Bf(s),(n=Pe)?(n=$0(n,cn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ci!==null?{id:Mn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},a=Ty(n),a.return=s,s.child=a,gt=s,Pe=null)):n=null,n===null)throw Ai(s);return s.lanes=536870912,null}return Yl(s,l)}var d=n.memoizedState;if(d!==null){var v=d.dehydrated;if(Bf(s),f)if(s.flags&256)s.flags&=-257,s=zv(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(st||hr(n,s,a,!1),f=(a&n.childLanes)!==0,st||f){if(l=Le,l!==null&&(v=Ng(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,ys(n,v),Pt(l,n,v),lh;iu(),s=zv(n,s,a)}else n=d.treeContext,Pe=hn(v.nextSibling),gt=s,Se=!0,wi=null,cn=!1,n!==null&&Cy(s,n),s=Yl(s,l),s.flags|=4096;return s}return n=qn(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Kl(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function uh(n,s,a,l,f){return Ss(s),a=Ff(n,s,a,l,void 0,f),l=qf(),n!==null&&!st?(Gf(n,s,f),Qn(n,s,f)):(Se&&l&&xf(s),s.flags|=1,vt(n,s,a,f),s.child)}function Vv(n,s,a,l,f,d){return Ss(s),s.updateQueue=null,a=Fy(s,l,a,f),Hy(n),l=qf(),n!==null&&!st?(Gf(n,s,d),Qn(n,s,d)):(Se&&l&&xf(s),s.flags|=1,vt(n,s,a,d),s.child)}function Bv(n,s,a,l,f){if(Ss(s),s.stateNode===null){var d=lr,v=a.contextType;typeof v=="object"&&v!==null&&(d=yt(v)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ah,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Lf(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?yt(v):lr,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(rh(s,a,v,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ah.enqueueReplaceState(d,d.state,null),Ua(s,l,d,f),ja(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var T=s.memoizedProps,x=As(a,T);d.props=x;var I=d.context,P=a.contextType;v=lr,typeof P=="object"&&P!==null&&(v=yt(P));var B=a.getDerivedStateFromProps;P=typeof B=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||I!==v)&&Av(s,d,l,v),Ni=!1;var k=s.memoizedState;d.state=k,Ua(s,l,d,f),ja(),I=s.memoizedState,T||k!==I||Ni?(typeof B=="function"&&(rh(s,a,B,l),I=s.memoizedState),(x=Ni||wv(s,a,x,l,k,I,v))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=I),d.props=l,d.state=I,d.context=v,l=x):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,jf(n,s),v=s.memoizedProps,P=As(a,v),d.props=P,B=s.pendingProps,k=d.context,I=a.contextType,x=lr,typeof I=="object"&&I!==null&&(x=yt(I)),T=a.getDerivedStateFromProps,(I=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==B||k!==x)&&Av(s,d,l,x),Ni=!1,k=s.memoizedState,d.state=k,Ua(s,l,d,f),ja();var j=s.memoizedState;v!==B||k!==j||Ni||n!==null&&n.dependencies!==null&&Rl(n.dependencies)?(typeof T=="function"&&(rh(s,a,T,l),j=s.memoizedState),(P=Ni||wv(s,a,P,l,k,j,x)||n!==null&&n.dependencies!==null&&Rl(n.dependencies))?(I||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,x)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&k===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&k===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=j),d.props=l,d.state=j,d.context=x,l=P):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&k===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&k===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Kl(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=Cs(s,n.child,null,f),s.child=Cs(s,null,a,f)):vt(n,s,a,f),s.memoizedState=d.state,n=s.child):n=Qn(n,s,f),n}function Hv(n,s,a,l){return _s(),s.flags|=256,vt(n,s,a,l),s.child}var ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fh(n){return{baseLanes:n,cachePool:My()}}function hh(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Zt),n}function Fv(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(Je.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,n===null){if(Se){if(f?Oi(s):Ii(),(n=Pe)?(n=$0(n,cn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ci!==null?{id:Mn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},a=Ty(n),a.return=s,s.child=a,gt=s,Pe=null)):n=null,n===null)throw Ai(s);return Wh(n)?s.lanes=32:s.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(Ii(),f=s.mode,T=Wl({mode:"hidden",children:T},f),l=vs(l,f,a,null),T.return=s,l.return=s,T.sibling=l,s.child=T,l=s.child,l.memoizedState=fh(a),l.childLanes=hh(n,v,a),s.memoizedState=ch,Ha(null,l)):(Oi(s),dh(s,T))}var x=n.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(d)s.flags&256?(Oi(s),s.flags&=-257,s=mh(n,s,a)):s.memoizedState!==null?(Ii(),s.child=n.child,s.flags|=128,s=null):(Ii(),T=l.fallback,f=s.mode,l=Wl({mode:"visible",children:l.children},f),T=vs(T,f,a,null),T.flags|=2,l.return=s,T.return=s,l.sibling=T,s.child=l,Cs(s,n.child,null,a),l=s.child,l.memoizedState=fh(a),l.childLanes=hh(n,v,a),s.memoizedState=ch,s=Ha(null,l));else if(Oi(s),Wh(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var I=v.dgst;v=I,l=Error(r(419)),l.stack="",l.digest=v,Da({value:l,source:null,stack:null}),s=mh(n,s,a)}else if(st||hr(n,s,a,!1),v=(a&n.childLanes)!==0,st||v){if(v=Le,v!==null&&(l=Ng(v,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,ys(n,l),Pt(v,n,l),lh;Kh(T)||iu(),s=mh(n,s,a)}else Kh(T)?(s.flags|=192,s.child=n.child,s=null):(n=x.treeContext,Pe=hn(T.nextSibling),gt=s,Se=!0,wi=null,cn=!1,n!==null&&Cy(s,n),s=dh(s,l.children),s.flags|=4096);return s}return f?(Ii(),T=l.fallback,f=s.mode,x=n.child,I=x.sibling,l=qn(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,I!==null?T=qn(I,T):(T=vs(T,f,a,null),T.flags|=2),T.return=s,l.return=s,l.sibling=T,s.child=l,Ha(null,l),l=s.child,T=n.child.memoizedState,T===null?T=fh(a):(f=T.cachePool,f!==null?(x=nt._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=My(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=hh(n,v,a),s.memoizedState=ch,Ha(n.child,l)):(Oi(s),a=n.child,n=a.sibling,a=qn(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(v=s.deletions,v===null?(s.deletions=[n],s.flags|=16):v.push(n)),s.child=a,s.memoizedState=null,a)}function dh(n,s){return s=Wl({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Wl(n,s){return n=Wt(22,n,null,s),n.lanes=0,n}function mh(n,s,a){return Cs(s,n.child,null,a),n=dh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function qv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Nf(n.return,s,a)}function ph(n,s,a,l,f,d){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function Gv(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=Je.current,T=(v&2)!==0;if(T?(v=v&1|2,s.flags|=128):v&=1,K(Je,v),vt(n,s,l,a),l=Se?Na:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qv(n,a,s);else if(n.tag===19)qv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&jl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),ph(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&jl(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}ph(s,!0,a,null,d,l);break;case"together":ph(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Qn(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),ji|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(hr(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=qn(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=qn(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function gh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Rl(n)))}function tA(n,s,a){switch(s.tag){case 3:Ct(s,s.stateNode.containerInfo),Ri(s,nt,n.memoizedState.cache),_s();break;case 27:case 5:ma(s);break;case 4:Ct(s,s.stateNode.containerInfo);break;case 10:Ri(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Bf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Oi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Fv(n,s,a):(Oi(s),n=Qn(n,s,a),n!==null?n.sibling:null);Oi(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(hr(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Gv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(Je,Je.current),l)break;return null;case 22:return s.lanes=0,Uv(n,s,a,s.pendingProps);case 24:Ri(s,nt,n.memoizedState.cache)}return Qn(n,s,a)}function Yv(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)st=!0;else{if(!gh(n,a)&&(s.flags&128)===0)return st=!1,tA(n,s,a);st=(n.flags&131072)!==0}else st=!1,Se&&(s.flags&1048576)!==0&&xy(s,Na,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(n=Es(s.elementType),s.type=n,typeof n=="function")Sf(n)?(l=As(n,l),s.tag=1,s=Bv(null,s,n,l,a)):(s.tag=0,s=uh(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===G){s.tag=11,s=kv(null,s,n,l,a);break e}else if(f===X){s.tag=14,s=Lv(null,s,n,l,a);break e}}throw s=nn(n)||n,Error(r(306,s,""))}}return s;case 0:return uh(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=As(l,s.pendingProps),Bv(n,s,l,f,a);case 3:e:{if(Ct(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,jf(n,s),Ua(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Ri(s,nt,l),l!==d.cache&&Df(s,[nt],a,!0),ja(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Hv(n,s,l,a);break e}else if(l!==f){f=on(Error(r(424)),s),Da(f),s=Hv(n,s,l,a);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Pe=hn(n.firstChild),gt=s,Se=!0,wi=null,cn=!0,a=Uy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(_s(),l===f){s=Qn(n,s,a);break e}vt(n,s,l,a)}s=s.child}return s;case 26:return Kl(n,s),n===null?(a=i_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Se||(a=s.type,n=s.pendingProps,l=cu(me.current).createElement(a),l[pt]=s,l[Ot]=n,_t(l,a,n),ct(l),s.stateNode=l):s.memoizedState=i_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ma(s),n===null&&Se&&(l=s.stateNode=e_(s.type,s.pendingProps,me.current),gt=s,cn=!0,f=Pe,Bi(s.type)?(Xh=f,Pe=hn(l.firstChild)):Pe=f),vt(n,s,s.pendingProps.children,a),Kl(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Se&&((f=l=Pe)&&(l=MA(l,s.type,s.pendingProps,cn),l!==null?(s.stateNode=l,gt=s,Pe=hn(l.firstChild),cn=!1,f=!0):f=!1),f||Ai(s)),ma(s),f=s.type,d=s.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,qh(f,d)?l=null:v!==null&&qh(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=Ff(n,s,Yw,null,null,a),io._currentValue=f),Kl(n,s),vt(n,s,l,a),s.child;case 6:return n===null&&Se&&((n=a=Pe)&&(a=OA(a,s.pendingProps,cn),a!==null?(s.stateNode=a,gt=s,Pe=null,n=!0):n=!1),n||Ai(s)),null;case 13:return Fv(n,s,a);case 4:return Ct(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Cs(s,null,l,a):vt(n,s,l,a),s.child;case 11:return kv(n,s,s.type,s.pendingProps,a);case 7:return vt(n,s,s.pendingProps,a),s.child;case 8:return vt(n,s,s.pendingProps.children,a),s.child;case 12:return vt(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ri(s,s.type,l.value),vt(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ss(s),f=yt(f),l=l(f),s.flags|=1,vt(n,s,l,a),s.child;case 14:return Lv(n,s,s.type,s.pendingProps,a);case 15:return jv(n,s,s.type,s.pendingProps,a);case 19:return Gv(n,s,a);case 31:return eA(n,s,a);case 22:return Uv(n,s,a,s.pendingProps);case 24:return Ss(s),l=yt(nt),n===null?(f=If(),f===null&&(f=Le,d=Mf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Lf(s),Ri(s,nt,f)):((n.lanes&a)!==0&&(jf(n,s),Ua(s,null,null,a),ja()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ri(s,nt,l)):(l=d.cache,Ri(s,nt,l),l!==f.cache&&Df(s,[nt],a,!0))),vt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function $n(n){n.flags|=4}function yh(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(_0())n.flags|=8192;else throw xs=Ol,kf}else n.flags&=-16777217}function Kv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!l_(s))if(_0())n.flags|=8192;else throw xs=Ol,kf}function Xl(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?wg():536870912,n.lanes|=s,xr|=s)}function Fa(n,s){if(!Se)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ze(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function nA(n,s,a){var l=s.pendingProps;switch(Cf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(s),null;case 1:return ze(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Kn(nt),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(fr(s)?$n(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Af())),ze(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?($n(s),d!==null?(ze(s),Kv(s,d)):(ze(s),yh(s,f,null,l,a))):d?d!==n.memoizedState?($n(s),ze(s),Kv(s,d)):(ze(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&$n(s),ze(s),yh(s,f,n,l,a)),null;case 27:if(al(s),a=me.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&$n(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ze(s),null}n=Z.current,fr(s)?wy(s):(n=e_(f,l,a),s.stateNode=n,$n(s))}return ze(s),null;case 5:if(al(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&$n(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ze(s),null}if(d=Z.current,fr(s))wy(s);else{var v=cu(me.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[pt]=s,d[Ot]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;e:switch(_t(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$n(s)}}return ze(s),yh(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&$n(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=me.current,fr(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=gt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[pt]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||F0(n.nodeValue,a)),n||Ai(s,!0)}else n=cu(n).createTextNode(l),n[pt]=s,s.stateNode=n}return ze(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=fr(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[pt]=s}else _s(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ze(s),n=!1}else a=Af(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Qt(s),s):(Qt(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ze(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=fr(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[pt]=s}else _s(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ze(s),f=!1}else f=Af(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Qt(s),s):(Qt(s),null)}return Qt(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Xl(s,s.updateQueue),ze(s),null);case 4:return Ze(),n===null&&zh(s.stateNode.containerInfo),ze(s),null;case 10:return Kn(s.type),ze(s),null;case 19:if(H(Je),l=s.memoizedState,l===null)return ze(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Fa(l,!1);else{if(We!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=jl(n),d!==null){for(s.flags|=128,Fa(l,!1),n=d.updateQueue,s.updateQueue=n,Xl(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Sy(a,n),a=a.sibling;return K(Je,Je.current&1|2),Se&&Gn(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&qt()>eu&&(s.flags|=128,f=!0,Fa(l,!1),s.lanes=4194304)}else{if(!f)if(n=jl(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Xl(s,n),Fa(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Se)return ze(s),null}else 2*qt()-l.renderingStartTime>eu&&a!==536870912&&(s.flags|=128,f=!0,Fa(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(n=l.last,n!==null?n.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=qt(),n.sibling=null,a=Je.current,K(Je,f?a&1|2:a&1),Se&&Gn(s,l.treeForkCount),n):(ze(s),null);case 22:case 23:return Qt(s),Vf(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ze(s),s.subtreeFlags&6&&(s.flags|=8192)):ze(s),a=s.updateQueue,a!==null&&Xl(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&H(Ts),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Kn(nt),ze(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function iA(n,s){switch(Cf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Kn(nt),Ze(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return al(s),null;case 31:if(s.memoizedState!==null){if(Qt(s),s.alternate===null)throw Error(r(340));_s()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Qt(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_s()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return H(Je),null;case 4:return Ze(),null;case 10:return Kn(s.type),null;case 22:case 23:return Qt(s),Vf(),n!==null&&H(Ts),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Kn(nt),null;case 25:return null;default:return null}}function Wv(n,s){switch(Cf(s),s.tag){case 3:Kn(nt),Ze();break;case 26:case 27:case 5:al(s);break;case 4:Ze();break;case 31:s.memoizedState!==null&&Qt(s);break;case 13:Qt(s);break;case 19:H(Je);break;case 10:Kn(s.type);break;case 22:case 23:Qt(s),Vf(),n!==null&&H(Ts);break;case 24:Kn(nt)}}function qa(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){De(s,s.return,T)}}function ki(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=s;var x=a,I=T;try{I()}catch(P){De(f,x,P)}}}l=l.next}while(l!==d)}}catch(P){De(s,s.return,P)}}function Xv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{zy(s,a)}catch(l){De(n,n.return,l)}}}function Qv(n,s,a){a.props=As(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){De(n,s,l)}}function Ga(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){De(n,s,f)}}function In(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){De(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){De(n,s,f)}else a.current=null}function $v(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){De(n,n.return,f)}}function vh(n,s,a){try{var l=n.stateNode;CA(l,n.type,a,s),l[Ot]=s}catch(f){De(n,n.return,f)}}function Zv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Bi(n.type)||n.tag===4}function _h(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Zv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Bi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bh(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Hn));else if(l!==4&&(l===27&&Bi(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(bh(n,s,a),n=n.sibling;n!==null;)bh(n,s,a),n=n.sibling}function Ql(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Bi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Ql(n,s,a),n=n.sibling;n!==null;)Ql(n,s,a),n=n.sibling}function Jv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);_t(s,l,a),s[pt]=n,s[Ot]=a}catch(d){De(n,n.return,d)}}var Zn=!1,rt=!1,Sh=!1,e0=typeof WeakSet=="function"?WeakSet:Set,ft=null;function sA(n,s){if(n=n.containerInfo,Hh=yu,n=hy(n),mf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,x=-1,I=0,P=0,B=n,k=null;t:for(;;){for(var j;B!==a||f!==0&&B.nodeType!==3||(T=v+f),B!==d||l!==0&&B.nodeType!==3||(x=v+l),B.nodeType===3&&(v+=B.nodeValue.length),(j=B.firstChild)!==null;)k=B,B=j;for(;;){if(B===n)break t;if(k===a&&++I===f&&(T=v),k===d&&++P===l&&(x=v),(j=B.nextSibling)!==null)break;B=k,k=B.parentNode}B=j}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fh={focusedElem:n,selectionRange:a},yu=!1,ft=s;ft!==null;)if(s=ft,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ft=n;else for(;ft!==null;){switch(s=ft,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Q=As(a.type,f);n=l.getSnapshotBeforeUpdate(Q,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ie){De(a,a.return,ie)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Yh(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Yh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,ft=n;break}ft=s.return}}function t0(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ei(n,a),l&4&&qa(5,a);break;case 1:if(ei(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(v){De(a,a.return,v)}else{var f=As(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(v){De(a,a.return,v)}}l&64&&Xv(a),l&512&&Ga(a,a.return);break;case 3:if(ei(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{zy(n,s)}catch(v){De(a,a.return,v)}}break;case 27:s===null&&l&4&&Jv(a);case 26:case 5:ei(n,a),s===null&&l&4&&$v(a),l&512&&Ga(a,a.return);break;case 12:ei(n,a);break;case 31:ei(n,a),l&4&&s0(n,a);break;case 13:ei(n,a),l&4&&r0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=dA.bind(null,a),IA(n,a))));break;case 22:if(l=a.memoizedState!==null||Zn,!l){s=s!==null&&s.memoizedState!==null||rt,f=Zn;var d=rt;Zn=l,(rt=s)&&!d?ti(n,a,(a.subtreeFlags&8772)!==0):ei(n,a),Zn=f,rt=d}break;case 30:break;default:ei(n,a)}}function n0(n){var s=n.alternate;s!==null&&(n.alternate=null,n0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Qc(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var He=null,kt=!1;function Jn(n,s,a){for(a=a.child;a!==null;)i0(n,s,a),a=a.sibling}function i0(n,s,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(pa,a)}catch{}switch(a.tag){case 26:rt||In(a,s),Jn(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||In(a,s);var l=He,f=kt;Bi(a.type)&&(He=a.stateNode,kt=!1),Jn(n,s,a),eo(a.stateNode),He=l,kt=f;break;case 5:rt||In(a,s);case 6:if(l=He,f=kt,He=null,Jn(n,s,a),He=l,kt=f,He!==null)if(kt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(d){De(a,s,d)}else try{He.removeChild(a.stateNode)}catch(d){De(a,s,d)}break;case 18:He!==null&&(kt?(n=He,X0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Or(n)):X0(He,a.stateNode));break;case 4:l=He,f=kt,He=a.stateNode.containerInfo,kt=!0,Jn(n,s,a),He=l,kt=f;break;case 0:case 11:case 14:case 15:ki(2,a,s),rt||ki(4,a,s),Jn(n,s,a);break;case 1:rt||(In(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Qv(a,s,l)),Jn(n,s,a);break;case 21:Jn(n,s,a);break;case 22:rt=(l=rt)||a.memoizedState!==null,Jn(n,s,a),rt=l;break;default:Jn(n,s,a)}}function s0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Or(n)}catch(a){De(s,s.return,a)}}}function r0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Or(n)}catch(a){De(s,s.return,a)}}function rA(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new e0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new e0),s;default:throw Error(r(435,n.tag))}}function $l(n,s){var a=rA(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=mA.bind(null,n,l);l.then(f,f)}})}function Lt(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,v=s,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Bi(T.type)){He=T.stateNode,kt=!1;break e}break;case 5:He=T.stateNode,kt=!1;break e;case 3:case 4:He=T.stateNode.containerInfo,kt=!0;break e}T=T.return}if(He===null)throw Error(r(160));i0(d,v,f),He=null,kt=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)a0(s,n),s=s.sibling}var _n=null;function a0(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Lt(s,n),jt(n),l&4&&(ki(3,n,n.return),qa(3,n),ki(5,n,n.return));break;case 1:Lt(s,n),jt(n),l&512&&(rt||a===null||In(a,a.return)),l&64&&Zn&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=_n;if(Lt(s,n),jt(n),l&512&&(rt||a===null||In(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[va]||d[pt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),_t(d,l,a),d[pt]=n,ct(d),l=d;break e;case"link":var v=a_("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=f.createElement(l),_t(d,l,a),f.head.appendChild(d);break;case"meta":if(v=a_("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=f.createElement(l),_t(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[pt]=n,ct(d),l=d}n.stateNode=l}else o_(f,n.type,n.stateNode);else n.stateNode=r_(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?o_(f,n.type,n.stateNode):r_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&vh(n,n.memoizedProps,a.memoizedProps)}break;case 27:Lt(s,n),jt(n),l&512&&(rt||a===null||In(a,a.return)),a!==null&&l&4&&vh(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Lt(s,n),jt(n),l&512&&(rt||a===null||In(a,a.return)),n.flags&32){f=n.stateNode;try{tr(f,"")}catch(Q){De(n,n.return,Q)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,vh(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Sh=!0);break;case 6:if(Lt(s,n),jt(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Q){De(n,n.return,Q)}}break;case 3:if(du=null,f=_n,_n=fu(s.containerInfo),Lt(s,n),_n=f,jt(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Or(s.containerInfo)}catch(Q){De(n,n.return,Q)}Sh&&(Sh=!1,o0(n));break;case 4:l=_n,_n=fu(n.stateNode.containerInfo),Lt(s,n),jt(n),_n=l;break;case 12:Lt(s,n),jt(n);break;case 31:Lt(s,n),jt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$l(n,l)));break;case 13:Lt(s,n),jt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jl=qt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$l(n,l)));break;case 22:f=n.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,I=Zn,P=rt;if(Zn=I||f,rt=P||x,Lt(s,n),rt=P,Zn=I,jt(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||x||Zn||rt||Rs(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){x=a=s;try{if(d=x.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=x.stateNode;var B=x.memoizedProps.style,k=B!=null&&B.hasOwnProperty("display")?B.display:null;T.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(Q){De(x,x.return,Q)}}}else if(s.tag===6){if(a===null){x=s;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(Q){De(x,x.return,Q)}}}else if(s.tag===18){if(a===null){x=s;try{var j=x.stateNode;f?Q0(j,!0):Q0(x.stateNode,!1)}catch(Q){De(x,x.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$l(n,a))));break;case 19:Lt(s,n),jt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$l(n,l)));break;case 30:break;case 21:break;default:Lt(s,n),jt(n)}}function jt(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(Zv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=_h(n);Ql(n,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(tr(v,""),a.flags&=-33);var T=_h(n);Ql(n,T,v);break;case 3:case 4:var x=a.stateNode.containerInfo,I=_h(n);bh(n,I,x);break;default:throw Error(r(161))}}catch(P){De(n,n.return,P)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function o0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;o0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function ei(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)t0(n,s.alternate,s),s=s.sibling}function Rs(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ki(4,s,s.return),Rs(s);break;case 1:In(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Qv(s,s.return,a),Rs(s);break;case 27:eo(s.stateNode);case 26:case 5:In(s,s.return),Rs(s);break;case 22:s.memoizedState===null&&Rs(s);break;case 30:Rs(s);break;default:Rs(s)}n=n.sibling}}function ti(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:ti(f,d,a),qa(4,d);break;case 1:if(ti(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){De(l,l.return,I)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Py(x[f],T)}catch(I){De(l,l.return,I)}}a&&v&64&&Xv(d),Ga(d,d.return);break;case 27:Jv(d);case 26:case 5:ti(f,d,a),a&&l===null&&v&4&&$v(d),Ga(d,d.return);break;case 12:ti(f,d,a);break;case 31:ti(f,d,a),a&&v&4&&s0(f,d);break;case 13:ti(f,d,a),a&&v&4&&r0(f,d);break;case 22:d.memoizedState===null&&ti(f,d,a),Ga(d,d.return);break;case 30:break;default:ti(f,d,a)}s=s.sibling}}function Th(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ma(a))}function Eh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ma(n))}function bn(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)l0(n,s,a,l),s=s.sibling}function l0(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:bn(n,s,a,l),f&2048&&qa(9,s);break;case 1:bn(n,s,a,l);break;case 3:bn(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ma(n)));break;case 12:if(f&2048){bn(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){De(s,s.return,x)}}else bn(n,s,a,l);break;case 31:bn(n,s,a,l);break;case 13:bn(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?bn(n,s,a,l):Ya(n,s):d._visibility&2?bn(n,s,a,l):(d._visibility|=2,Sr(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Th(v,s);break;case 24:bn(n,s,a,l),f&2048&&Eh(s.alternate,s);break;default:bn(n,s,a,l)}}function Sr(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,v=s,T=a,x=l,I=v.flags;switch(v.tag){case 0:case 11:case 15:Sr(d,v,T,x,f),qa(8,v);break;case 23:break;case 22:var P=v.stateNode;v.memoizedState!==null?P._visibility&2?Sr(d,v,T,x,f):Ya(d,v):(P._visibility|=2,Sr(d,v,T,x,f)),f&&I&2048&&Th(v.alternate,v);break;case 24:Sr(d,v,T,x,f),f&&I&2048&&Eh(v.alternate,v);break;default:Sr(d,v,T,x,f)}s=s.sibling}}function Ya(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Ya(a,l),f&2048&&Th(l.alternate,l);break;case 24:Ya(a,l),f&2048&&Eh(l.alternate,l);break;default:Ya(a,l)}s=s.sibling}}var Ka=8192;function Tr(n,s,a){if(n.subtreeFlags&Ka)for(n=n.child;n!==null;)u0(n,s,a),n=n.sibling}function u0(n,s,a){switch(n.tag){case 26:Tr(n,s,a),n.flags&Ka&&n.memoizedState!==null&&GA(a,_n,n.memoizedState,n.memoizedProps);break;case 5:Tr(n,s,a);break;case 3:case 4:var l=_n;_n=fu(n.stateNode.containerInfo),Tr(n,s,a),_n=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Ka,Ka=16777216,Tr(n,s,a),Ka=l):Tr(n,s,a));break;default:Tr(n,s,a)}}function c0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Wa(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ft=l,h0(l,n)}c0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)f0(n),n=n.sibling}function f0(n){switch(n.tag){case 0:case 11:case 15:Wa(n),n.flags&2048&&ki(9,n,n.return);break;case 3:Wa(n);break;case 12:Wa(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Zl(n)):Wa(n);break;default:Wa(n)}}function Zl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ft=l,h0(l,n)}c0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ki(8,s,s.return),Zl(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Zl(s));break;default:Zl(s)}n=n.sibling}}function h0(n,s){for(;ft!==null;){var a=ft;switch(a.tag){case 0:case 11:case 15:ki(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ma(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ft=l;else e:for(a=n;ft!==null;){l=ft;var f=l.sibling,d=l.return;if(n0(l),l===a){ft=null;break e}if(f!==null){f.return=d,ft=f;break e}ft=d}}}var aA={getCacheForType:function(n){var s=yt(nt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return yt(nt).controller.signal}},oA=typeof WeakMap=="function"?WeakMap:Map,we=0,Le=null,pe=null,_e=0,Ne=0,$t=null,Li=!1,Er=!1,xh=!1,ni=0,We=0,ji=0,Ns=0,Ch=0,Zt=0,xr=0,Xa=null,Ut=null,wh=!1,Jl=0,d0=0,eu=1/0,tu=null,Ui=null,ot=0,Pi=null,Cr=null,ii=0,Ah=0,Rh=null,m0=null,Qa=0,Nh=null;function Jt(){return(we&2)!==0&&_e!==0?_e&-_e:z.T!==null?Lh():Dg()}function p0(){if(Zt===0)if((_e&536870912)===0||Se){var n=ul;ul<<=1,(ul&3932160)===0&&(ul=262144),Zt=n}else Zt=536870912;return n=Xt.current,n!==null&&(n.flags|=32),Zt}function Pt(n,s,a){(n===Le&&(Ne===2||Ne===9)||n.cancelPendingCommit!==null)&&(wr(n,0),zi(n,_e,Zt,!1)),ya(n,a),((we&2)===0||n!==Le)&&(n===Le&&((we&2)===0&&(Ns|=a),We===4&&zi(n,_e,Zt,!1)),kn(n))}function g0(n,s,a){if((we&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||ga(n,s),f=l?cA(n,s):Mh(n,s,!0),d=l;do{if(f===0){Er&&!l&&zi(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!lA(a)){f=Mh(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var T=n;f=Xa;var x=T.current.memoizedState.isDehydrated;if(x&&(wr(T,v).flags|=256),v=Mh(T,v,!1),v!==2){if(xh&&!x){T.errorRecoveryDisabledLanes|=d,Ns|=d,f=4;break e}d=Ut,Ut=f,d!==null&&(Ut===null?Ut=d:Ut.push.apply(Ut,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){wr(n,0),zi(n,s,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:zi(l,s,Zt,!Li);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Jl+300-qt(),10<f)){if(zi(l,s,Zt,!Li),fl(l,0,!0)!==0)break e;ii=s,l.timeoutHandle=K0(y0.bind(null,l,a,Ut,tu,wh,s,Zt,Ns,xr,Li,d,"Throttled",-0,0),f);break e}y0(l,a,Ut,tu,wh,s,Zt,Ns,xr,Li,d,null,-0,0)}}break}while(!0);kn(n)}function y0(n,s,a,l,f,d,v,T,x,I,P,B,k,j){if(n.timeoutHandle=-1,B=s.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},u0(s,d,B);var Q=(d&62914560)===d?Jl-qt():(d&4194048)===d?d0-qt():0;if(Q=YA(B,Q),Q!==null){ii=d,n.cancelPendingCommit=Q(C0.bind(null,n,s,d,a,l,f,v,T,x,P,B,null,k,j)),zi(n,d,v,!I);return}}C0(n,s,d,a,l,f,v,T,x)}function lA(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Kt(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zi(n,s,a,l){s&=~Ch,s&=~Ns,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-Yt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Ag(n,a,s)}function nu(){return(we&6)===0?($a(0),!1):!0}function Dh(){if(pe!==null){if(Ne===0)var n=pe.return;else n=pe,Yn=bs=null,Yf(n),gr=null,Ia=0,n=pe;for(;n!==null;)Wv(n.alternate,n),n=n.return;pe=null}}function wr(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,RA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),ii=0,Dh(),Le=n,pe=a=qn(n.current,null),_e=s,Ne=0,$t=null,Li=!1,Er=ga(n,s),xh=!1,xr=Zt=Ch=Ns=ji=We=0,Ut=Xa=null,wh=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-Yt(l),d=1<<f;s|=n[f],l&=~d}return ni=s,El(),a}function v0(n,s){ce=null,z.H=Ba,s===pr||s===Ml?(s=ky(),Ne=3):s===kf?(s=ky(),Ne=4):Ne=s===lh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$t=s,pe===null&&(We=1,Gl(n,on(s,n.current)))}function _0(){var n=Xt.current;return n===null?!0:(_e&4194048)===_e?fn===null:(_e&62914560)===_e||(_e&536870912)!==0?n===fn:!1}function b0(){var n=z.H;return z.H=Ba,n===null?Ba:n}function S0(){var n=z.A;return z.A=aA,n}function iu(){We=4,Li||(_e&4194048)!==_e&&Xt.current!==null||(Er=!0),(ji&134217727)===0&&(Ns&134217727)===0||Le===null||zi(Le,_e,Zt,!1)}function Mh(n,s,a){var l=we;we|=2;var f=b0(),d=S0();(Le!==n||_e!==s)&&(tu=null,wr(n,s)),s=!1;var v=We;e:do try{if(Ne!==0&&pe!==null){var T=pe,x=$t;switch(Ne){case 8:Dh(),v=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(s=!0);var I=Ne;if(Ne=0,$t=null,Ar(n,T,x,I),a&&Er){v=0;break e}break;default:I=Ne,Ne=0,$t=null,Ar(n,T,x,I)}}uA(),v=We;break}catch(P){v0(n,P)}while(!0);return s&&n.shellSuspendCounter++,Yn=bs=null,we=l,z.H=f,z.A=d,pe===null&&(Le=null,_e=0,El()),v}function uA(){for(;pe!==null;)T0(pe)}function cA(n,s){var a=we;we|=2;var l=b0(),f=S0();Le!==n||_e!==s?(tu=null,eu=qt()+500,wr(n,s)):Er=ga(n,s);e:do try{if(Ne!==0&&pe!==null){s=pe;var d=$t;t:switch(Ne){case 1:Ne=0,$t=null,Ar(n,s,d,1);break;case 2:case 9:if(Oy(d)){Ne=0,$t=null,E0(s);break}s=function(){Ne!==2&&Ne!==9||Le!==n||(Ne=7),kn(n)},d.then(s,s);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Oy(d)?(Ne=0,$t=null,E0(s)):(Ne=0,$t=null,Ar(n,s,d,7));break;case 5:var v=null;switch(pe.tag){case 26:v=pe.memoizedState;case 5:case 27:var T=pe;if(v?l_(v):T.stateNode.complete){Ne=0,$t=null;var x=T.sibling;if(x!==null)pe=x;else{var I=T.return;I!==null?(pe=I,su(I)):pe=null}break t}}Ne=0,$t=null,Ar(n,s,d,5);break;case 6:Ne=0,$t=null,Ar(n,s,d,6);break;case 8:Dh(),We=6;break e;default:throw Error(r(462))}}fA();break}catch(P){v0(n,P)}while(!0);return Yn=bs=null,z.H=l,z.A=f,we=a,pe!==null?0:(Le=null,_e=0,El(),We)}function fA(){for(;pe!==null&&!kC();)T0(pe)}function T0(n){var s=Yv(n.alternate,n,ni);n.memoizedProps=n.pendingProps,s===null?su(n):pe=s}function E0(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Vv(a,s,s.pendingProps,s.type,void 0,_e);break;case 11:s=Vv(a,s,s.pendingProps,s.type.render,s.ref,_e);break;case 5:Yf(s);default:Wv(a,s),s=pe=Sy(s,ni),s=Yv(a,s,ni)}n.memoizedProps=n.pendingProps,s===null?su(n):pe=s}function Ar(n,s,a,l){Yn=bs=null,Yf(s),gr=null,Ia=0;var f=s.return;try{if(Jw(n,f,s,a,_e)){We=1,Gl(n,on(a,n.current)),pe=null;return}}catch(d){if(f!==null)throw pe=f,d;We=1,Gl(n,on(a,n.current)),pe=null;return}s.flags&32768?(Se||l===1?n=!0:Er||(_e&536870912)!==0?n=!1:(Li=n=!0,(l===2||l===9||l===3||l===6)&&(l=Xt.current,l!==null&&l.tag===13&&(l.flags|=16384))),x0(s,n)):su(s)}function su(n){var s=n;do{if((s.flags&32768)!==0){x0(s,Li);return}n=s.return;var a=nA(s.alternate,s,ni);if(a!==null){pe=a;return}if(s=s.sibling,s!==null){pe=s;return}pe=s=n}while(s!==null);We===0&&(We=5)}function x0(n,s){do{var a=iA(n.alternate,n);if(a!==null){a.flags&=32767,pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){pe=n;return}pe=n=a}while(n!==null);We=6,pe=null}function C0(n,s,a,l,f,d,v,T,x){n.cancelPendingCommit=null;do ru();while(ot!==0);if((we&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=_f,qC(n,a,d,v,T,x),n===Le&&(pe=Le=null,_e=0),Cr=s,Pi=n,ii=a,Ah=d,Rh=f,m0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,pA(ol,function(){return D0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,f=F.p,F.p=2,v=we,we|=4;try{sA(n,s,a)}finally{we=v,F.p=f,z.T=l}}ot=1,w0(),A0(),R0()}}function w0(){if(ot===1){ot=0;var n=Pi,s=Cr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=F.p;F.p=2;var f=we;we|=4;try{a0(s,n);var d=Fh,v=hy(n.containerInfo),T=d.focusedElem,x=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&fy(T.ownerDocument.documentElement,T)){if(x!==null&&mf(T)){var I=x.start,P=x.end;if(P===void 0&&(P=I),"selectionStart"in T)T.selectionStart=I,T.selectionEnd=Math.min(P,T.value.length);else{var B=T.ownerDocument||document,k=B&&B.defaultView||window;if(k.getSelection){var j=k.getSelection(),Q=T.textContent.length,ie=Math.min(x.start,Q),Ie=x.end===void 0?ie:Math.min(x.end,Q);!j.extend&&ie>Ie&&(v=Ie,Ie=ie,ie=v);var D=cy(T,ie),A=cy(T,Ie);if(D&&A&&(j.rangeCount!==1||j.anchorNode!==D.node||j.anchorOffset!==D.offset||j.focusNode!==A.node||j.focusOffset!==A.offset)){var O=B.createRange();O.setStart(D.node,D.offset),j.removeAllRanges(),ie>Ie?(j.addRange(O),j.extend(A.node,A.offset)):(O.setEnd(A.node,A.offset),j.addRange(O))}}}}for(B=[],j=T;j=j.parentNode;)j.nodeType===1&&B.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<B.length;T++){var V=B[T];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}yu=!!Hh,Fh=Hh=null}finally{we=f,F.p=l,z.T=a}}n.current=s,ot=2}}function A0(){if(ot===2){ot=0;var n=Pi,s=Cr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=F.p;F.p=2;var f=we;we|=4;try{t0(n,s.alternate,s)}finally{we=f,F.p=l,z.T=a}}ot=3}}function R0(){if(ot===4||ot===3){ot=0,LC();var n=Pi,s=Cr,a=ii,l=m0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ot=5:(ot=0,Cr=Pi=null,N0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ui=null),Wc(a),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(pa,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=z.T,f=F.p,F.p=2,z.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{z.T=s,F.p=f}}(ii&3)!==0&&ru(),kn(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===Nh?Qa++:(Qa=0,Nh=n):Qa=0,$a(0)}}function N0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ma(s)))}function ru(){return w0(),A0(),R0(),D0()}function D0(){if(ot!==5)return!1;var n=Pi,s=Ah;Ah=0;var a=Wc(ii),l=z.T,f=F.p;try{F.p=32>a?32:a,z.T=null,a=Rh,Rh=null;var d=Pi,v=ii;if(ot=0,Cr=Pi=null,ii=0,(we&6)!==0)throw Error(r(331));var T=we;if(we|=4,f0(d.current),l0(d,d.current,v,a),we=T,$a(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(pa,d)}catch{}return!0}finally{F.p=f,z.T=l,N0(n,s)}}function M0(n,s,a){s=on(a,s),s=oh(n.stateNode,s,2),n=Mi(n,s,2),n!==null&&(ya(n,2),kn(n))}function De(n,s,a){if(n.tag===3)M0(n,n,a);else for(;s!==null;){if(s.tag===3){M0(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ui===null||!Ui.has(l))){n=on(a,n),a=Ov(2),l=Mi(s,a,2),l!==null&&(Iv(a,l,s,n),ya(l,2),kn(l));break}}s=s.return}}function Oh(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new oA;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(xh=!0,f.add(a),n=hA.bind(null,n,s,a),s.then(n,n))}function hA(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Le===n&&(_e&a)===a&&(We===4||We===3&&(_e&62914560)===_e&&300>qt()-Jl?(we&2)===0&&wr(n,0):Ch|=a,xr===_e&&(xr=0)),kn(n)}function O0(n,s){s===0&&(s=wg()),n=ys(n,s),n!==null&&(ya(n,s),kn(n))}function dA(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),O0(n,a)}function mA(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),O0(n,a)}function pA(n,s){return qc(n,s)}var au=null,Rr=null,Ih=!1,ou=!1,kh=!1,Vi=0;function kn(n){n!==Rr&&n.next===null&&(Rr===null?au=Rr=n:Rr=Rr.next=n),ou=!0,Ih||(Ih=!0,yA())}function $a(n,s){if(!kh&&ou){kh=!0;do for(var a=!1,l=au;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Yt(42|n)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,j0(l,d))}else d=_e,d=fl(l,l===Le?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ga(l,d)||(a=!0,j0(l,d));l=l.next}while(a);kh=!1}}function gA(){I0()}function I0(){ou=Ih=!1;var n=0;Vi!==0&&AA()&&(n=Vi);for(var s=qt(),a=null,l=au;l!==null;){var f=l.next,d=k0(l,s);d===0?(l.next=null,a===null?au=f:a.next=f,f===null&&(Rr=a)):(a=l,(n!==0||(d&3)!==0)&&(ou=!0)),l=f}ot!==0&&ot!==5||$a(n),Vi!==0&&(Vi=0)}function k0(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-Yt(d),T=1<<v,x=f[v];x===-1?((T&a)===0||(T&l)!==0)&&(f[v]=FC(T,s)):x<=s&&(n.expiredLanes|=T),d&=~T}if(s=Le,a=_e,a=fl(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(Ne===2||Ne===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Gc(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ga(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Gc(l),Wc(a)){case 2:case 8:a=xg;break;case 32:a=ol;break;case 268435456:a=Cg;break;default:a=ol}return l=L0.bind(null,n),a=qc(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Gc(l),n.callbackPriority=2,n.callbackNode=null,2}function L0(n,s){if(ot!==0&&ot!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(ru()&&n.callbackNode!==a)return null;var l=_e;return l=fl(n,n===Le?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(g0(n,l,s),k0(n,qt()),n.callbackNode!=null&&n.callbackNode===a?L0.bind(null,n):null)}function j0(n,s){if(ru())return null;g0(n,s,!0)}function yA(){NA(function(){(we&6)!==0?qc(Eg,gA):I0()})}function Lh(){if(Vi===0){var n=dr;n===0&&(n=ll,ll<<=1,(ll&261888)===0&&(ll=256)),Vi=n}return Vi}function U0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:pl(""+n)}function P0(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function vA(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=U0((f[Ot]||null).action),v=l.submitter;v&&(s=(s=v[Ot]||null)?U0(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var T=new _l("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vi!==0){var x=v?P0(f,v):new FormData(f);th(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=v?P0(f,v):new FormData(f),th(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var jh=0;jh<vf.length;jh++){var Uh=vf[jh],_A=Uh.toLowerCase(),bA=Uh[0].toUpperCase()+Uh.slice(1);vn(_A,"on"+bA)}vn(py,"onAnimationEnd"),vn(gy,"onAnimationIteration"),vn(yy,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(jw,"onTransitionRun"),vn(Uw,"onTransitionStart"),vn(Pw,"onTransitionCancel"),vn(vy,"onTransitionEnd"),Js("onMouseEnter",["mouseout","mouseover"]),Js("onMouseLeave",["mouseout","mouseover"]),Js("onPointerEnter",["pointerout","pointerover"]),Js("onPointerLeave",["pointerout","pointerover"]),ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Za));function z0(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var v=l.length-1;0<=v;v--){var T=l[v],x=T.instance,I=T.currentTarget;if(T=T.listener,x!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=I;try{d(f)}catch(P){Tl(P)}f.currentTarget=null,d=x}else for(v=0;v<l.length;v++){if(T=l[v],x=T.instance,I=T.currentTarget,T=T.listener,x!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=I;try{d(f)}catch(P){Tl(P)}f.currentTarget=null,d=x}}}}function ge(n,s){var a=s[Xc];a===void 0&&(a=s[Xc]=new Set);var l=n+"__bubble";a.has(l)||(V0(s,n,2,!1),a.add(l))}function Ph(n,s,a){var l=0;s&&(l|=4),V0(a,n,l,s)}var lu="_reactListening"+Math.random().toString(36).slice(2);function zh(n){if(!n[lu]){n[lu]=!0,Ig.forEach(function(a){a!=="selectionchange"&&(SA.has(a)||Ph(a,!1,n),Ph(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[lu]||(s[lu]=!0,Ph("selectionchange",!1,s))}}function V0(n,s,a,l){switch(p_(s)){case 2:var f=XA;break;case 8:f=QA;break;default:f=ed}a=f.bind(null,s,a,n),f=void 0,!rf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Vh(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=Qs(T),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Gg(function(){var I=d,P=nf(a),B=[];e:{var k=_y.get(n);if(k!==void 0){var j=_l,Q=n;switch(n){case"keypress":if(yl(a)===0)break e;case"keydown":case"keyup":j=mw;break;case"focusin":Q="focus",j=uf;break;case"focusout":Q="blur",j=uf;break;case"beforeblur":case"afterblur":j=uf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Wg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=nw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=yw;break;case py:case gy:case yy:j=rw;break;case vy:j=_w;break;case"scroll":case"scrollend":j=ew;break;case"wheel":j=Sw;break;case"copy":case"cut":case"paste":j=ow;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Qg;break;case"toggle":case"beforetoggle":j=Ew}var ie=(s&4)!==0,Ie=!ie&&(n==="scroll"||n==="scrollend"),D=ie?k!==null?k+"Capture":null:k;ie=[];for(var A=I,O;A!==null;){var V=A;if(O=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||O===null||D===null||(V=ba(A,D),V!=null&&ie.push(Ja(A,V,O))),Ie)break;A=A.return}0<ie.length&&(k=new j(k,Q,null,a,P),B.push({event:k,listeners:ie}))}}if((s&7)===0){e:{if(k=n==="mouseover"||n==="pointerover",j=n==="mouseout"||n==="pointerout",k&&a!==tf&&(Q=a.relatedTarget||a.fromElement)&&(Qs(Q)||Q[Xs]))break e;if((j||k)&&(k=P.window===P?P:(k=P.ownerDocument)?k.defaultView||k.parentWindow:window,j?(Q=a.relatedTarget||a.toElement,j=I,Q=Q?Qs(Q):null,Q!==null&&(Ie=u(Q),ie=Q.tag,Q!==Ie||ie!==5&&ie!==27&&ie!==6)&&(Q=null)):(j=null,Q=I),j!==Q)){if(ie=Wg,V="onMouseLeave",D="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(ie=Qg,V="onPointerLeave",D="onPointerEnter",A="pointer"),Ie=j==null?k:_a(j),O=Q==null?k:_a(Q),k=new ie(V,A+"leave",j,a,P),k.target=Ie,k.relatedTarget=O,V=null,Qs(P)===I&&(ie=new ie(D,A+"enter",Q,a,P),ie.target=O,ie.relatedTarget=Ie,V=ie),Ie=V,j&&Q)t:{for(ie=TA,D=j,A=Q,O=0,V=D;V;V=ie(V))O++;V=0;for(var ne=A;ne;ne=ie(ne))V++;for(;0<O-V;)D=ie(D),O--;for(;0<V-O;)A=ie(A),V--;for(;O--;){if(D===A||A!==null&&D===A.alternate){ie=D;break t}D=ie(D),A=ie(A)}ie=null}else ie=null;j!==null&&B0(B,k,j,ie,!1),Q!==null&&Ie!==null&&B0(B,Ie,Q,ie,!0)}}e:{if(k=I?_a(I):window,j=k.nodeName&&k.nodeName.toLowerCase(),j==="select"||j==="input"&&k.type==="file")var xe=sy;else if(ny(k))if(ry)xe=Iw;else{xe=Mw;var ee=Dw}else j=k.nodeName,!j||j.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?I&&ef(I.elementType)&&(xe=sy):xe=Ow;if(xe&&(xe=xe(n,I))){iy(B,xe,a,P);break e}ee&&ee(n,k,I),n==="focusout"&&I&&k.type==="number"&&I.memoizedProps.value!=null&&Jc(k,"number",k.value)}switch(ee=I?_a(I):window,n){case"focusin":(ny(ee)||ee.contentEditable==="true")&&(rr=ee,pf=I,Ra=null);break;case"focusout":Ra=pf=rr=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,dy(B,a,P);break;case"selectionchange":if(Lw)break;case"keydown":case"keyup":dy(B,a,P)}var fe;if(ff)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else sr?ey(n,a)&&(be="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&($g&&a.locale!=="ko"&&(sr||be!=="onCompositionStart"?be==="onCompositionEnd"&&sr&&(fe=Yg()):(xi=P,af="value"in xi?xi.value:xi.textContent,sr=!0)),ee=uu(I,be),0<ee.length&&(be=new Xg(be,n,null,a,P),B.push({event:be,listeners:ee}),fe?be.data=fe:(fe=ty(a),fe!==null&&(be.data=fe)))),(fe=Cw?ww(n,a):Aw(n,a))&&(be=uu(I,"onBeforeInput"),0<be.length&&(ee=new Xg("onBeforeInput","beforeinput",null,a,P),B.push({event:ee,listeners:be}),ee.data=fe)),vA(B,n,I,a,P)}z0(B,s)})}function Ja(n,s,a){return{instance:n,listener:s,currentTarget:a}}function uu(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ba(n,a),f!=null&&l.unshift(Ja(n,f,d)),f=ba(n,s),f!=null&&l.push(Ja(n,f,d))),n.tag===3)return l;n=n.return}return[]}function TA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function B0(n,s,a,l,f){for(var d=s._reactName,v=[];a!==null&&a!==l;){var T=a,x=T.alternate,I=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||I===null||(x=I,f?(I=ba(a,d),I!=null&&v.unshift(Ja(a,I,x))):f||(I=ba(a,d),I!=null&&v.push(Ja(a,I,x)))),a=a.return}v.length!==0&&n.push({event:s,listeners:v})}var EA=/\r\n?/g,xA=/\u0000|\uFFFD/g;function H0(n){return(typeof n=="string"?n:""+n).replace(EA,`
`).replace(xA,"")}function F0(n,s){return s=H0(s),H0(n)===s}function Oe(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||tr(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&tr(n,""+l);break;case"className":dl(n,"class",l);break;case"tabIndex":dl(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dl(n,a,l);break;case"style":Fg(n,l,d);break;case"data":if(s!=="object"){dl(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=pl(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Oe(n,s,"name",f.name,f,null),Oe(n,s,"formEncType",f.formEncType,f,null),Oe(n,s,"formMethod",f.formMethod,f,null),Oe(n,s,"formTarget",f.formTarget,f,null)):(Oe(n,s,"encType",f.encType,f,null),Oe(n,s,"method",f.method,f,null),Oe(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=pl(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Hn);break;case"onScroll":l!=null&&ge("scroll",n);break;case"onScrollEnd":l!=null&&ge("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=pl(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ge("beforetoggle",n),ge("toggle",n),hl(n,"popover",l);break;case"xlinkActuate":Bn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hl(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ZC.get(a)||a,hl(n,a,l))}}function Bh(n,s,a,l,f,d){switch(a){case"style":Fg(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?tr(n,l):(typeof l=="number"||typeof l=="bigint")&&tr(n,""+l);break;case"onScroll":l!=null&&ge("scroll",n);break;case"onScrollEnd":l!=null&&ge("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[Ot]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):hl(n,a,l)}}}function _t(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",n),ge("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Oe(n,s,d,v,a,null)}}f&&Oe(n,s,"srcSet",a.srcSet,a,null),l&&Oe(n,s,"src",a.src,a,null);return;case"input":ge("invalid",n);var T=d=v=f=null,x=null,I=null;for(l in a)if(a.hasOwnProperty(l)){var P=a[l];if(P!=null)switch(l){case"name":f=P;break;case"type":v=P;break;case"checked":x=P;break;case"defaultChecked":I=P;break;case"value":d=P;break;case"defaultValue":T=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,s));break;default:Oe(n,s,l,P,a,null)}}zg(n,d,T,x,I,v,f,!1);return;case"select":ge("invalid",n),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Oe(n,s,f,T,a,null)}s=d,a=v,n.multiple=!!l,s!=null?er(n,!!l,s,!1):a!=null&&er(n,!!l,a,!0);return;case"textarea":ge("invalid",n),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Oe(n,s,v,T,a,null)}Bg(n,l,f,d);return;case"option":for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null)&&(x==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":Oe(n,s,x,l,a,null));return;case"dialog":ge("beforetoggle",n),ge("toggle",n),ge("cancel",n),ge("close",n);break;case"iframe":case"object":ge("load",n);break;case"video":case"audio":for(l=0;l<Za.length;l++)ge(Za[l],n);break;case"image":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"embed":case"source":case"link":ge("error",n),ge("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Oe(n,s,I,l,a,null)}return;default:if(ef(s)){for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!==void 0&&Bh(n,s,P,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Oe(n,s,T,l,a,null))}function CA(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,x=null,I=null,P=null;for(j in a){var B=a[j];if(a.hasOwnProperty(j)&&B!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":x=B;default:l.hasOwnProperty(j)||Oe(n,s,j,null,l,B)}}for(var k in l){var j=l[k];if(B=a[k],l.hasOwnProperty(k)&&(j!=null||B!=null))switch(k){case"type":d=j;break;case"name":f=j;break;case"checked":I=j;break;case"defaultChecked":P=j;break;case"value":v=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:j!==B&&Oe(n,s,k,j,l,B)}}Zc(n,v,T,x,I,P,d,f);return;case"select":j=v=T=k=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":j=x;default:l.hasOwnProperty(d)||Oe(n,s,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":k=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==x&&Oe(n,s,f,d,l,x)}s=T,a=v,l=j,k!=null?er(n,!!a,k,!1):!!l!=!!a&&(s!=null?er(n,!!a,s,!0):er(n,!!a,a?[]:"",!1));return;case"textarea":j=k=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Oe(n,s,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":k=f;break;case"defaultValue":j=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Oe(n,s,v,f,l,d)}Vg(n,k,j);return;case"option":for(var Q in a)k=a[Q],a.hasOwnProperty(Q)&&k!=null&&!l.hasOwnProperty(Q)&&(Q==="selected"?n.selected=!1:Oe(n,s,Q,null,l,k));for(x in l)k=l[x],j=a[x],l.hasOwnProperty(x)&&k!==j&&(k!=null||j!=null)&&(x==="selected"?n.selected=k&&typeof k!="function"&&typeof k!="symbol":Oe(n,s,x,k,l,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)k=a[ie],a.hasOwnProperty(ie)&&k!=null&&!l.hasOwnProperty(ie)&&Oe(n,s,ie,null,l,k);for(I in l)if(k=l[I],j=a[I],l.hasOwnProperty(I)&&k!==j&&(k!=null||j!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,s));break;default:Oe(n,s,I,k,l,j)}return;default:if(ef(s)){for(var Ie in a)k=a[Ie],a.hasOwnProperty(Ie)&&k!==void 0&&!l.hasOwnProperty(Ie)&&Bh(n,s,Ie,void 0,l,k);for(P in l)k=l[P],j=a[P],!l.hasOwnProperty(P)||k===j||k===void 0&&j===void 0||Bh(n,s,P,k,l,j);return}}for(var D in a)k=a[D],a.hasOwnProperty(D)&&k!=null&&!l.hasOwnProperty(D)&&Oe(n,s,D,null,l,k);for(B in l)k=l[B],j=a[B],!l.hasOwnProperty(B)||k===j||k==null&&j==null||Oe(n,s,B,k,l,j)}function q0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,T=f.duration;if(d&&T&&q0(v)){for(v=0,T=f.responseEnd,l+=1;l<a.length;l++){var x=a[l],I=x.startTime;if(I>T)break;var P=x.transferSize,B=x.initiatorType;P&&q0(B)&&(x=x.responseEnd,v+=P*(x<T?1:(T-I)/(x-I)))}if(--l,s+=8*(d+v)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Hh=null,Fh=null;function cu(n){return n.nodeType===9?n:n.ownerDocument}function G0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function qh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gh=null;function AA(){var n=window.event;return n&&n.type==="popstate"?n===Gh?!1:(Gh=n,!0):(Gh=null,!1)}var K0=typeof setTimeout=="function"?setTimeout:void 0,RA=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,NA=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(n){return W0.resolve(null).then(n).catch(DA)}:K0;function DA(n){setTimeout(function(){throw n})}function Bi(n){return n==="head"}function X0(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),Or(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")eo(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,eo(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[va]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&eo(n.ownerDocument.body);a=f}while(a);Or(s)}function Q0(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Yh(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yh(a),Qc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function MA(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[va])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=hn(n.nextSibling),n===null)break}return null}function OA(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=hn(n.nextSibling),n===null))return null;return n}function $0(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=hn(n.nextSibling),n===null))return null;return n}function Kh(n){return n.data==="$?"||n.data==="$~"}function Wh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function IA(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function hn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Xh=null;function Z0(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return hn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function J0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function e_(n,s,a){switch(s=cu(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function eo(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Qc(n)}var dn=new Map,t_=new Set;function fu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var si=F.d;F.d={f:kA,r:LA,D:jA,C:UA,L:PA,m:zA,X:BA,S:VA,M:HA};function kA(){var n=si.f(),s=nu();return n||s}function LA(n){var s=$s(n);s!==null&&s.tag===5&&s.type==="form"?vv(s):si.r(n)}var Nr=typeof document>"u"?null:document;function n_(n,s,a){var l=Nr;if(l&&typeof s=="string"&&s){var f=rn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),t_.has(f)||(t_.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),_t(s,"link",n),ct(s),l.head.appendChild(s)))}}function jA(n){si.D(n),n_("dns-prefetch",n,null)}function UA(n,s){si.C(n,s),n_("preconnect",n,s)}function PA(n,s,a){si.L(n,s,a);var l=Nr;if(l&&n&&s){var f='link[rel="preload"][as="'+rn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+rn(a.imageSizes)+'"]')):f+='[href="'+rn(n)+'"]';var d=f;switch(s){case"style":d=Dr(n);break;case"script":d=Mr(n)}dn.has(d)||(n=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),dn.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(to(d))||s==="script"&&l.querySelector(no(d))||(s=l.createElement("link"),_t(s,"link",n),ct(s),l.head.appendChild(s)))}}function zA(n,s){si.m(n,s);var a=Nr;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Mr(n)}if(!dn.has(d)&&(n=y({rel:"modulepreload",href:n},s),dn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(no(d)))return}l=a.createElement("link"),_t(l,"link",n),ct(l),a.head.appendChild(l)}}}function VA(n,s,a){si.S(n,s,a);var l=Nr;if(l&&n){var f=Zs(l).hoistableStyles,d=Dr(n);s=s||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(to(d)))T.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},a),(a=dn.get(d))&&Qh(n,a);var x=v=l.createElement("link");ct(x),_t(x,"link",n),x._p=new Promise(function(I,P){x.onload=I,x.onerror=P}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,hu(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function BA(n,s){si.X(n,s);var a=Nr;if(a&&n){var l=Zs(a).hoistableScripts,f=Mr(n),d=l.get(f);d||(d=a.querySelector(no(f)),d||(n=y({src:n,async:!0},s),(s=dn.get(f))&&$h(n,s),d=a.createElement("script"),ct(d),_t(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function HA(n,s){si.M(n,s);var a=Nr;if(a&&n){var l=Zs(a).hoistableScripts,f=Mr(n),d=l.get(f);d||(d=a.querySelector(no(f)),d||(n=y({src:n,async:!0,type:"module"},s),(s=dn.get(f))&&$h(n,s),d=a.createElement("script"),ct(d),_t(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function i_(n,s,a,l){var f=(f=me.current)?fu(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Dr(a.href),a=Zs(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Dr(a.href);var d=Zs(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(to(n)))&&!d._p&&(v.instance=d,v.state.loading=5),dn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},dn.set(n,a),d||FA(f,n,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Mr(a),a=Zs(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Dr(n){return'href="'+rn(n)+'"'}function to(n){return'link[rel="stylesheet"]['+n+"]"}function s_(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function FA(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),_t(s,"link",a),ct(s),n.head.appendChild(s))}function Mr(n){return'[src="'+rn(n)+'"]'}function no(n){return"script[async]"+n}function r_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return s.instance=l,ct(l),l;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ct(l),_t(l,"style",f),hu(l,a.precedence,n),s.instance=l;case"stylesheet":f=Dr(a.href);var d=n.querySelector(to(f));if(d)return s.state.loading|=4,s.instance=d,ct(d),d;l=s_(a),(f=dn.get(f))&&Qh(l,f),d=(n.ownerDocument||n).createElement("link"),ct(d);var v=d;return v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),_t(d,"link",l),s.state.loading|=4,hu(d,a.precedence,n),s.instance=d;case"script":return d=Mr(a.src),(f=n.querySelector(no(d)))?(s.instance=f,ct(f),f):(l=a,(f=dn.get(d))&&(l=y({},a),$h(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),ct(f),_t(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,hu(l,a.precedence,n));return s.instance}function hu(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===s)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Qh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function $h(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var du=null;function a_(n,s,a){if(du===null){var l=new Map,f=du=new Map;f.set(a,l)}else f=du,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[va]||d[pt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=n+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function o_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function qA(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function l_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function GA(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Dr(l.href),d=s.querySelector(to(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=mu.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=d,ct(d);return}d=s.ownerDocument||s,l=s_(l),(f=dn.get(f))&&Qh(l,f),d=d.createElement("link"),ct(d);var v=d;v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),_t(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=mu.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Zh=0;function YA(n,s){return n.stylesheets&&n.count===0&&gu(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&gu(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Zh===0&&(Zh=62500*wA());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&gu(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Zh?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var pu=null;function gu(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,pu=new Map,s.forEach(KA,n),pu=null,mu.call(n))}function KA(n,s){if(!(s.state.loading&4)){var a=pu.get(n);if(a)var l=a.get(null);else{a=new Map,pu.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=mu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var io={$$typeof:L,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function WA(n,s,a,l,f,d,v,T,x){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yc(0),this.hiddenUpdates=Yc(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function u_(n,s,a,l,f,d,v,T,x,I,P,B){return n=new WA(n,s,a,v,x,I,P,B,T),s=1,d===!0&&(s|=24),d=Wt(3,null,null,s),n.current=d,d.stateNode=n,s=Mf(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Lf(d),n}function c_(n){return n?(n=lr,n):lr}function f_(n,s,a,l,f,d){f=c_(f),l.context===null?l.context=f:l.pendingContext=f,l=Di(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mi(n,l,s),a!==null&&(Pt(a,n,s),La(a,n,s))}function h_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Jh(n,s){h_(n,s),(n=n.alternate)&&h_(n,s)}function d_(n){if(n.tag===13||n.tag===31){var s=ys(n,67108864);s!==null&&Pt(s,n,67108864),Jh(n,67108864)}}function m_(n){if(n.tag===13||n.tag===31){var s=Jt();s=Kc(s);var a=ys(n,s);a!==null&&Pt(a,n,s),Jh(n,s)}}var yu=!0;function XA(n,s,a,l){var f=z.T;z.T=null;var d=F.p;try{F.p=2,ed(n,s,a,l)}finally{F.p=d,z.T=f}}function QA(n,s,a,l){var f=z.T;z.T=null;var d=F.p;try{F.p=8,ed(n,s,a,l)}finally{F.p=d,z.T=f}}function ed(n,s,a,l){if(yu){var f=td(l);if(f===null)Vh(n,s,l,vu,a),g_(n,l);else if(ZA(f,n,s,a,l))l.stopPropagation();else if(g_(n,l),s&4&&-1<$A.indexOf(n)){for(;f!==null;){var d=$s(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=hs(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var x=1<<31-Yt(v);T.entanglements[1]|=x,v&=~x}kn(d),(we&6)===0&&(eu=qt()+500,$a(0))}}break;case 31:case 13:T=ys(d,2),T!==null&&Pt(T,d,2),nu(),Jh(d,2)}if(d=td(l),d===null&&Vh(n,s,l,vu,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Vh(n,s,l,null,a)}}function td(n){return n=nf(n),nd(n)}var vu=null;function nd(n){if(vu=null,n=Qs(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=h(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return vu=n,null}function p_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jC()){case Eg:return 2;case xg:return 8;case ol:case UC:return 32;case Cg:return 268435456;default:return 32}default:return 32}}var id=!1,Hi=null,Fi=null,qi=null,so=new Map,ro=new Map,Gi=[],$A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g_(n,s){switch(n){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":so.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(s.pointerId)}}function ao(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=$s(s),s!==null&&d_(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function ZA(n,s,a,l,f){switch(s){case"focusin":return Hi=ao(Hi,n,s,a,l,f),!0;case"dragenter":return Fi=ao(Fi,n,s,a,l,f),!0;case"mouseover":return qi=ao(qi,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return so.set(d,ao(so.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,ro.set(d,ao(ro.get(d)||null,n,s,a,l,f)),!0}return!1}function y_(n){var s=Qs(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,Mg(n.priority,function(){m_(a)});return}}else if(s===31){if(s=h(a),s!==null){n.blockedOn=s,Mg(n.priority,function(){m_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _u(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=td(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);tf=l,a.target.dispatchEvent(l),tf=null}else return s=$s(a),s!==null&&d_(s),n.blockedOn=a,!1;s.shift()}return!0}function v_(n,s,a){_u(n)&&a.delete(s)}function JA(){id=!1,Hi!==null&&_u(Hi)&&(Hi=null),Fi!==null&&_u(Fi)&&(Fi=null),qi!==null&&_u(qi)&&(qi=null),so.forEach(v_),ro.forEach(v_)}function bu(n,s){n.blockedOn===s&&(n.blockedOn=null,id||(id=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,JA)))}var Su=null;function __(n){Su!==n&&(Su=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Su===n&&(Su=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(nd(l||a)===null)continue;break}var d=$s(a);d!==null&&(n.splice(s,3),s-=3,th(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Or(n){function s(x){return bu(x,n)}Hi!==null&&bu(Hi,n),Fi!==null&&bu(Fi,n),qi!==null&&bu(qi,n),so.forEach(s),ro.forEach(s);for(var a=0;a<Gi.length;a++){var l=Gi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Gi.length&&(a=Gi[0],a.blockedOn===null);)y_(a),a.blockedOn===null&&Gi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Ot]||null;if(typeof d=="function")v||__(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Ot]||null)T=v.formAction;else if(nd(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),__(a)}}}function b_(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function sd(n){this._internalRoot=n}Tu.prototype.render=sd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Jt();f_(a,l,n,s,null,null)},Tu.prototype.unmount=sd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;f_(n.current,2,null,n,null,null),nu(),s[Xs]=null}};function Tu(n){this._internalRoot=n}Tu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Dg();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Gi.length&&s!==0&&s<Gi[a].priority;a++);Gi.splice(a,0,n),a===0&&y_(n)}};var S_=e.version;if(S_!=="19.2.3")throw Error(r(527,S_,"19.2.3"));F.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var eR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{pa=Eu.inject(eR),Gt=Eu}catch{}}return lo.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=Rv,d=Nv,v=Dv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=u_(n,1,!1,null,null,a,l,null,f,d,v,b_),n[Xs]=s.current,zh(n),new sd(s)},lo.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=Rv,v=Nv,T=Dv,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),s=u_(n,1,!0,s,a??null,l,f,x,d,v,T,b_),s.context=c_(null),a=s.current,l=Jt(),l=Kc(l),f=Di(l),f.callback=null,Mi(a,f,l),a=l,s.current.lanes=a,ya(s,a),kn(s),n[Xs]=s.current,zh(n),new Tu(s)},lo.version="19.2.3",lo}var M_;function cR(){if(M_)return od.exports;M_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),od.exports=uR(),od.exports}var fR=cR();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O_="popstate";function hR(t={}){function e(o,u){let{pathname:c="/",search:h="",hash:m=""}=Ks(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Gd("",{pathname:c,search:h,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let m=o.location.href,p=m.indexOf("#");h=p===-1?m:m.slice(0,p)}return h+"#"+(typeof u=="string"?u:Do(u))}function r(o,u){en(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return mR(e,i,r,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function en(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dR(){return Math.random().toString(36).substring(2,10)}function I_(t,e){return{usr:t.state,key:t.key,idx:e}}function Gd(t,e,i=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ks(e):e,state:i,key:e&&e.key||r||dR()}}function Do({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Ks(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function mR(t,e,i,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,h="POP",m=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function y(){h="POP";let N=g(),M=N==null?null:N-p;p=N,m&&m({action:h,location:C.location,delta:M})}function _(N,M){h="PUSH";let U=Gd(C.location,N,M);i&&i(U,N),p=g()+1;let L=I_(U,p),G=C.createHref(U);try{c.pushState(L,"",G)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;o.location.assign(G)}u&&m&&m({action:h,location:C.location,delta:1})}function S(N,M){h="REPLACE";let U=Gd(C.location,N,M);i&&i(U,N),p=g();let L=I_(U,p),G=C.createHref(U);c.replaceState(L,"",G),u&&m&&m({action:h,location:C.location,delta:0})}function E(N){return pR(N)}let C={get action(){return h},get location(){return t(o,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(O_,y),m=N,()=>{o.removeEventListener(O_,y),m=null}},createHref(N){return e(o,N)},createURL:E,encodeLocation(N){let M=E(N);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:S,go(N){return c.go(N)}};return C}function pR(t,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(i,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Do(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function h1(t,e,i="/"){return gR(t,e,i,!1)}function gR(t,e,i,r){let o=typeof e=="string"?Ks(e):e,u=hi(o.pathname||"/",i);if(u==null)return null;let c=d1(t);yR(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let p=RR(u);h=wR(c[m],p,r)}return h}function d1(t,e=[],i=[],r="",o=!1){let u=(c,h,m=o,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&m)return;Fe(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=ui([r,g.relativePath]),_=i.concat(g);c.children&&c.children.length>0&&(Fe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),d1(c.children,e,_,y,m)),!(c.path==null&&!c.index)&&e.push({path:y,score:xR(y,c.index),routesMeta:_})};return t.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))u(c,h);else for(let p of m1(c.path))u(c,h,!0,p)}),e}function m1(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=m1(r.join("/")),h=[];return h.push(...c.map(m=>m===""?u:[u,m].join("/"))),o&&h.push(...c),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function yR(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:CR(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var vR=/^:[\w-]+$/,_R=3,bR=2,SR=1,TR=10,ER=-2,k_=t=>t==="*";function xR(t,e){let i=t.split("/"),r=i.length;return i.some(k_)&&(r+=ER),e&&(r+=bR),i.filter(o=>!k_(o)).reduce((o,u)=>o+(vR.test(u)?_R:u===""?SR:TR),r)}function CR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function wR(t,e,i=!1){let{routesMeta:r}=t,o={},u="/",c=[];for(let h=0;h<r.length;++h){let m=r[h],p=h===r.length-1,g=u==="/"?e:e.slice(u.length)||"/",y=qu({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g),_=m.route;if(!y&&p&&i&&!r[r.length-1].route.index&&(y=qu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:ui([u,y.pathname]),pathnameBase:OR(ui([u,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(u=ui([u,y.pathnameBase]))}return c}function qu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=AR(t.path,t.caseSensitive,t.end),o=e.match(i);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},_)=>{if(g==="*"){let E=h[_]||"";c=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const S=h[_];return y&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:t}}function AR(t,e=!1,i=!0){en(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function RR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return en(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}var p1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NR=t=>p1.test(t);function DR(t,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof t=="string"?Ks(t):t,u;if(i)if(NR(i))u=i;else{if(i.includes("//")){let c=i;i=i.replace(/\/\/+/g,"/"),en(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${i}`)}i.startsWith("/")?u=L_(i.substring(1),"/"):u=L_(i,e)}else u=e;return{pathname:u,search:IR(r),hash:kR(o)}}function L_(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function fd(t,e,i,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MR(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function zm(t){let e=MR(t);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function Vm(t,e,i,r=!1){let o;typeof t=="string"?o=Ks(t):(o={...t},Fe(!o.pathname||!o.pathname.includes("?"),fd("?","pathname","search",o)),Fe(!o.pathname||!o.pathname.includes("#"),fd("#","pathname","hash",o)),Fe(!o.search||!o.search.includes("#"),fd("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,h;if(c==null)h=i;else{let y=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;o.pathname=_.join("/")}h=y>=0?e[y]:"/"}let m=DR(o,h),p=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||g)&&(m.pathname+="/"),m}var ui=t=>t.join("/").replace(/\/\/+/g,"/"),OR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,LR=class{constructor(t,e,i,r=!1){this.status=t,this.statusText=e||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function jR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function UR(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var g1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function y1(t,e){let i=t;if(typeof i!="string"||!p1.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let r=i,o=!1;if(g1)try{let u=new URL(window.location.href),c=i.startsWith("//")?new URL(u.protocol+i):new URL(i),h=hi(c.pathname,e);c.origin===u.origin&&h!=null?i=h+c.search+c.hash:o=!0}catch{en(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var v1=["POST","PUT","PATCH","DELETE"];new Set(v1);var PR=["GET",...v1];new Set(PR);var ta=w.createContext(null);ta.displayName="DataRouter";var Sc=w.createContext(null);Sc.displayName="DataRouterState";var zR=w.createContext(!1),_1=w.createContext({isTransitioning:!1});_1.displayName="ViewTransition";var VR=w.createContext(new Map);VR.displayName="Fetchers";var BR=w.createContext(null);BR.displayName="Await";var tn=w.createContext(null);tn.displayName="Navigation";var Go=w.createContext(null);Go.displayName="Location";var Vn=w.createContext({outlet:null,matches:[],isDataRoute:!1});Vn.displayName="Route";var Bm=w.createContext(null);Bm.displayName="RouteError";var b1="REACT_ROUTER_ERROR",HR="REDIRECT",FR="ROUTE_ERROR_RESPONSE";function qR(t){if(t.startsWith(`${b1}:${HR}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function GR(t){if(t.startsWith(`${b1}:${FR}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new LR(e.status,e.statusText,e.data)}catch{}}function YR(t,{relative:e}={}){Fe(na(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=w.useContext(tn),{hash:o,pathname:u,search:c}=Yo(t,{relative:e}),h=u;return i!=="/"&&(h=u==="/"?i:ui([i,u])),r.createHref({pathname:h,search:c,hash:o})}function na(){return w.useContext(Go)!=null}function bi(){return Fe(na(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Go).location}var S1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T1(t){w.useContext(tn).static||w.useLayoutEffect(t)}function Hm(){let{isDataRoute:t}=w.useContext(Vn);return t?rN():KR()}function KR(){Fe(na(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(ta),{basename:e,navigator:i}=w.useContext(tn),{matches:r}=w.useContext(Vn),{pathname:o}=bi(),u=JSON.stringify(zm(r)),c=w.useRef(!1);return T1(()=>{c.current=!0}),w.useCallback((m,p={})=>{if(en(c.current,S1),!c.current)return;if(typeof m=="number"){i.go(m);return}let g=Vm(m,JSON.parse(u),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ui([e,g.pathname])),(p.replace?i.replace:i.push)(g,p.state,p)},[e,i,u,o,t])}w.createContext(null);function Yo(t,{relative:e}={}){let{matches:i}=w.useContext(Vn),{pathname:r}=bi(),o=JSON.stringify(zm(i));return w.useMemo(()=>Vm(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function WR(t,e){return E1(t,e)}function E1(t,e,i,r,o){var U;Fe(na(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=w.useContext(tn),{matches:c}=w.useContext(Vn),h=c[c.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let L=y&&y.path||"";C1(p,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=bi(),S;if(e){let L=typeof e=="string"?Ks(e):e;Fe(g==="/"||((U=L.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),S=L}else S=_;let E=S.pathname||"/",C=E;if(g!=="/"){let L=g.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(L.length).join("/")}let N=h1(t,{pathname:C});en(y||N!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),en(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=JR(N&&N.map(L=>Object.assign({},L,{params:Object.assign({},m,L.params),pathname:ui([g,u.encodeLocation?u.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:ui([g,u.encodeLocation?u.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,i,r,o);return e&&M?w.createElement(Go.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},M):M}function XR(){let t=sN(),e=jR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:u},"ErrorBoundary")," or"," ",w.createElement("code",{style:u},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),i?w.createElement("pre",{style:o},i):null,c)}var QR=w.createElement(XR,null),x1=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const i=GR(t.digest);i&&(t=i)}let e=t!==void 0?w.createElement(Vn.Provider,{value:this.props.routeContext},w.createElement(Bm.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement($R,{error:t},e):e}};x1.contextType=zR;var hd=new WeakMap;function $R({children:t,error:e}){let{basename:i}=w.useContext(tn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=qR(e.digest);if(r){let o=hd.get(e);if(o)throw o;let u=y1(r.location,i);if(g1&&!hd.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw hd.set(e,c),c}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function ZR({routeContext:t,match:e,children:i}){let r=w.useContext(ta);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Vn.Provider,{value:t},i)}function JR(t,e=[],i=null,r=null,o=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let u=t,c=i==null?void 0:i.errors;if(c!=null){let g=u.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);Fe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let h=!1,m=-1;if(i)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:_,errors:S}=i,E=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||E){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let p=i&&r?(g,y)=>{var _,S;r(g,{location:i.location,params:((S=(_=i.matches)==null?void 0:_[0])==null?void 0:S.params)??{},unstable_pattern:UR(i.matches),errorInfo:y})}:void 0;return u.reduceRight((g,y,_)=>{let S,E=!1,C=null,N=null;i&&(S=c&&y.route.id?c[y.route.id]:void 0,C=y.route.errorElement||QR,h&&(m<0&&_===0?(C1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):m===_&&(E=!0,N=y.route.hydrateFallbackElement||null)));let M=e.concat(u.slice(0,_+1)),U=()=>{let L;return S?L=C:E?L=N:y.route.Component?L=w.createElement(y.route.Component,null):y.route.element?L=y.route.element:L=g,w.createElement(ZR,{match:y,routeContext:{outlet:g,matches:M,isDataRoute:i!=null},children:L})};return i&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?w.createElement(x1,{location:i.location,revalidation:i.revalidation,component:C,error:S,children:U(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:p}):U()},null)}function Fm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eN(t){let e=w.useContext(ta);return Fe(e,Fm(t)),e}function tN(t){let e=w.useContext(Sc);return Fe(e,Fm(t)),e}function nN(t){let e=w.useContext(Vn);return Fe(e,Fm(t)),e}function qm(t){let e=nN(t),i=e.matches[e.matches.length-1];return Fe(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function iN(){return qm("useRouteId")}function sN(){var r;let t=w.useContext(Bm),e=tN("useRouteError"),i=qm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[i]}function rN(){let{router:t}=eN("useNavigate"),e=qm("useNavigate"),i=w.useRef(!1);return T1(()=>{i.current=!0}),w.useCallback(async(o,u={})=>{en(i.current,S1),i.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var j_={};function C1(t,e,i){!e&&!j_[t]&&(j_[t]=!0,en(!1,i))}w.memo(aN);function aN({routes:t,future:e,state:i,onError:r}){return E1(t,void 0,i,r,e)}function w1({to:t,replace:e,state:i,relative:r}){Fe(na(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(tn);en(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=w.useContext(Vn),{pathname:c}=bi(),h=Hm(),m=Vm(t,zm(u),c,r==="path"),p=JSON.stringify(m);return w.useEffect(()=>{h(JSON.parse(p),{replace:e,state:i,relative:r})},[h,p,r,e,i]),null}function kr(t){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oN({basename:t="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){Fe(!na(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:h,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[h,o,u,c]);typeof i=="string"&&(i=Ks(i));let{pathname:p="/",search:g="",hash:y="",state:_=null,key:S="default"}=i,E=w.useMemo(()=>{let C=hi(p,h);return C==null?null:{location:{pathname:C,search:g,hash:y,state:_,key:S},navigationType:r}},[h,p,g,y,_,S,r]);return en(E!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:w.createElement(tn.Provider,{value:m},w.createElement(Go.Provider,{children:e,value:E}))}function lN({children:t,location:e}){return WR(Yd(t),e)}function Yd(t,e=[]){let i=[];return w.Children.forEach(t,(r,o)=>{if(!w.isValidElement(r))return;let u=[...e,o];if(r.type===w.Fragment){i.push.apply(i,Yd(r.props.children,u));return}Fe(r.type===kr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Yd(r.props.children,u)),i.push(c)}),i}var Iu="get",ku="application/x-www-form-urlencoded";function Tc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function uN(t){return Tc(t)&&t.tagName.toLowerCase()==="button"}function cN(t){return Tc(t)&&t.tagName.toLowerCase()==="form"}function fN(t){return Tc(t)&&t.tagName.toLowerCase()==="input"}function hN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dN(t,e){return t.button===0&&(!e||e==="_self")&&!hN(t)}var xu=null;function mN(){if(xu===null)try{new FormData(document.createElement("form"),0),xu=!1}catch{xu=!0}return xu}var pN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dd(t){return t!=null&&!pN.has(t)?(en(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ku}"`),null):t}function gN(t,e){let i,r,o,u,c;if(cN(t)){let h=t.getAttribute("action");r=h?hi(h,e):null,i=t.getAttribute("method")||Iu,o=dd(t.getAttribute("enctype"))||ku,u=new FormData(t)}else if(uN(t)||fN(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(r=m?hi(m,e):null,i=t.getAttribute("formmethod")||h.getAttribute("method")||Iu,o=dd(t.getAttribute("formenctype"))||dd(h.getAttribute("enctype"))||ku,u=new FormData(h,t),!mN()){let{name:p,type:g,value:y}=t;if(g==="image"){let _=p?`${p}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else p&&u.append(p,y)}}else{if(Tc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Iu,r=null,o=ku,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yN(t,e,i,r){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&hi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function vN(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _N(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function bN(t,e,i){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await vN(u,i);return c.links?c.links():[]}return[]}));return xN(r.flat(1).filter(_N).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function U_(t,e,i,r,o,u){let c=(m,p)=>i[p]?m.route.id!==i[p].route.id:!0,h=(m,p)=>{var g;return i[p].pathname!==m.pathname||((g=i[p].route.path)==null?void 0:g.endsWith("*"))&&i[p].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,p)=>c(m,p)||h(m,p)):u==="data"?e.filter((m,p)=>{var y;let g=r.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(c(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=i[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function SN(t,e,{includeHydrateFallback:i}={}){return TN(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function TN(t){return[...new Set(t)]}function EN(t){let e={},i=Object.keys(t).sort();for(let r of i)e[r]=t[r];return e}function xN(t,e){let i=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(EN(o));return i.has(u)||(i.add(u),r.push({key:u,link:o})),r},[])}function A1(){let t=w.useContext(ta);return Gm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CN(){let t=w.useContext(Sc);return Gm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ym=w.createContext(void 0);Ym.displayName="FrameworkContext";function R1(){let t=w.useContext(Ym);return Gm(t,"You must render this element inside a <HydratedRouter> element"),t}function wN(t,e){let i=w.useContext(Ym),[r,o]=w.useState(!1),[u,c]=w.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,_=w.useRef(null);w.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let C=M=>{M.forEach(U=>{c(U.isIntersecting)})},N=new IntersectionObserver(C,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[t]),w.useEffect(()=>{if(r){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[r]);let S=()=>{o(!0)},E=()=>{o(!1),c(!1)};return i?t!=="intent"?[u,_,{}]:[u,_,{onFocus:uo(h,S),onBlur:uo(m,E),onMouseEnter:uo(p,S),onMouseLeave:uo(g,E),onTouchStart:uo(y,S)}]:[!1,_,{}]}function uo(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function AN({page:t,...e}){let{router:i}=A1(),r=w.useMemo(()=>h1(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?w.createElement(NN,{page:t,matches:r,...e}):null}function RN(t){let{manifest:e,routeModules:i}=R1(),[r,o]=w.useState([]);return w.useEffect(()=>{let u=!1;return bN(t,e,i).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,i]),r}function NN({page:t,matches:e,...i}){let r=bi(),{future:o,manifest:u,routeModules:c}=R1(),{basename:h}=A1(),{loaderData:m,matches:p}=CN(),g=w.useMemo(()=>U_(t,e,p,u,r,"data"),[t,e,p,u,r]),y=w.useMemo(()=>U_(t,e,p,u,r,"assets"),[t,e,p,u,r]),_=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,N=!1;if(e.forEach(U=>{var G;let L=u.routes[U.route.id];!L||!L.hasLoader||(!g.some(q=>q.route.id===U.route.id)&&U.route.id in m&&((G=c[U.route.id])!=null&&G.shouldRevalidate)||L.hasClientLoader?N=!0:C.add(U.route.id))}),C.size===0)return[];let M=yN(t,h,o.unstable_trailingSlashAwareDataRequests,"data");return N&&C.size>0&&M.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[M.pathname+M.search]},[h,o.unstable_trailingSlashAwareDataRequests,m,r,u,g,e,t,c]),S=w.useMemo(()=>SN(y,u),[y,u]),E=RN(y);return w.createElement(w.Fragment,null,_.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),S.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),E.map(({key:C,link:N})=>w.createElement("link",{key:C,nonce:i.nonce,...N})))}function DN(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var MN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MN&&(window.__reactRouterVersion="7.12.0")}catch{}function ON({basename:t,children:e,unstable_useTransitions:i,window:r}){let o=w.useRef();o.current==null&&(o.current=hR({window:r,v5Compat:!0}));let u=o.current,[c,h]=w.useState({action:u.action,location:u.location}),m=w.useCallback(p=>{i===!1?h(p):w.startTransition(()=>h(p))},[i]);return w.useLayoutEffect(()=>u.listen(m),[u,m]),w.createElement(oN,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:i})}var N1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D1=w.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:h,target:m,to:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:_,...S},E){let{basename:C,unstable_useTransitions:N}=w.useContext(tn),M=typeof p=="string"&&N1.test(p),U=y1(p,C);p=U.to;let L=YR(p,{relative:o}),[G,q,te]=wN(r,S),X=jN(p,{replace:c,state:h,target:m,preventScrollReset:g,relative:o,viewTransition:y,unstable_defaultShouldRevalidate:_,unstable_useTransitions:N});function W(Ee){e&&e(Ee),Ee.defaultPrevented||X(Ee)}let se=w.createElement("a",{...S,...te,href:U.absoluteURL||L,onClick:U.isExternal||u?e:W,ref:DN(E,q),target:m,"data-discover":!M&&i==="render"?"true":void 0});return G&&!M?w.createElement(w.Fragment,null,se,w.createElement(AN,{page:L})):se});D1.displayName="Link";var IN=w.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:h,children:m,...p},g){let y=Yo(c,{relative:p.relative}),_=bi(),S=w.useContext(Sc),{navigator:E,basename:C}=w.useContext(tn),N=S!=null&&BN(y)&&h===!0,M=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,U=_.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(U=U.toLowerCase(),L=L?L.toLowerCase():null,M=M.toLowerCase()),L&&C&&(L=hi(L,C)||L);const G=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let q=U===M||!o&&U.startsWith(M)&&U.charAt(G)==="/",te=L!=null&&(L===M||!o&&L.startsWith(M)&&L.charAt(M.length)==="/"),X={isActive:q,isPending:te,isTransitioning:N},W=q?e:void 0,se;typeof r=="function"?se=r(X):se=[r,q?"active":null,te?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof u=="function"?u(X):u;return w.createElement(D1,{...p,"aria-current":W,className:se,ref:g,style:Ee,to:c,viewTransition:h},typeof m=="function"?m(X):m)});IN.displayName="NavLink";var kN=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:u,method:c=Iu,action:h,onSubmit:m,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:_,...S},E)=>{let{unstable_useTransitions:C}=w.useContext(tn),N=zN(),M=VN(h,{relative:p}),U=c.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&N1.test(h),G=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let te=q.nativeEvent.submitter,X=(te==null?void 0:te.getAttribute("formmethod"))||c,W=()=>N(te||q.currentTarget,{fetcherKey:e,method:X,navigate:i,replace:o,state:u,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:_});C&&i!==!1?w.startTransition(()=>W()):W()};return w.createElement("form",{ref:E,method:U,action:M,onSubmit:r?m:G,...S,"data-discover":!L&&t==="render"?"true":void 0})});kN.displayName="Form";function LN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M1(t){let e=w.useContext(ta);return Fe(e,LN(t)),e}function jN(t,{target:e,replace:i,state:r,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m}={}){let p=Hm(),g=bi(),y=Yo(t,{relative:u});return w.useCallback(_=>{if(dN(_,e)){_.preventDefault();let S=i!==void 0?i:Do(g)===Do(y),E=()=>p(t,{replace:S,state:r,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:h});m?w.startTransition(()=>E()):E()}},[g,p,y,i,r,e,t,o,u,c,h,m])}var UN=0,PN=()=>`__${String(++UN)}__`;function zN(){let{router:t}=M1("useSubmit"),{basename:e}=w.useContext(tn),i=iN(),r=t.fetch,o=t.navigate;return w.useCallback(async(u,c={})=>{let{action:h,method:m,encType:p,formData:g,body:y}=gN(u,e);if(c.navigate===!1){let _=c.fetcherKey||PN();await r(_,i,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await o(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,o,e,i])}function VN(t,{relative:e}={}){let{basename:i}=w.useContext(tn),r=w.useContext(Vn);Fe(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Yo(t||".",{relative:e})},c=bi();if(t==null){u.search=c.search;let h=new URLSearchParams(u.search),m=h.getAll("index");if(m.some(g=>g==="")){h.delete("index"),m.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();u.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ui([i,u.pathname])),Do(u)}function BN(t,{relative:e}={}){let i=w.useContext(_1);Fe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=M1("useViewTransitionState"),o=Yo(t,{relative:e});if(!i.isTransitioning)return!1;let u=hi(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=hi(i.nextLocation.pathname,r)||i.nextLocation.pathname;return qu(o.pathname,c)!=null||qu(o.pathname,u)!=null}const An={"1C":{floor:1,code:"ALPHA-1001",name:"Giorgio",displayName:"1C - Giorgio"},"2C":{floor:1,code:"BETA-1002",name:"Lesli",displayName:"2C - Lesli"},"3C":{floor:2,code:"GAMMA-2001",name:"Alin",displayName:"3C - Alin"},"4C":{floor:2,code:"DELTA-2002",name:"Yass",displayName:"4C - Yass"},"5C":{floor:2,code:"EPSILON-2003",name:"Antonios",displayName:"5C - Antonios"},"6C":{floor:2,code:"ZETA-2004",name:"Ojas",displayName:"6C - Ojas"},"7C":{floor:2,code:"ETA-2005",name:"Anita",displayName:"7C - Anita"},"8C":{floor:3,code:"THETA-3001",name:"Manaia",displayName:"8C - Manaia"},"9C":{floor:3,code:"IOTA-3002",name:"Giuliano",displayName:"9C - Giuliano"},"10C":{floor:3,code:"KAPPA-3003",name:"Anna",displayName:"10C - Anna"},"11C":{floor:3,code:"LAMBDA-3004",name:"Alan",displayName:"11C - Alan"},"12C":{floor:3,code:"MU-3005",name:"Noam",displayName:"12C - Noam"},"13C":{floor:4,code:"NU-4001",name:"Omar",displayName:"13C - Omar"},"14C":{floor:4,code:"XI-4002",name:"Sasa",displayName:"14C - Sasa"}},HN=t=>Object.entries(An).find(([e,i])=>i.code===t),go=()=>Object.keys(An).sort((t,e)=>{const i=parseInt(t),r=parseInt(e);return i-r}),ri={kitchens:{lower:{name:"Lower Kitchen (Floors 1-2)",assignedRooms:["1C","2C","3C","4C","5C","6C","7C"],tasks:["trash","cupboard","stove"]},upper:{name:"Upper Kitchen (Floor 4)",assignedRooms:["8C","9C","10C","11C","12C","13C","14C"],tasks:["trash","cupboard","stove"]}},showers:{lower:{name:"Lower Shower (Floors 1-2)",assignedRooms:["1C","2C","3C","4C","5C","6C","7C"]},upper:{name:"Upper Shower (Floor 4)",assignedRooms:["8C","9C","10C","11C","12C","13C","14C"]}},toilets:{floor0:{name:"Ground Floor Toilet",floor:0,assignedRooms:[]},floor1:{name:"Floor 1 Toilet",floor:1,assignedRooms:["1C","2C"]},floor2:{name:"Floor 2 Toilet",floor:2,assignedRooms:["3C","4C","5C","6C","7C"]},floor3:{name:"Floor 3 Toilet",floor:3,assignedRooms:["8C","9C","10C","11C","12C"]},floor4:{name:"Floor 4 Toilet",floor:4,assignedRooms:["13C","14C"]}},laundry:{assignedRooms:go()}},O1=w.createContext(),Nn=()=>{const t=w.useContext(O1);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},FN=({children:t})=>{const[e,i]=w.useState(null),[r,o]=w.useState(!1),[u,c]=w.useState(!0);w.useEffect(()=>{const g=localStorage.getItem("roomAuth");if(g)try{const y=JSON.parse(g);i(y),o(!0)}catch(y){console.error("Error parsing stored room:",y),localStorage.removeItem("roomAuth")}c(!1)},[]);const p={currentRoom:e,isAuthenticated:r,loading:u,login:g=>{const y=HN(g.trim().toUpperCase());if(y){const[_,S]=y,E={id:_,...S};return i(E),o(!0),localStorage.setItem("roomAuth",JSON.stringify(E)),{success:!0,room:E}}return{success:!1,error:"Invalid room code"}},logout:()=>{i(null),o(!1),localStorage.removeItem("roomAuth")}};return b.jsx(O1.Provider,{value:p,children:t})},Km=w.createContext({});function Wm(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const I1=typeof window<"u",k1=I1?w.useLayoutEffect:w.useEffect,Ec=w.createContext(null);function Xm(t,e){t.indexOf(e)===-1&&t.push(e)}function Qm(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const zn=(t,e,i)=>i>e?e:i<t?t:i;let $m=()=>{};const di={},L1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function j1(t){return typeof t=="object"&&t!==null}const U1=t=>/^0[^.\s]+$/u.test(t);function Zm(t){let e;return()=>(e===void 0&&(e=t()),e)}const gn=t=>t,qN=(t,e)=>i=>e(t(i)),Ko=(...t)=>t.reduce(qN),Mo=(t,e,i)=>{const r=e-t;return r===0?1:(i-t)/r};class Jm{constructor(){this.subscriptions=[]}add(e){return Xm(this.subscriptions,e),()=>Qm(this.subscriptions,e)}notify(e,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(e,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ci=t=>t*1e3,pn=t=>t/1e3;function P1(t,e){return e?t*(1e3/e):0}const z1=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,GN=1e-7,YN=12;function KN(t,e,i,r,o){let u,c,h=0;do c=e+(i-e)/2,u=z1(c,r,o)-t,u>0?i=c:e=c;while(Math.abs(u)>GN&&++h<YN);return c}function Wo(t,e,i,r){if(t===e&&i===r)return gn;const o=u=>KN(u,0,1,t,i);return u=>u===0||u===1?u:z1(o(u),e,r)}const V1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,B1=t=>e=>1-t(1-e),H1=Wo(.33,1.53,.69,.99),ep=B1(H1),F1=V1(ep),q1=t=>(t*=2)<1?.5*ep(t):.5*(2-Math.pow(2,-10*(t-1))),tp=t=>1-Math.sin(Math.acos(t)),G1=B1(tp),Y1=V1(tp),WN=Wo(.42,0,1,1),XN=Wo(0,0,.58,1),K1=Wo(.42,0,.58,1),QN=t=>Array.isArray(t)&&typeof t[0]!="number",W1=t=>Array.isArray(t)&&typeof t[0]=="number",$N={linear:gn,easeIn:WN,easeInOut:K1,easeOut:XN,circIn:tp,circInOut:Y1,circOut:G1,backIn:ep,backInOut:F1,backOut:H1,anticipate:q1},ZN=t=>typeof t=="string",P_=t=>{if(W1(t)){$m(t.length===4);const[e,i,r,o]=t;return Wo(e,i,r,o)}else if(ZN(t))return $N[t];return t},Cu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function JN(t,e){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(g){c.has(g)&&(p.schedule(g),t()),g(h)}const p={schedule:(g,y=!1,_=!1)=>{const E=_&&o?i:r;return y&&c.add(g),E.has(g)||E.add(g),g},cancel:g=>{r.delete(g),c.delete(g)},process:g=>{if(h=g,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(m),i.clear(),o=!1,u&&(u=!1,p.process(g))}};return p}const e2=40;function X1(t,e){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=Cu.reduce((L,G)=>(L[G]=JN(u),L),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:g,update:y,preRender:_,render:S,postRender:E}=c,C=()=>{const L=di.useManualTiming?o.timestamp:performance.now();i=!1,di.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(L-o.timestamp,e2),1)),o.timestamp=L,o.isProcessing=!0,h.process(o),m.process(o),p.process(o),g.process(o),y.process(o),_.process(o),S.process(o),E.process(o),o.isProcessing=!1,i&&e&&(r=!1,t(C))},N=()=>{i=!0,r=!0,o.isProcessing||t(C)};return{schedule:Cu.reduce((L,G)=>{const q=c[G];return L[G]=(te,X=!1,W=!1)=>(i||N(),q.schedule(te,X,W)),L},{}),cancel:L=>{for(let G=0;G<Cu.length;G++)c[Cu[G]].cancel(L)},state:o,steps:c}}const{schedule:Be,cancel:ss,state:bt,steps:md}=X1(typeof requestAnimationFrame<"u"?requestAnimationFrame:gn,!0);let Lu;function t2(){Lu=void 0}const At={now:()=>(Lu===void 0&&At.set(bt.isProcessing||di.useManualTiming?bt.timestamp:performance.now()),Lu),set:t=>{Lu=t,queueMicrotask(t2)}},Q1=t=>e=>typeof e=="string"&&e.startsWith(t),$1=Q1("--"),n2=Q1("var(--"),np=t=>n2(t)?i2.test(t.split("/*")[0].trim()):!1,i2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function z_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ia={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Oo={...ia,transform:t=>zn(0,1,t)},wu={...ia,default:1},_o=t=>Math.round(t*1e5)/1e5,ip=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function s2(t){return t==null}const r2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sp=(t,e)=>i=>!!(typeof i=="string"&&r2.test(i)&&i.startsWith(t)||e&&!s2(i)&&Object.prototype.hasOwnProperty.call(i,e)),Z1=(t,e,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,h]=r.match(ip);return{[t]:parseFloat(o),[e]:parseFloat(u),[i]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},a2=t=>zn(0,255,t),pd={...ia,transform:t=>Math.round(a2(t))},ks={test:sp("rgb","red"),parse:Z1("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:r=1})=>"rgba("+pd.transform(t)+", "+pd.transform(e)+", "+pd.transform(i)+", "+_o(Oo.transform(r))+")"};function o2(t){let e="",i="",r="",o="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,i+=i,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Kd={test:sp("#"),parse:o2,transform:ks.transform},Xo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wi=Xo("deg"),jn=Xo("%"),$=Xo("px"),l2=Xo("vh"),u2=Xo("vw"),V_={...jn,parse:t=>jn.parse(t)/100,transform:t=>jn.transform(t*100)},Lr={test:sp("hsl","hue"),parse:Z1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:r=1})=>"hsla("+Math.round(t)+", "+jn.transform(_o(e))+", "+jn.transform(_o(i))+", "+_o(Oo.transform(r))+")"},at={test:t=>ks.test(t)||Kd.test(t)||Lr.test(t),parse:t=>ks.test(t)?ks.parse(t):Lr.test(t)?Lr.parse(t):Kd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ks.transform(t):Lr.transform(t),getAnimatableNone:t=>{const e=at.parse(t);return e.alpha=0,at.transform(e)}},c2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f2(t){var e,i;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ip))==null?void 0:e.length)||0)+(((i=t.match(c2))==null?void 0:i.length)||0)>0}const J1="number",eT="color",h2="var",d2="var(",B_="${}",m2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Io(t){const e=t.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const h=e.replace(m2,m=>(at.test(m)?(r.color.push(u),o.push(eT),i.push(at.parse(m))):m.startsWith(d2)?(r.var.push(u),o.push(h2),i.push(m)):(r.number.push(u),o.push(J1),i.push(parseFloat(m))),++u,B_)).split(B_);return{values:i,split:h,indexes:r,types:o}}function tT(t){return Io(t).values}function nT(t){const{split:e,types:i}=Io(t),r=e.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=e[c],o[c]!==void 0){const h=i[c];h===J1?u+=_o(o[c]):h===eT?u+=at.transform(o[c]):u+=o[c]}return u}}const p2=t=>typeof t=="number"?0:at.test(t)?at.getAnimatableNone(t):t;function g2(t){const e=tT(t);return nT(t)(e.map(p2))}const rs={test:f2,parse:tT,createTransformer:nT,getAnimatableNone:g2};function gd(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function y2({hue:t,saturation:e,lightness:i,alpha:r}){t/=360,e/=100,i/=100;let o=0,u=0,c=0;if(!e)o=u=c=i;else{const h=i<.5?i*(1+e):i+e-i*e,m=2*i-h;o=gd(m,h,t+1/3),u=gd(m,h,t),c=gd(m,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Gu(t,e){return i=>i>0?e:t}const Ye=(t,e,i)=>t+(e-t)*i,yd=(t,e,i)=>{const r=t*t,o=i*(e*e-r)+r;return o<0?0:Math.sqrt(o)},v2=[Kd,ks,Lr],_2=t=>v2.find(e=>e.test(t));function H_(t){const e=_2(t);if(!e)return!1;let i=e.parse(t);return e===Lr&&(i=y2(i)),i}const F_=(t,e)=>{const i=H_(t),r=H_(e);if(!i||!r)return Gu(t,e);const o={...i};return u=>(o.red=yd(i.red,r.red,u),o.green=yd(i.green,r.green,u),o.blue=yd(i.blue,r.blue,u),o.alpha=Ye(i.alpha,r.alpha,u),ks.transform(o))},Wd=new Set(["none","hidden"]);function b2(t,e){return Wd.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function S2(t,e){return i=>Ye(t,e,i)}function rp(t){return typeof t=="number"?S2:typeof t=="string"?np(t)?Gu:at.test(t)?F_:x2:Array.isArray(t)?iT:typeof t=="object"?at.test(t)?F_:T2:Gu}function iT(t,e){const i=[...t],r=i.length,o=t.map((u,c)=>rp(u)(u,e[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function T2(t,e){const i={...t,...e},r={};for(const o in i)t[o]!==void 0&&e[o]!==void 0&&(r[o]=rp(t[o])(t[o],e[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function E2(t,e){const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][r[u]],h=t.values[c]??0;i[o]=h,r[u]++}return i}const x2=(t,e)=>{const i=rs.createTransformer(e),r=Io(t),o=Io(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Wd.has(t)&&!o.values.length||Wd.has(e)&&!r.values.length?b2(t,e):Ko(iT(E2(r,o),o.values),i):Gu(t,e)};function sT(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?Ye(t,e,i):rp(t)(t,e)}const C2=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>Be.update(e,i),stop:()=>ss(e),now:()=>bt.isProcessing?bt.timestamp:At.now()}},rT=(t,e,i=10)=>{let r="";const o=Math.max(Math.round(e/i),2);for(let u=0;u<o;u++)r+=Math.round(t(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Yu=2e4;function ap(t){let e=0;const i=50;let r=t.next(e);for(;!r.done&&e<Yu;)e+=i,r=t.next(e);return e>=Yu?1/0:e}function w2(t,e=100,i){const r=i({...t,keyframes:[0,e]}),o=Math.min(ap(r),Yu);return{type:"keyframes",ease:u=>r.next(o*u).value/e,duration:pn(o)}}const A2=5;function aT(t,e,i){const r=Math.max(e-A2,0);return P1(i-t(r),e-r)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vd=.001;function R2({duration:t=Xe.duration,bounce:e=Xe.bounce,velocity:i=Xe.velocity,mass:r=Xe.mass}){let o,u,c=1-e;c=zn(Xe.minDamping,Xe.maxDamping,c),t=zn(Xe.minDuration,Xe.maxDuration,pn(t)),c<1?(o=p=>{const g=p*c,y=g*t,_=g-i,S=Xd(p,c),E=Math.exp(-y);return vd-_/S*E},u=p=>{const y=p*c*t,_=y*i+i,S=Math.pow(c,2)*Math.pow(p,2)*t,E=Math.exp(-y),C=Xd(Math.pow(p,2),c);return(-o(p)+vd>0?-1:1)*((_-S)*E)/C}):(o=p=>{const g=Math.exp(-p*t),y=(p-i)*t+1;return-vd+g*y},u=p=>{const g=Math.exp(-p*t),y=(i-p)*(t*t);return g*y});const h=5/t,m=D2(o,u,h);if(t=ci(t),isNaN(m))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:t};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const N2=12;function D2(t,e,i){let r=i;for(let o=1;o<N2;o++)r=r-t(r)/e(r);return r}function Xd(t,e){return t*Math.sqrt(1-e*e)}const M2=["duration","bounce"],O2=["stiffness","damping","mass"];function q_(t,e){return e.some(i=>t[i]!==void 0)}function I2(t){let e={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...t};if(!q_(t,O2)&&q_(t,M2))if(t.visualDuration){const i=t.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*zn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Xe.mass,stiffness:o,damping:u}}else{const i=R2(t);e={...e,...i,mass:Xe.mass},e.isResolvedFromDuration=!0}return e}function Ku(t=Xe.visualDuration,e=Xe.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],h={done:!1,value:u},{stiffness:m,damping:p,mass:g,duration:y,velocity:_,isResolvedFromDuration:S}=I2({...i,velocity:-pn(i.velocity||0)}),E=_||0,C=p/(2*Math.sqrt(m*g)),N=c-u,M=pn(Math.sqrt(m/g)),U=Math.abs(N)<5;r||(r=U?Xe.restSpeed.granular:Xe.restSpeed.default),o||(o=U?Xe.restDelta.granular:Xe.restDelta.default);let L;if(C<1){const q=Xd(M,C);L=te=>{const X=Math.exp(-C*M*te);return c-X*((E+C*M*N)/q*Math.sin(q*te)+N*Math.cos(q*te))}}else if(C===1)L=q=>c-Math.exp(-M*q)*(N+(E+M*N)*q);else{const q=M*Math.sqrt(C*C-1);L=te=>{const X=Math.exp(-C*M*te),W=Math.min(q*te,300);return c-X*((E+C*M*N)*Math.sinh(W)+q*N*Math.cosh(W))/q}}const G={calculatedDuration:S&&y||null,next:q=>{const te=L(q);if(S)h.done=q>=y;else{let X=q===0?E:0;C<1&&(X=q===0?ci(E):aT(L,q,te));const W=Math.abs(X)<=r,se=Math.abs(c-te)<=o;h.done=W&&se}return h.value=h.done?c:te,h},toString:()=>{const q=Math.min(ap(G),Yu),te=rT(X=>G.next(q*X).value,q,30);return q+"ms "+te},toTransition:()=>{}};return G}Ku.applyToOptions=t=>{const e=w2(t,100,Ku);return t.ease=e.ease,t.duration=ci(e.duration),t.type="keyframes",t};function Qd({keyframes:t,velocity:e=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:m,restDelta:p=.5,restSpeed:g}){const y=t[0],_={done:!1,value:y},S=W=>h!==void 0&&W<h||m!==void 0&&W>m,E=W=>h===void 0?m:m===void 0||Math.abs(h-W)<Math.abs(m-W)?h:m;let C=i*e;const N=y+C,M=c===void 0?N:c(N);M!==N&&(C=M-y);const U=W=>-C*Math.exp(-W/r),L=W=>M+U(W),G=W=>{const se=U(W),Ee=L(W);_.done=Math.abs(se)<=p,_.value=_.done?M:Ee};let q,te;const X=W=>{S(_.value)&&(q=W,te=Ku({keyframes:[_.value,E(_.value)],velocity:aT(L,W,_.value),damping:o,stiffness:u,restDelta:p,restSpeed:g}))};return X(0),{calculatedDuration:null,next:W=>{let se=!1;return!te&&q===void 0&&(se=!0,G(W),X(W)),q!==void 0&&W>=q?te.next(W-q):(!se&&G(W),_)}}}function k2(t,e,i){const r=[],o=i||di.mix||sT,u=t.length-1;for(let c=0;c<u;c++){let h=o(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||gn:e;h=Ko(m,h)}r.push(h)}return r}function L2(t,e,{clamp:i=!0,ease:r,mixer:o}={}){const u=t.length;if($m(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=k2(e,r,o),m=h.length,p=g=>{if(c&&g<t[0])return e[0];let y=0;if(m>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const _=Mo(t[y],t[y+1],g);return h[y](_)};return i?g=>p(zn(t[0],t[u-1],g)):p}function j2(t,e){const i=t[t.length-1];for(let r=1;r<=e;r++){const o=Mo(0,e,r);t.push(Ye(i,1,o))}}function U2(t){const e=[0];return j2(e,t.length-1),e}function P2(t,e){return t.map(i=>i*e)}function z2(t,e){return t.map(()=>e||K1).splice(0,t.length-1)}function bo({duration:t=300,keyframes:e,times:i,ease:r="easeInOut"}){const o=QN(r)?r.map(P_):P_(r),u={done:!1,value:e[0]},c=P2(i&&i.length===e.length?i:U2(e),t),h=L2(c,e,{ease:Array.isArray(o)?o:z2(e,o)});return{calculatedDuration:t,next:m=>(u.value=h(m),u.done=m>=t,u)}}const V2=t=>t!==null;function op(t,{repeat:e,repeatType:i="loop"},r,o=1){const u=t.filter(V2),h=o<0||e&&i!=="loop"&&e%2===1?0:u.length-1;return!h||r===void 0?u[h]:r}const B2={decay:Qd,inertia:Qd,tween:bo,keyframes:bo,spring:Ku};function oT(t){typeof t.type=="string"&&(t.type=B2[t.type])}class lp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const H2=t=>t/100;class up extends lp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:i}=this.options;i&&i.updatedAt!==At.now()&&this.tick(At.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;oT(e);const{type:i=bo,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const m=i||bo;m!==bo&&typeof h[0]!="number"&&(this.mixKeyframes=Ko(H2,sT(h[0],h[1])),h=[0,100]);const p=m({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=ap(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:_,repeatDelay:S,type:E,onUpdate:C,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const M=this.currentTime-p*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?M<0:M>o;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let L=this.currentTime,G=r;if(y){const W=Math.min(this.currentTime,o)/h;let se=Math.floor(W),Ee=W%1;!Ee&&W>=1&&(Ee=1),Ee===1&&se--,se=Math.min(se,y+1),se%2&&(_==="reverse"?(Ee=1-Ee,S&&(Ee-=S/h)):_==="mirror"&&(G=c)),L=zn(0,1,Ee)*h}const q=U?{done:!1,value:g[0]}:G.next(L);u&&(q.value=u(q.value));let{done:te}=q;!U&&m!==null&&(te=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const X=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&te);return X&&E!==Qd&&(q.value=op(g,this.options,N,this.speed)),C&&C(q.value),X&&this.finish(),q}then(e,i){return this.finished.then(e,i)}get duration(){return pn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pn(e)}get time(){return pn(this.currentTime)}set time(e){var i;e=ci(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(At.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=pn(this.currentTime))}play(){var o,u;if(this.isStopped)return;const{driver:e=C2,startTime:i}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(u=(o=this.options).onPlay)==null||u.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(At.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(e=this.options).onComplete)==null||i.call(e)}cancel(){var e,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(e=this.options).onCancel)==null||i.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),e.observe(this)}}function F2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ls=t=>t*180/Math.PI,$d=t=>{const e=Ls(Math.atan2(t[1],t[0]));return Zd(e)},q2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:$d,rotateZ:$d,skewX:t=>Ls(Math.atan(t[1])),skewY:t=>Ls(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Zd=t=>(t=t%360,t<0&&(t+=360),t),G_=$d,Y_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),K_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),G2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Y_,scaleY:K_,scale:t=>(Y_(t)+K_(t))/2,rotateX:t=>Zd(Ls(Math.atan2(t[6],t[5]))),rotateY:t=>Zd(Ls(Math.atan2(-t[2],t[0]))),rotateZ:G_,rotate:G_,skewX:t=>Ls(Math.atan(t[4])),skewY:t=>Ls(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Jd(t){return t.includes("scale")?1:0}function em(t,e){if(!t||t==="none")return Jd(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=G2,o=i;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=q2,o=h}if(!o)return Jd(e);const u=r[e],c=o[1].split(",").map(K2);return typeof u=="function"?u(c):c[u]}const Y2=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return em(i,e)};function K2(t){return parseFloat(t.trim())}const sa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ra=new Set(sa),W_=t=>t===ia||t===$,W2=new Set(["x","y","z"]),X2=sa.filter(t=>!W2.has(t));function Q2(t){const e=[];return X2.forEach(i=>{const r=t.getValue(i);r!==void 0&&(e.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),e}const Ji={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>em(e,"x"),y:(t,{transform:e})=>em(e,"y")};Ji.translateX=Ji.x;Ji.translateY=Ji.y;const Ps=new Set;let tm=!1,nm=!1,im=!1;function lT(){if(nm){const t=Array.from(Ps).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),i=new Map;e.forEach(r=>{const o=Q2(r);o.length&&(i.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{var h;(h=r.getValue(u))==null||h.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}nm=!1,tm=!1,Ps.forEach(t=>t.complete(im)),Ps.clear()}function uT(){Ps.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(nm=!0)})}function $2(){im=!0,uT(),lT(),im=!1}class cp{constructor(e,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ps.add(this),tm||(tm=!0,Be.read(uT),Be.resolveKeyframes(lT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:r,motionValue:o}=this;if(e[0]===null){const u=o==null?void 0:o.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&i){const h=r.readValue(i,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),o&&u===void 0&&o.set(e[0])}F2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ps.delete(this)}cancel(){this.state==="scheduled"&&(Ps.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Z2=t=>t.startsWith("--");function J2(t,e,i){Z2(e)?t.style.setProperty(e,i):t.style[e]=i}const eD=Zm(()=>window.ScrollTimeline!==void 0),tD={};function nD(t,e){const i=Zm(t);return()=>tD[e]??i()}const cT=nD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yo=([t,e,i,r])=>`cubic-bezier(${t}, ${e}, ${i}, ${r})`,X_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yo([0,.65,.55,1]),circOut:yo([.55,0,1,.45]),backIn:yo([.31,.01,.66,-.59]),backOut:yo([.33,1.53,.69,.99])};function fT(t,e){if(t)return typeof t=="function"?cT()?rT(t,e):"ease-out":W1(t)?yo(t):Array.isArray(t)?t.map(i=>fT(i,e)||X_.easeOut):X_[t]}function iD(t,e,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:m}={},p=void 0){const g={[e]:i};m&&(g.offset=m);const y=fT(h,o);Array.isArray(y)&&(g.easing=y);const _={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(g,_)}function hT(t){return typeof t=="function"&&"applyToOptions"in t}function sD({type:t,...e}){return hT(t)&&cT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class rD extends lp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,$m(typeof e.type!="string");const p=sD(e);this.animation=iD(i,r,o,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=op(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):J2(i,r,g),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,i;(i=(e=this.animation).finish)==null||i.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,i;this.isPseudoElement||(i=(e=this.animation).commitStyles)==null||i.call(e)}get duration(){var i,r;const e=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return pn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pn(e)}get time(){return pn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ci(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&eD()?(this.animation.timeline=e,gn):i(this)}}const dT={anticipate:q1,backInOut:F1,circInOut:Y1};function aD(t){return t in dT}function oD(t){typeof t.ease=="string"&&aD(t.ease)&&(t.ease=dT[t.ease])}const _d=10;class lD extends rD{constructor(e){oD(e),oT(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const h=new up({...c,autoplay:!1}),m=Math.max(_d,At.now()-this.startTime),p=zn(0,_d,m-_d);i.setWithVelocity(h.sample(Math.max(0,m-p)).value,h.sample(m).value,p),h.stop()}}const Q_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(rs.test(t)||t==="0")&&!t.startsWith("url("));function uD(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function cD(t,e,i,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=Q_(o,e),h=Q_(u,e);return!c||!h?!1:uD(t)||(i==="spring"||hT(i))&&r}function sm(t){t.duration=0,t.type="keyframes"}const fD=new Set(["opacity","clipPath","filter","transform"]),hD=Zm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dD(t){var g;const{motionValue:e,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return hD()&&i&&fD.has(i)&&(i!=="transform"||!p)&&!m&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const mD=40;class pD extends lp{constructor({autoplay:e=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:m,motionValue:p,element:g,...y}){var E;super(),this.stop=()=>{var C,N;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=At.now();const _={autoplay:e,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:m,motionValue:p,element:g,...y},S=(g==null?void 0:g.KeyframeResolver)||cp;this.keyframeResolver=new S(h,(C,N,M)=>this.onKeyframesResolved(C,N,_,!M),m,p,g),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,i,r,o){var N,M;this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:m,isHandoff:p,onUpdate:g}=r;this.resolvedAt=At.now(),cD(e,u,c,h)||((di.instantAnimations||!m)&&(g==null||g(op(e,r,i))),e[0]=e[e.length-1],sm(r),r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>mD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:e},S=!p&&dD(_),E=(M=(N=_.motionValue)==null?void 0:N.owner)==null?void 0:M.current,C=S?new lD({..._,element:E}):new up(_);C.finished.then(()=>{this.notifyFinished()}).catch(gn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),$2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function mT(t,e,i,r=0,o=1){const u=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),c=t.size,h=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:h-u*r}const gD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yD(t){const e=gD.exec(t);if(!e)return[,];const[,i,r,o]=e;return[`--${i??r}`,o]}function pT(t,e,i=1){const[r,o]=yD(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const c=u.trim();return L1(c)?parseFloat(c):c}return np(o)?pT(o,e,i+1):o}const vD={type:"spring",stiffness:500,damping:25,restSpeed:10},_D=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bD={type:"keyframes",duration:.8},SD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TD=(t,{keyframes:e})=>e.length>2?bD:ra.has(t)?t.startsWith("scale")?_D(e[1]):vD:SD,ED=t=>t!==null;function xD(t,{repeat:e,repeatType:i="loop"},r){const o=t.filter(ED),u=e&&i!=="loop"&&e%2===1?0:o.length-1;return o[u]}function fp(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function CD({when:t,delay:e,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:h,from:m,elapsed:p,...g}){return!!Object.keys(g).length}const hp=(t,e,i,r={},o,u)=>c=>{const h=fp(r,t)||{},m=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ci(m);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:o};CD(h)||Object.assign(g,TD(t,g)),g.duration&&(g.duration=ci(g.duration)),g.repeatDelay&&(g.repeatDelay=ci(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(sm(g),g.delay===0&&(y=!0)),(di.instantAnimations||di.skipAnimations)&&(y=!0,sm(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!u&&e.get()!==void 0){const _=xD(g.keyframes,h);if(_!==void 0){Be.update(()=>{g.onUpdate(_),g.onComplete()});return}}return h.isSync?new up(g):new pD(g)};function $_(t){const e=[{},{}];return t==null||t.values.forEach((i,r)=>{e[0][r]=i.get(),e[1][r]=i.getVelocity()}),e}function dp(t,e,i,r){if(typeof e=="function"){const[o,u]=$_(r);e=e(i!==void 0?i:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=$_(r);e=e(i!==void 0?i:t.custom,o,u)}return e}function Br(t,e,i){const r=t.getProps();return dp(r,e,i!==void 0?i:r.custom,t)}const gT=new Set(["width","height","top","left","right","bottom",...sa]),Z_=30,wD=t=>!isNaN(parseFloat(t));class AD{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var u;const o=At.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=At.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new Jm);const r=this.events[e].add(i);return e==="change"?()=>{r(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=At.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Z_)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,Z_);return P1(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,i;(e=this.dependents)==null||e.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wr(t,e){return new AD(t,e)}const rm=t=>Array.isArray(t);function RD(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,Wr(i))}function ND(t){return rm(t)?t[t.length-1]||0:t}function DD(t,e){const i=Br(t,e);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const h=ND(u[c]);RD(t,c,h)}}const xt=t=>!!(t&&t.getVelocity);function MD(t){return!!(xt(t)&&t.add)}function am(t,e){const i=t.getValue("willChange");if(MD(i))return i.add(e);if(!i&&di.WillChange){const r=new di.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function mp(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const OD="framerAppearId",yT="data-"+mp(OD);function vT(t){return t.props[yT]}function ID({protectedKeys:t,needsAnimating:e},i){const r=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,r}function _T(t,e,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(u=r);const m=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in h){const y=t.getValue(g,t.latestValues[g]??null),_=h[g];if(_===void 0||p&&ID(p,g))continue;const S={delay:i,...fp(u||{},g)},E=y.get();if(E!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===E&&!S.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const M=vT(t);if(M){const U=window.MotionHandoffAnimation(M,g,Be);U!==null&&(S.startTime=U,C=!0)}}am(t,g),y.start(hp(g,y,_,t.shouldReduceMotion&&gT.has(g)?{type:!1}:S,t,C));const N=y.animation;N&&m.push(N)}return c&&Promise.all(m).then(()=>{Be.update(()=>{c&&DD(t,c)})}),m}function om(t,e,i={}){var m;const r=Br(t,e,i.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(_T(t,r,i)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=o;return kD(t,e,p,g,y,_,i)}:()=>Promise.resolve(),{when:h}=o;if(h){const[p,g]=h==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(i.delay)])}function kD(t,e,i=0,r=0,o=0,u=1,c){const h=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),h.push(om(m,e,{...c,delay:i+(typeof r=="function"?0:r)+mT(t.variantChildren,m,r,o,u)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function LD(t,e,i={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(u=>om(t,u,i));r=Promise.all(o)}else if(typeof e=="string")r=om(t,e,i);else{const o=typeof e=="function"?Br(t,e,i.custom):e;r=Promise.all(_T(t,o,i))}return r.then(()=>{t.notify("AnimationComplete",e)})}const jD={test:t=>t==="auto",parse:t=>t},bT=t=>e=>e.test(t),ST=[ia,$,jn,Wi,u2,l2,jD],J_=t=>ST.find(bT(t));function UD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||U1(t):!0}const PD=new Set(["brightness","contrast","saturate","opacity"]);function zD(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=i.match(ip)||[];if(!r)return t;const o=i.replace(r,"");let u=PD.has(e)?1:0;return r!==i&&(u*=100),e+"("+u+o+")"}const VD=/\b([a-z-]*)\(.*?\)/gu,lm={...rs,getAnimatableNone:t=>{const e=t.match(VD);return e?e.map(zD).join(" "):t}},eb={...ia,transform:Math.round},BD={rotate:Wi,rotateX:Wi,rotateY:Wi,rotateZ:Wi,scale:wu,scaleX:wu,scaleY:wu,scaleZ:wu,skew:Wi,skewX:Wi,skewY:Wi,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Oo,originX:V_,originY:V_,originZ:$},pp={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,inset:$,insetBlock:$,insetBlockStart:$,insetBlockEnd:$,insetInline:$,insetInlineStart:$,insetInlineEnd:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,paddingBlock:$,paddingBlockStart:$,paddingBlockEnd:$,paddingInline:$,paddingInlineStart:$,paddingInlineEnd:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,marginBlock:$,marginBlockStart:$,marginBlockEnd:$,marginInline:$,marginInlineStart:$,marginInlineEnd:$,backgroundPositionX:$,backgroundPositionY:$,...BD,zIndex:eb,fillOpacity:Oo,strokeOpacity:Oo,numOctaves:eb},HD={...pp,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:lm,WebkitFilter:lm},TT=t=>HD[t];function ET(t,e){let i=TT(t);return i!==lm&&(i=rs),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const FD=new Set(["auto","none","0"]);function qD(t,e,i){let r=0,o;for(;r<t.length&&!o;){const u=t[r];typeof u=="string"&&!FD.has(u)&&Io(u).values.length&&(o=t[r]),r++}if(o&&i)for(const u of e)t[u]=ET(i,o)}class GD extends cp{constructor(e,i,r,o,u){super(e,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let y=e[g];if(typeof y=="string"&&(y=y.trim(),np(y))){const _=pT(y,i.current);_!==void 0&&(e[g]=_),g===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!gT.has(r)||e.length!==2)return;const[o,u]=e,c=J_(o),h=J_(u),m=z_(o),p=z_(u);if(m!==p&&Ji[r]){this.needsMeasurement=!0;return}if(c!==h)if(W_(c)&&W_(h))for(let g=0;g<e.length;g++){const y=e[g];typeof y=="string"&&(e[g]=parseFloat(y))}else Ji[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||UD(e[o]))&&r.push(o);r.length&&qD(e,r,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ji[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var h;const{element:e,name:i,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Ji[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function YD(t,e,i){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=(i==null?void 0:i[t])??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(r=>r!=null)}const xT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function um(t){return j1(t)&&"offsetHeight"in t}const{schedule:gp}=X1(queueMicrotask,!1),Tn={x:!1,y:!1};function CT(){return Tn.x||Tn.y}function KD(t){return t==="x"||t==="y"?Tn[t]?null:(Tn[t]=!0,()=>{Tn[t]=!1}):Tn.x||Tn.y?null:(Tn.x=Tn.y=!0,()=>{Tn.x=Tn.y=!1})}function wT(t,e){const i=YD(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[i,o,()=>r.abort()]}function tb(t){return!(t.pointerType==="touch"||CT())}function WD(t,e,i={}){const[r,o,u]=wT(t,i),c=h=>{if(!tb(h))return;const{target:m}=h,p=e(m,h);if(typeof p!="function"||!m)return;const g=y=>{tb(y)&&(p(y),m.removeEventListener("pointerleave",g))};m.addEventListener("pointerleave",g,o)};return r.forEach(h=>{h.addEventListener("pointerenter",c,o)}),u}const AT=(t,e)=>e?t===e?!0:AT(t,e.parentElement):!1,yp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,XD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RT(t){return XD.has(t.tagName)||t.isContentEditable===!0}const ju=new WeakSet;function nb(t){return e=>{e.key==="Enter"&&t(e)}}function bd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const QD=(t,e)=>{const i=t.currentTarget;if(!i)return;const r=nb(()=>{if(ju.has(i))return;bd(i,"down");const o=nb(()=>{bd(i,"up")}),u=()=>bd(i,"cancel");i.addEventListener("keyup",o,e),i.addEventListener("blur",u,e)});i.addEventListener("keydown",r,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),e)};function ib(t){return yp(t)&&!CT()}function $D(t,e,i={}){const[r,o,u]=wT(t,i),c=h=>{const m=h.currentTarget;if(!ib(h))return;ju.add(m);const p=e(m,h),g=(S,E)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),ju.has(m)&&ju.delete(m),ib(S)&&typeof p=="function"&&p(S,{success:E})},y=S=>{g(S,m===window||m===document||i.useGlobalTarget||AT(m,S.target))},_=S=>{g(S,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",_,o)};return r.forEach(h=>{(i.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),um(h)&&(h.addEventListener("focus",p=>QD(p,o)),!RT(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function NT(t){return j1(t)&&"ownerSVGElement"in t}function ZD(t){return NT(t)&&t.tagName==="svg"}const JD=[...ST,at,rs],eM=t=>JD.find(bT(t)),sb=()=>({translate:0,scale:1,origin:0,originPoint:0}),jr=()=>({x:sb(),y:sb()}),rb=()=>({min:0,max:0}),lt=()=>({x:rb(),y:rb()}),cm={current:null},DT={current:!1},tM=typeof window<"u";function nM(){if(DT.current=!0,!!tM)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>cm.current=t.matches;t.addEventListener("change",e),e()}else cm.current=!1}const iM=new WeakMap;function xc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ko(t){return typeof t=="string"||Array.isArray(t)}const vp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_p=["initial",...vp];function Cc(t){return xc(t.animate)||_p.some(e=>ko(t[e]))}function MT(t){return!!(Cc(t)||t.variants)}function sM(t,e,i){for(const r in e){const o=e[r],u=i[r];if(xt(o))t.addValue(r,o);else if(xt(u))t.addValue(r,Wr(o,{owner:t}));else if(u!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,Wr(c!==void 0?c:o,{owner:t}))}}for(const r in i)e[r]===void 0&&t.removeValue(r);return e}const ab=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Wu={};function OT(t){Wu=t}function rM(){return Wu}class aM{scrapeMotionValuesFromProps(e,i,r){return{}}constructor({parent:e,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=At.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Be.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=i.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=i,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=Cc(i),this.isVariantNode=MT(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(i,{},this);for(const _ in y){const S=y[_];m[_]!==void 0&&xt(S)&&S.set(m[_])}}mount(e){var i;this.current=e,iM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(DT.current||nM(),this.shouldReduceMotion=cm.current),(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ss(this.notifyUpdate),ss(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const r=this.features[i];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ra.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wu){const i=Wu[e];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<ab.length;r++){const o=ab[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=e[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=sM(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const r=this.values.get(e);i!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&i!==void 0&&(r=Wr(i===null?void 0:i,{owner:this}),this.addValue(e,r)),r}readValue(e,i){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(L1(r)||U1(r))?r=parseFloat(r):!eM(r)&&rs.test(i)&&(r=ET(e,i)),this.setBaseTarget(e,xt(r)?r.get():r)),xt(r)?r.get():r}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=dp(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!xt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new Jm),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){gp.render(this.render)}}class IT extends aM{constructor(){super(...arguments),this.KeyframeResolver=GD}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){const r=e.style;return r?r[i]:void 0}removeValueFromRenderState(e,{vars:i,style:r}){delete i[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xt(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}class ls{constructor(e){this.isMounted=!1,this.node=e}update(){}}function kT({top:t,left:e,right:i,bottom:r}){return{x:{min:e,max:i},y:{min:t,max:r}}}function oM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lM(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function Sd(t){return t===void 0||t===1}function fm({scale:t,scaleX:e,scaleY:i}){return!Sd(t)||!Sd(e)||!Sd(i)}function Ms(t){return fm(t)||LT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function LT(t){return ob(t.x)||ob(t.y)}function ob(t){return t&&t!=="0%"}function Xu(t,e,i){const r=t-i,o=e*r;return i+o}function lb(t,e,i,r,o){return o!==void 0&&(t=Xu(t,o,r)),Xu(t,i,r)+e}function hm(t,e=0,i=1,r,o){t.min=lb(t.min,e,i,r,o),t.max=lb(t.max,e,i,r,o)}function jT(t,{x:e,y:i}){hm(t.x,e.translate,e.scale,e.originPoint),hm(t.y,i.translate,i.scale,i.originPoint)}const ub=.999999999999,cb=1.0000000000001;function uM(t,e,i,r=!1){const o=i.length;if(!o)return;e.x=e.y=1;let u,c;for(let h=0;h<o;h++){u=i[h],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Pr(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,jT(t,c)),r&&Ms(u.latestValues)&&Pr(t,u.latestValues))}e.x<cb&&e.x>ub&&(e.x=1),e.y<cb&&e.y>ub&&(e.y=1)}function Ur(t,e){t.min=t.min+e,t.max=t.max+e}function fb(t,e,i,r,o=.5){const u=Ye(t.min,t.max,o);hm(t,e,i,u,r)}function Pr(t,e){fb(t.x,e.x,e.scaleX,e.scale,e.originX),fb(t.y,e.y,e.scaleY,e.scale,e.originY)}function UT(t,e){return kT(lM(t.getBoundingClientRect(),e))}function cM(t,e,i){const r=UT(t,i),{scroll:o}=e;return o&&(Ur(r.x,o.offset.x),Ur(r.y,o.offset.y)),r}const fM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hM=sa.length;function dM(t,e,i){let r="",o=!0;for(let u=0;u<hM;u++){const c=sa[u],h=t[c];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(c.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||i){const p=xT(h,pp[c]);if(!m){o=!1;const g=fM[c]||c;r+=`${g}(${p}) `}i&&(e[c]=p)}}return r=r.trim(),i?r=i(e,o?"":r):o&&(r="none"),r}function bp(t,e,i){const{style:r,vars:o,transformOrigin:u}=t;let c=!1,h=!1;for(const m in e){const p=e[m];if(ra.has(m)){c=!0;continue}else if($1(m)){o[m]=p;continue}else{const g=xT(p,pp[m]);m.startsWith("origin")?(h=!0,u[m]=g):r[m]=g}}if(e.transform||(c||i?r.transform=dM(e,t.transform,i):r.transform&&(r.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:g=0}=u;r.transformOrigin=`${m} ${p} ${g}`}}function PT(t,{style:e,vars:i},r,o){const u=t.style;let c;for(c in e)u[c]=e[c];o==null||o.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function hb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const co={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($.test(t))t=parseFloat(t);else return t;const i=hb(t,e.target.x),r=hb(t,e.target.y);return`${i}% ${r}%`}},mM={correct:(t,{treeScale:e,projectionDelta:i})=>{const r=t,o=rs.parse(t);if(o.length>5)return r;const u=rs.createTransformer(t),c=typeof o[0]!="number"?1:0,h=i.x.scale*e.x,m=i.y.scale*e.y;o[0+c]/=h,o[1+c]/=m;const p=Ye(h,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),u(o)}},dm={borderRadius:{...co,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:co,borderTopRightRadius:co,borderBottomLeftRadius:co,borderBottomRightRadius:co,boxShadow:mM};function zT(t,{layout:e,layoutId:i}){return ra.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!dm[t]||t==="opacity")}function Sp(t,e,i){var c;const r=t.style,o=e==null?void 0:e.style,u={};if(!r)return u;for(const h in r)(xt(r[h])||o&&xt(o[h])||zT(h,t)||((c=i==null?void 0:i.getValue(h))==null?void 0:c.liveStyle)!==void 0)&&(u[h]=r[h]);return u}function pM(t){return window.getComputedStyle(t)}class gM extends IT{constructor(){super(...arguments),this.type="html",this.renderInstance=PT}readValueFromInstance(e,i){var r;if(ra.has(i))return(r=this.projection)!=null&&r.isProjecting?Jd(i):Y2(e,i);{const o=pM(e),u=($1(i)?o.getPropertyValue(i):o[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:i}){return UT(e,i)}build(e,i,r){bp(e,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,i,r){return Sp(e,i,r)}}const yM={offset:"stroke-dashoffset",array:"stroke-dasharray"},vM={offset:"strokeDashoffset",array:"strokeDasharray"};function _M(t,e,i=1,r=0,o=!0){t.pathLength=1;const u=o?yM:vM;t[u.offset]=`${-r}`,t[u.array]=`${e} ${i}`}const bM=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function VT(t,{attrX:e,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...h},m,p,g){if(bp(t,h,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:_}=t;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox);for(const S of bM)y[S]!==void 0&&(_[S]=y[S],delete y[S]);e!==void 0&&(y.x=e),i!==void 0&&(y.y=i),r!==void 0&&(y.scale=r),o!==void 0&&_M(y,o,u,c,!1)}const BT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),HT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function SM(t,e,i,r){PT(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(BT.has(o)?o:mp(o),e.attrs[o])}function FT(t,e,i){const r=Sp(t,e,i);for(const o in t)if(xt(t[o])||xt(e[o])){const u=sa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=t[o]}return r}class TM extends IT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(ra.has(i)){const r=TT(i);return r&&r.default||0}return i=BT.has(i)?i:mp(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,r){return FT(e,i,r)}build(e,i,r){VT(e,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,i,r,o){SM(e,i,r,o)}mount(e){this.isSVGTag=HT(e.tagName),super.mount(e)}}const EM=_p.length;function qT(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?qT(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<EM;i++){const r=_p[i],o=t.props[r];(ko(o)||o===!1)&&(e[r]=o)}return e}function GT(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}const xM=[...vp].reverse(),CM=vp.length;function wM(t){return e=>Promise.all(e.map(({animation:i,options:r})=>LD(t,i,r)))}function AM(t){let e=wM(t),i=db(),r=!0;const o=m=>(p,g)=>{var _;const y=Br(t,g,m==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:S,transitionEnd:E,...C}=y;p={...p,...C,...E}}return p};function u(m){e=m(t)}function c(m){const{props:p}=t,g=qT(t.parent)||{},y=[],_=new Set;let S={},E=1/0;for(let N=0;N<CM;N++){const M=xM[N],U=i[M],L=p[M]!==void 0?p[M]:g[M],G=ko(L),q=M===m?U.isActive:null;q===!1&&(E=N);let te=L===g[M]&&L!==p[M]&&G;if(te&&r&&t.manuallyAnimateOnMount&&(te=!1),U.protectedKeys={...S},!U.isActive&&q===null||!L&&!U.prevProp||xc(L)||typeof L=="boolean")continue;const X=RM(U.prevProp,L);let W=X||M===m&&U.isActive&&!te&&G||N>E&&G,se=!1;const Ee=Array.isArray(L)?L:[L];let $e=Ee.reduce(o(M),{});q===!1&&($e={});const{prevResolvedValues:tt={}}=U,yn={...tt,...$e},nn=F=>{W=!0,_.has(F)&&(se=!0,_.delete(F)),U.needsAnimating[F]=!0;const J=t.getValue(F);J&&(J.liveStyle=!1)};for(const F in yn){const J=$e[F],ve=tt[F];if(S.hasOwnProperty(F))continue;let Te=!1;rm(J)&&rm(ve)?Te=!GT(J,ve):Te=J!==ve,Te?J!=null?nn(F):_.add(F):J!==void 0&&_.has(F)?nn(F):U.protectedKeys[F]=!0}U.prevProp=L,U.prevResolvedValues=$e,U.isActive&&(S={...S,...$e}),r&&t.blockInitialAnimation&&(W=!1);const Mt=te&&X;W&&(!Mt||se)&&y.push(...Ee.map(F=>{const J={type:M};if(typeof F=="string"&&r&&!Mt&&t.manuallyAnimateOnMount&&t.parent){const{parent:ve}=t,Te=Br(ve,F);if(ve.enteringChildren&&Te){const{delayChildren:R}=Te.transition||{};J.delay=mT(ve.enteringChildren,t,R)}}return{animation:F,options:J}}))}if(_.size){const N={};if(typeof p.initial!="boolean"){const M=Br(t,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(N.transition=M.transition)}_.forEach(M=>{const U=t.getBaseTarget(M),L=t.getValue(M);L&&(L.liveStyle=!0),N[M]=U??null}),y.push({animation:N})}let C=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(y):Promise.resolve()}function h(m,p){var y;if(i[m].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(_=>{var S;return(S=_.animationState)==null?void 0:S.setActive(m,p)}),i[m].isActive=p;const g=c(m);for(const _ in i)i[_].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>i,reset:()=>{i=db()}}}function RM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!GT(e,t):!1}function Ds(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function db(){return{animate:Ds(!0),whileInView:Ds(),whileHover:Ds(),whileTap:Ds(),whileDrag:Ds(),whileFocus:Ds(),exit:Ds()}}function mb(t,e){t.min=e.min,t.max=e.max}function Sn(t,e){mb(t.x,e.x),mb(t.y,e.y)}function pb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const YT=1e-4,NM=1-YT,DM=1+YT,KT=.01,MM=0-KT,OM=0+KT;function Rt(t){return t.max-t.min}function IM(t,e,i){return Math.abs(t-e)<=i}function gb(t,e,i,r=.5){t.origin=r,t.originPoint=Ye(e.min,e.max,t.origin),t.scale=Rt(i)/Rt(e),t.translate=Ye(i.min,i.max,t.origin)-t.originPoint,(t.scale>=NM&&t.scale<=DM||isNaN(t.scale))&&(t.scale=1),(t.translate>=MM&&t.translate<=OM||isNaN(t.translate))&&(t.translate=0)}function So(t,e,i,r){gb(t.x,e.x,i.x,r?r.originX:void 0),gb(t.y,e.y,i.y,r?r.originY:void 0)}function yb(t,e,i){t.min=i.min+e.min,t.max=t.min+Rt(e)}function kM(t,e,i){yb(t.x,e.x,i.x),yb(t.y,e.y,i.y)}function vb(t,e,i){t.min=e.min-i.min,t.max=t.min+Rt(e)}function Qu(t,e,i){vb(t.x,e.x,i.x),vb(t.y,e.y,i.y)}function _b(t,e,i,r,o){return t-=e,t=Xu(t,1/i,r),o!==void 0&&(t=Xu(t,1/o,r)),t}function LM(t,e=0,i=1,r=.5,o,u=t,c=t){if(jn.test(e)&&(e=parseFloat(e),e=Ye(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Ye(u.min,u.max,r);t===u&&(h-=e),t.min=_b(t.min,e,i,h,o),t.max=_b(t.max,e,i,h,o)}function bb(t,e,[i,r,o],u,c){LM(t,e[i],e[r],e[o],e.scale,u,c)}const jM=["x","scaleX","originX"],UM=["y","scaleY","originY"];function Sb(t,e,i,r){bb(t.x,e,jM,i?i.x:void 0,r?r.x:void 0),bb(t.y,e,UM,i?i.y:void 0,r?r.y:void 0)}function Tb(t){return t.translate===0&&t.scale===1}function WT(t){return Tb(t.x)&&Tb(t.y)}function Eb(t,e){return t.min===e.min&&t.max===e.max}function PM(t,e){return Eb(t.x,e.x)&&Eb(t.y,e.y)}function xb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function XT(t,e){return xb(t.x,e.x)&&xb(t.y,e.y)}function Cb(t){return Rt(t.x)/Rt(t.y)}function wb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function mn(t){return[t("x"),t("y")]}function zM(t,e,i){let r="";const o=t.x.translate/e.x,u=t.y.translate/e.y,c=(i==null?void 0:i.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:_,skewX:S,skewY:E}=i;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),S&&(r+=`skewX(${S}deg) `),E&&(r+=`skewY(${E}deg) `)}const h=t.x.scale*e.x,m=t.y.scale*e.y;return(h!==1||m!==1)&&(r+=`scale(${h}, ${m})`),r||"none"}const QT=["TopLeft","TopRight","BottomLeft","BottomRight"],VM=QT.length,Ab=t=>typeof t=="string"?parseFloat(t):t,Rb=t=>typeof t=="number"||$.test(t);function BM(t,e,i,r,o,u){o?(t.opacity=Ye(0,i.opacity??1,HM(r)),t.opacityExit=Ye(e.opacity??1,0,FM(r))):u&&(t.opacity=Ye(e.opacity??1,i.opacity??1,r));for(let c=0;c<VM;c++){const h=`border${QT[c]}Radius`;let m=Nb(e,h),p=Nb(i,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Rb(m)===Rb(p)?(t[h]=Math.max(Ye(Ab(m),Ab(p),r),0),(jn.test(p)||jn.test(m))&&(t[h]+="%")):t[h]=p}(e.rotate||i.rotate)&&(t.rotate=Ye(e.rotate||0,i.rotate||0,r))}function Nb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const HM=$T(0,.5,G1),FM=$T(.5,.95,gn);function $T(t,e,i){return r=>r<t?0:r>e?1:i(Mo(t,e,r))}function qM(t,e,i){const r=xt(t)?t:Wr(t);return r.start(hp("",r,e,i)),r.animation}function Lo(t,e,i,r={passive:!0}){return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i)}const GM=(t,e)=>t.depth-e.depth;class YM{constructor(){this.children=[],this.isDirty=!1}add(e){Xm(this.children,e),this.isDirty=!0}remove(e){Qm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GM),this.isDirty=!1,this.children.forEach(e)}}function KM(t,e){const i=At.now(),r=({timestamp:o})=>{const u=o-i;u>=e&&(ss(r),t(u-e))};return Be.setup(r,!0),()=>ss(r)}function Uu(t){return xt(t)?t.get():t}class WM{constructor(){this.members=[]}add(e){Xm(this.members,e),e.scheduleRender()}remove(e){if(Qm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(o=>e===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,i){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,i&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:r}=e;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Pu={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Td=["","X","Y","Z"],XM=1e3;let QM=0;function Ed(t,e,i,r){const{latestValues:o}=e;o[t]&&(i[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ZT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=vT(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",Be,!(o||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&ZT(r)}function JT({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},h=e==null?void 0:e()){this.id=QM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(JM),this.nodes.forEach(iO),this.nodes.forEach(sO),this.nodes.forEach(eO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new YM)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Jm),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const m=this.eventHandlers.get(c);m&&m.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=NT(c)&&!ZD(c),this.instance=c;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),t){let g,y=0;const _=()=>this.root.updateBlockedByResize=!1;Be.read(()=>{y=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==y&&(y=S,this.root.updateBlockedByResize=!0,g&&g(),g=KM(_,250),Pu.hasAnimatedSinceResize&&(Pu.hasAnimatedSinceResize=!1,this.nodes.forEach(Ob)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||uO,{onLayoutAnimationStart:C,onLayoutAnimationComplete:N}=p.getProps(),M=!this.targetLayout||!XT(this.targetLayout,S),U=!y&&_;if(this.options.layoutRoot||this.resumeFrom||U||y&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...fp(E,"layout"),onPlay:C,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(g,U)}else y||Ob(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Db);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Mb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nO),this.nodes.forEach($M),this.nodes.forEach(ZM)):this.nodes.forEach(Mb),this.clearAllSnapshots();const h=At.now();bt.delta=zn(0,1e3/60,h-bt.timestamp),bt.timestamp=h,bt.isProcessing=!0,md.update.process(bt),md.preRender.process(bt),md.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tO),this.sharedNodes.forEach(aO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!WT(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||Ms(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return c&&(m=this.removeTransform(m)),cO(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return lt();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(fO))){const{scroll:g}=this.root;g&&(Ur(h.x,g.offset.x),Ur(h.y,g.offset.y))}return h}removeElementScroll(c){var m;const h=lt();if(Sn(h,c),(m=this.scroll)!=null&&m.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Sn(h,c),Ur(h.x,y.offset.x),Ur(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const m=lt();Sn(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Pr(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ms(g.latestValues)&&Pr(m,g.latestValues)}return Ms(this.latestValues)&&Pr(m,this.latestValues),m}removeTransform(c){const h=lt();Sn(h,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ms(p.latestValues))continue;fm(p.latestValues)&&p.updateSnapshot();const g=lt(),y=p.measurePageBox();Sn(g,y),Sb(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ms(this.latestValues)&&Sb(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var S;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!this.layout||!(g||y))return;this.resolvedRelativeTargetAt=bt.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sn(this.target,this.layout.layoutBox),jT(this.target,this.targetDelta)):Sn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||fm(this.parent.latestValues)||LT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Qu(this.relativeTargetOrigin,h,m),Sn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var E;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Sn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;uM(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=lt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pb(this.prevProjectionDelta.x,this.projectionDelta.x),pb(this.prevProjectionDelta.y,this.projectionDelta.y)),So(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!wb(this.projectionDelta.x,this.prevProjectionDelta.x)||!wb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jr(),this.projectionDelta=jr(),this.projectionDeltaWithTransform=jr()}setAnimationOrigin(c,h=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},y=jr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=lt(),S=m?m.source:void 0,E=this.layout?this.layout.source:void 0,C=S!==E,N=this.getStack(),M=!N||N.members.length<=1,U=!!(C&&!M&&this.options.crossfade===!0&&!this.path.some(lO));this.animationProgress=0;let L;this.mixTargetDelta=G=>{const q=G/1e3;Ib(y.x,c.x,q),Ib(y.y,c.y,q),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qu(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oO(this.relativeTarget,this.relativeTargetOrigin,_,q),L&&PM(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=lt()),Sn(L,this.relativeTarget)),C&&(this.animationValues=g,BM(g,p,this.latestValues,q,U,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,m,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{Pu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wr(0)),this.currentAnimation=qM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),c.onUpdate&&c.onUpdate(g)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:g}=c;if(!(!h||!m||!p)){if(this!==c&&this.layout&&p&&eE(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||lt();const y=Rt(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+y;const _=Rt(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+_}Sn(h,m),Pr(h,g),So(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new WM),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&Ed("z",c,p,this.animationValues);for(let g=0;g<Td.length;g++)Ed(`rotate${Td[g]}`,c,p,this.animationValues),Ed(`skew${Td[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Uu(h==null?void 0:h.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Uu(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Ms(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=zM(this.projectionDeltaWithTransform,this.treeScale,g);m&&(y=m(g,y)),c.transform=y;const{x:_,y:S}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,p.animationValues?c.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const E in dm){if(g[E]===void 0)continue;const{correct:C,applyTo:N,isCSSVariable:M}=dm[E],U=y==="none"?g[E]:C(g[E],p);if(N){const L=N.length;for(let G=0;G<L;G++)c[N[G]]=U}else M?this.options.visualElement.renderState.vars[E]=U:c[E]=U}this.options.layoutId&&(c.pointerEvents=p===this?Uu(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Db),this.root.sharedNodes.clear()}}}function $M(t){t.updateLayout()}function ZM(t){var i;const e=((i=t.resumeFrom)==null?void 0:i.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?mn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],S=Rt(_);_.min=r[y].min,_.max=_.min+S}):eE(u,e.layoutBox,r)&&mn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],S=Rt(r[y]);_.max=_.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+S)});const h=jr();So(h,r,e.layoutBox);const m=jr();c?So(m,t.applyTransform(o,!0),e.measuredBox):So(m,r,e.layoutBox);const p=!WT(h);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:S}=y;if(_&&S){const E=lt();Qu(E,e.layoutBox,_.layoutBox);const C=lt();Qu(C,r,S.layoutBox),XT(E,C)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=E,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:m,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function JM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tO(t){t.clearSnapshot()}function Db(t){t.clearMeasurements()}function Mb(t){t.isLayoutDirty=!1}function nO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ob(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iO(t){t.resolveTargetDelta()}function sO(t){t.calcProjection()}function rO(t){t.resetSkewAndRotation()}function aO(t){t.removeLeadSnapshot()}function Ib(t,e,i){t.translate=Ye(e.translate,0,i),t.scale=Ye(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function kb(t,e,i,r){t.min=Ye(e.min,i.min,r),t.max=Ye(e.max,i.max,r)}function oO(t,e,i,r){kb(t.x,e.x,i.x,r),kb(t.y,e.y,i.y,r)}function lO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uO={duration:.45,ease:[.4,0,.1,1]},Lb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jb=Lb("applewebkit/")&&!Lb("chrome/")?Math.round:gn;function Ub(t){t.min=jb(t.min),t.max=jb(t.max)}function cO(t){Ub(t.x),Ub(t.y)}function eE(t,e,i){return t==="position"||t==="preserve-aspect"&&!IM(Cb(e),Cb(i),.2)}function fO(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const hO=JT({attachResizeListener:(t,e)=>Lo(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),xd={current:void 0},tE=JT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xd.current){const t=new hO({});t.mount(window),t.setOptions({layoutScroll:!0}),xd.current=t}return xd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Tp=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Pb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function dO(...t){return e=>{let i=!1;const r=t.map(o=>{const u=Pb(o,e);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():Pb(t[o],null)}}}}function mO(...t){return w.useCallback(dO(...t),t)}class pO extends w.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=um(r)&&r.offsetWidth||0,u=um(r)&&r.offsetHeight||0,c=this.props.sizeRef.current;c.height=i.offsetHeight||0,c.width=i.offsetWidth||0,c.top=i.offsetTop,c.left=i.offsetLeft,c.right=o-c.width-c.left,c.bottom=u-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function gO({children:t,isPresent:e,anchorX:i,anchorY:r,root:o}){var y;const u=w.useId(),c=w.useRef(null),h=w.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=w.useContext(Tp),p=((y=t.props)==null?void 0:y.ref)??(t==null?void 0:t.ref),g=mO(c,p);return w.useInsertionEffect(()=>{const{width:_,height:S,top:E,left:C,right:N,bottom:M}=h.current;if(e||!c.current||!_||!S)return;const U=i==="left"?`left: ${C}`:`right: ${N}`,L=r==="bottom"?`bottom: ${M}`:`top: ${E}`;c.current.dataset.motionPopId=u;const G=document.createElement("style");m&&(G.nonce=m);const q=o??document.head;return q.appendChild(G),G.sheet&&G.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${S}px !important;
            ${U}px !important;
            ${L}px !important;
          }
        `),()=>{q.contains(G)&&q.removeChild(G)}},[e]),b.jsx(pO,{isPresent:e,childRef:c,sizeRef:h,children:w.cloneElement(t,{ref:g})})}const yO=({children:t,initial:e,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:h,anchorY:m,root:p})=>{const g=Wm(vO),y=w.useId();let _=!0,S=w.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:i,custom:o,onExitComplete:E=>{g.set(E,!0);for(const C of g.values())if(!C)return;r&&r()},register:E=>(g.set(E,!1),()=>g.delete(E))}),[i,g,r]);return u&&_&&(S={...S}),w.useMemo(()=>{g.forEach((E,C)=>g.set(C,!1))},[i]),w.useEffect(()=>{!i&&!g.size&&r&&r()},[i]),c==="popLayout"&&(t=b.jsx(gO,{isPresent:i,anchorX:h,anchorY:m,root:p,children:t})),b.jsx(Ec.Provider,{value:S,children:t})};function vO(){return new Map}function nE(t=!0){const e=w.useContext(Ec);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=e,u=w.useId();w.useEffect(()=>{if(t)return o(u)},[t]);const c=w.useCallback(()=>t&&r&&r(u),[u,r,t]);return!i&&r?[!1,c]:[!0]}const Au=t=>t.key||"";function zb(t){const e=[];return w.Children.forEach(t,i=>{w.isValidElement(i)&&e.push(i)}),e}const iE=({children:t,custom:e,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:h="left",anchorY:m="top",root:p})=>{const[g,y]=nE(c),_=w.useMemo(()=>zb(t),[t]),S=c&&!g?[]:_.map(Au),E=w.useRef(!0),C=w.useRef(_),N=Wm(()=>new Map),M=w.useRef(new Set),[U,L]=w.useState(_),[G,q]=w.useState(_);k1(()=>{E.current=!1,C.current=_;for(let W=0;W<G.length;W++){const se=Au(G[W]);S.includes(se)?(N.delete(se),M.current.delete(se)):N.get(se)!==!0&&N.set(se,!1)}},[G,S.length,S.join("-")]);const te=[];if(_!==U){let W=[..._];for(let se=0;se<G.length;se++){const Ee=G[se],$e=Au(Ee);S.includes($e)||(W.splice(se,0,Ee),te.push(Ee))}return u==="wait"&&te.length&&(W=te),q(zb(W)),L(_),null}const{forceRender:X}=w.useContext(Km);return b.jsx(b.Fragment,{children:G.map(W=>{const se=Au(W),Ee=c&&!g?!1:_===G||S.includes(se),$e=()=>{if(M.current.has(se))return;if(M.current.add(se),N.has(se))N.set(se,!0);else return;let tt=!0;N.forEach(yn=>{yn||(tt=!1)}),tt&&(X==null||X(),q(C.current),c&&(y==null||y()),r&&r())};return b.jsx(yO,{isPresent:Ee,initial:!E.current||i?void 0:!1,custom:e,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:Ee?void 0:$e,anchorX:h,anchorY:m,children:W},se)})})},sE=w.createContext({strict:!1}),Vb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Bb=!1;function _O(){if(Bb)return;const t={};for(const e in Vb)t[e]={isEnabled:i=>Vb[e].some(r=>!!i[r])};OT(t),Bb=!0}function rE(){return _O(),rM()}function bO(t){const e=rE();for(const i in t)e[i]={...e[i],...t[i]};OT(e)}const SO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $u(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||SO.has(t)}let aE=t=>!$u(t);function TO(t){typeof t=="function"&&(aE=e=>e.startsWith("on")?!$u(e):t(e))}try{TO(require("@emotion/is-prop-valid").default)}catch{}function EO(t,e,i){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(aE(o)||i===!0&&$u(o)||!e&&!$u(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const wc=w.createContext({});function xO(t,e){if(Cc(t)){const{initial:i,animate:r}=t;return{initial:i===!1||ko(i)?i:void 0,animate:ko(r)?r:void 0}}return t.inherit!==!1?e:{}}function CO(t){const{initial:e,animate:i}=xO(t,w.useContext(wc));return w.useMemo(()=>({initial:e,animate:i}),[Hb(e),Hb(i)])}function Hb(t){return Array.isArray(t)?t.join(" "):t}const Ep=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oE(t,e,i){for(const r in e)!xt(e[r])&&!zT(r,i)&&(t[r]=e[r])}function wO({transformTemplate:t},e){return w.useMemo(()=>{const i=Ep();return bp(i,e,t),Object.assign({},i.vars,i.style)},[e])}function AO(t,e){const i=t.style||{},r={};return oE(r,i,t),Object.assign(r,wO(t,e)),r}function RO(t,e){const i={},r=AO(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const lE=()=>({...Ep(),attrs:{}});function NO(t,e,i,r){const o=w.useMemo(()=>{const u=lE();return VT(u,e,HT(r),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};oE(u,t.style,t),o.style={...u,...o.style}}return o}const DO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xp(t){return typeof t!="string"||t.includes("-")?!1:!!(DO.indexOf(t)>-1||/[A-Z]/u.test(t))}function MO(t,e,i,{latestValues:r},o,u=!1,c){const m=(c??xp(t)?NO:RO)(e,r,o,t),p=EO(e,typeof t=="string",u),g=t!==w.Fragment?{...p,...m,ref:i}:{},{children:y}=e,_=w.useMemo(()=>xt(y)?y.get():y,[y]);return w.createElement(t,{...g,children:_})}function OO({scrapeMotionValuesFromProps:t,createRenderState:e},i,r,o){return{latestValues:IO(i,r,o,t),renderState:e()}}function IO(t,e,i,r){const o={},u=r(t,{});for(const _ in u)o[_]=Uu(u[_]);let{initial:c,animate:h}=t;const m=Cc(t),p=MT(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=i?i.initial===!1:!1;g=g||c===!1;const y=g?h:c;if(y&&typeof y!="boolean"&&!xc(y)){const _=Array.isArray(y)?y:[y];for(let S=0;S<_.length;S++){const E=dp(t,_[S]);if(E){const{transitionEnd:C,transition:N,...M}=E;for(const U in M){let L=M[U];if(Array.isArray(L)){const G=g?L.length-1:0;L=L[G]}L!==null&&(o[U]=L)}for(const U in C)o[U]=C[U]}}}return o}const uE=t=>(e,i)=>{const r=w.useContext(wc),o=w.useContext(Ec),u=()=>OO(t,e,r,o);return i?u():Wm(u)},kO=uE({scrapeMotionValuesFromProps:Sp,createRenderState:Ep}),LO=uE({scrapeMotionValuesFromProps:FT,createRenderState:lE}),jO=Symbol.for("motionComponentSymbol");function UO(t,e,i){const r=w.useRef(i);w.useInsertionEffect(()=>{r.current=i});const o=w.useRef(null);return w.useCallback(u=>{var h;u&&((h=t.onMount)==null||h.call(t,u)),e&&(u?e.mount(u):e.unmount());const c=r.current;if(typeof c=="function")if(u){const m=c(u);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[e])}const cE=w.createContext({});function vo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function PO(t,e,i,r,o,u){var N,M;const{visualElement:c}=w.useContext(wc),h=w.useContext(sE),m=w.useContext(Ec),p=w.useContext(Tp).reducedMotion,g=w.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:c,props:i,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p,isSVG:u}));const y=g.current,_=w.useContext(cE);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&zO(g.current,i,o,_);const S=w.useRef(!1);w.useInsertionEffect(()=>{y&&S.current&&y.update(i,m)});const E=i[yT],C=w.useRef(!!E&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,E))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,E)));return k1(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),C.current&&y.animationState&&y.animationState.animateChanges())}),w.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)==null||U.call(window,E)}),C.current=!1),y.enteringChildren=void 0)}),y}function zO(t,e,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:fE(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||h&&vo(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:m,layoutRoot:p})}function fE(t){if(t)return t.options.allowProjection!==!1?t.projection:fE(t.parent)}function Cd(t,{forwardMotionProps:e=!1,type:i}={},r,o){r&&bO(r);const u=i?i==="svg":xp(t),c=u?LO:kO;function h(p,g){let y;const _={...w.useContext(Tp),...p,layoutId:VO(p)},{isStatic:S}=_,E=CO(p),C=c(p,S);if(!S&&I1){BO();const N=HO(_);y=N.MeasureLayout,E.visualElement=PO(t,C,_,o,N.ProjectionNode,u)}return b.jsxs(wc.Provider,{value:E,children:[y&&E.visualElement?b.jsx(y,{visualElement:E.visualElement,..._}):null,MO(t,p,UO(C,E.visualElement,g),C,S,e,u)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=w.forwardRef(h);return m[jO]=t,m}function VO({layoutId:t}){const e=w.useContext(Km).id;return e&&t!==void 0?e+"-"+t:t}function BO(t,e){w.useContext(sE).strict}function HO(t){const e=rE(),{drag:i,layout:r}=e;if(!i&&!r)return{};const o={...i,...r};return{MeasureLayout:i!=null&&i.isEnabled(t)||r!=null&&r.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function FO(t,e){if(typeof Proxy>"u")return Cd;const i=new Map,r=(u,c)=>Cd(u,c,t,e),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,Cd(c,void 0,t,e)),i.get(c))})}const qO=(t,e)=>e.isSVG??xp(t)?new TM(e):new gM(e,{allowProjection:t!==w.Fragment});class GO extends ls{constructor(e){super(e),e.animationState||(e.animationState=AM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let YO=0;class KO extends ls{constructor(){super(...arguments),this.id=YO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);i&&!e&&o.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const WO={animation:{Feature:GO},exit:{Feature:KO}};function Qo(t){return{point:{x:t.pageX,y:t.pageY}}}const XO=t=>e=>yp(e)&&t(e,Qo(e));function To(t,e,i,r){return Lo(t,e,XO(i),r)}const hE=({current:t})=>t?t.ownerDocument.defaultView:null,Fb=(t,e)=>Math.abs(t-e);function QO(t,e){const i=Fb(t.x,e.x),r=Fb(t.y,e.y);return Math.sqrt(i**2+r**2)}const qb=new Set(["auto","scroll"]);class dE{constructor(e,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Ad(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,C=QO(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!C)return;const{point:N}=S,{timestamp:M}=bt;this.history.push({...N,timestamp:M});const{onStart:U,onMove:L}=this.handlers;E||(U&&U(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,S)},this.handlePointerMove=(S,E)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=wd(E,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(S,E)=>{this.end();const{onEnd:C,onSessionEnd:N,resumeAnimation:M}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=Ad(S.type==="pointercancel"?this.lastMoveEventInfo:wd(E,this.transformPagePoint),this.history);this.startEvent&&C&&C(S,U),N&&N(S,U)},!yp(e))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=Qo(e),p=wd(m,this.transformPagePoint),{point:g}=p,{timestamp:y}=bt;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=i;_&&_(e,Ad(p,this.history)),this.removeListeners=Ko(To(this.contextWindow,"pointermove",this.handlePointerMove),To(this.contextWindow,"pointerup",this.handlePointerUp),To(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let i=e.parentElement;for(;i;){const r=getComputedStyle(i);(qb.has(r.overflowX)||qb.has(r.overflowY))&&this.scrollPositions.set(i,{x:i.scrollLeft,y:i.scrollTop}),i=i.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const i=this.scrollPositions.get(e);if(!i)return;const r=e===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},u={x:o.x-i.x,y:o.y-i.y};u.x===0&&u.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(e,o),Be.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ss(this.updatePoint)}}function wd(t,e){return e?{point:e(t.point)}:t}function Gb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ad({point:t},e){return{point:t,delta:Gb(t,mE(e)),offset:Gb(t,$O(e)),velocity:ZO(e,.1)}}function $O(t){return t[0]}function mE(t){return t[t.length-1]}function ZO(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,r=null;const o=mE(t);for(;i>=0&&(r=t[i],!(o.timestamp-r.timestamp>ci(e)));)i--;if(!r)return{x:0,y:0};const u=pn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function JO(t,{min:e,max:i},r){return e!==void 0&&t<e?t=r?Ye(e,t,r.min):Math.max(t,e):i!==void 0&&t>i&&(t=r?Ye(i,t,r.max):Math.min(t,i)),t}function Yb(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function eI(t,{top:e,left:i,bottom:r,right:o}){return{x:Yb(t.x,i,o),y:Yb(t.y,e,r)}}function Kb(t,e){let i=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,r]=[r,i]),{min:i,max:r}}function tI(t,e){return{x:Kb(t.x,e.x),y:Kb(t.y,e.y)}}function nI(t,e){let i=.5;const r=Rt(t),o=Rt(e);return o>r?i=Mo(e.min,e.max-r,t.min):r>o&&(i=Mo(t.min,t.max-o,e.min)),zn(0,1,i)}function iI(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const mm=.35;function sI(t=mm){return t===!1?t=0:t===!0&&(t=mm),{x:Wb(t,"left","right"),y:Wb(t,"top","bottom")}}function Wb(t,e,i){return{min:Xb(t,e),max:Xb(t,i)}}function Xb(t,e){return typeof t=="number"?t:t[e]||0}const rI=new WeakMap;class aI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=y=>{i?(this.stopAnimation(),this.snapToCursor(Qo(y).point)):this.pauseAnimation()},c=(y,_)=>{this.stopAnimation();const{drag:S,dragPropagation:E,onDragStart:C}=this.getProps();if(S&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KD(S),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mn(M=>{let U=this.getAxisMotionValue(M).get()||0;if(jn.test(U)){const{projection:L}=this.visualElement;if(L&&L.layout){const G=L.layout.layoutBox[M];G&&(U=Rt(G)*(parseFloat(U)/100))}}this.originPoint[M]=U}),C&&Be.postRender(()=>C(y,_)),am(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(y,_)=>{this.latestPointerEvent=y,this.latestPanInfo=_;const{dragPropagation:S,dragDirectionLock:E,onDirectionLock:C,onDrag:N}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:M}=_;if(E&&this.currentDirection===null){this.currentDirection=oI(M),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,M),this.updateAxis("y",_.point,M),this.visualElement.render(),N&&N(y,_)},m=(y,_)=>{this.latestPointerEvent=y,this.latestPanInfo=_,this.stop(y,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>mn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new dE(e,{onSessionStart:u,onStart:c,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:hE(this.visualElement),element:this.visualElement.current})}stop(e,i){const r=e||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Be.postRender(()=>h(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,i,r){const{drag:o}=this.getProps();if(!r||!Ru(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=JO(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;e&&vo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=eI(r.layoutBox,e):this.constraints=!1,this.elastic=sI(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&mn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=iI(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!vo(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=cM(r,o.root,this.visualElement.getTransformPagePoint());let c=tI(o.layout.layoutBox,u);if(i){const h=i(oM(c));this.hasMutatedConstraints=!!h,h&&(c=kT(h))}return c}startAnimation(e){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=mn(g=>{if(!Ru(g,i,this.currentDirection))return;let y=m&&m[g]||{};c&&(y={min:0,max:0});const _=o?200:1e6,S=o?40:1e7,E={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(g,E)});return Promise.all(p).then(h)}startAxisValueAnimation(e,i){const r=this.getAxisMotionValue(e);return am(this.visualElement,e),r.start(hp(e,r,0,i,this.visualElement,!1))}stopAnimation(){mn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){mn(e=>{var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.pause()})}getAnimationState(e){var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){mn(i=>{const{drag:r}=this.getProps();if(!Ru(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[i],m=u.get()||0;u.set(e[i]-Ye(c,h,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!vo(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};mn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const m=h.get();o[c]=nI({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),mn(c=>{if(!Ru(c,e,null))return;const h=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];h.set(Ye(m,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;rI.set(this.visualElement,this);const e=this.visualElement.current,i=To(e,"pointerdown",m=>{const{drag:p,dragListener:g=!0}=this.getProps(),y=m.target,_=y!==e&&RT(y);p&&g&&!_&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();vo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Be.read(r);const c=Lo(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(mn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=m[g].translate,y.set(y.get()+m[g].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=mm,dragMomentum:h=!0}=e;return{...e,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function Ru(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function oI(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class lI extends ls{constructor(e){super(e),this.removeGroupControls=gn,this.removeListeners=gn,this.controls=new aI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:i}=this.node.prevProps||{};e!==i&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const Qb=t=>(e,i)=>{t&&Be.postRender(()=>t(e,i))};class uI extends ls{constructor(){super(...arguments),this.removePointerDownListener=gn}onPointerDown(e){this.session=new dE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Qb(e),onStart:Qb(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Be.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=To(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Rd=!1;class cI extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=e;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),Rd&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Pu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,Rd=!0,o||e.layoutDependency!==i||i===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||Be.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=e;Rd=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pE(t){const[e,i]=nE(),r=w.useContext(Km);return b.jsx(cI,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(cE),isPresent:e,safeToRemove:i})}const fI={pan:{Feature:uI},drag:{Feature:lI,ProjectionNode:tE,MeasureLayout:pE}};function $b(t,e,i){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&Be.postRender(()=>u(e,Qo(e)))}class hI extends ls{mount(){const{current:e}=this.node;e&&(this.unmount=WD(e,(i,r)=>($b(this.node,r,"Start"),o=>$b(this.node,o,"End"))))}unmount(){}}class dI extends ls{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ko(Lo(this.node.current,"focus",()=>this.onFocus()),Lo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zb(t,e,i){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&Be.postRender(()=>u(e,Qo(e)))}class mI extends ls{mount(){const{current:e}=this.node;e&&(this.unmount=$D(e,(i,r)=>(Zb(this.node,r,"Start"),(o,{success:u})=>Zb(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pm=new WeakMap,Nd=new WeakMap,pI=t=>{const e=pm.get(t.target);e&&e(t)},gI=t=>{t.forEach(pI)};function yI({root:t,...e}){const i=t||document;Nd.has(i)||Nd.set(i,{});const r=Nd.get(i),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(gI,{root:t,...e})),r[o]}function vI(t,e,i){const r=yI(e);return pm.set(t,i),r.observe(t),()=>{pm.delete(t),r.unobserve(t)}}const _I={some:0,all:1};class bI extends ls{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=e,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:_I[o]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=p?g:y;_&&_(m)};return vI(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(SI(e,i))&&this.startObserver()}unmount(){}}function SI({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const TI={inView:{Feature:bI},tap:{Feature:mI},focus:{Feature:dI},hover:{Feature:hI}},EI={layout:{ProjectionNode:tE,MeasureLayout:pE}},xI={...WO,...TI,...fI,...EI},re=FO(xI,qO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),Jb=t=>{const e=wI(t);return e.charAt(0).toUpperCase()+e.slice(1)},gE=(...t)=>t.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),AI=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...h},m)=>w.createElement("svg",{ref:m,...RI,width:e,height:e,stroke:t,strokeWidth:r?Number(i)*24/Number(e):i,className:gE("lucide",o),...!u&&!AI(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,g])=>w.createElement(p,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=(t,e)=>{const i=w.forwardRef(({className:r,...o},u)=>w.createElement(NI,{ref:u,iconNode:e,className:gE(`lucide-${CI(Jb(t))}`,`lucide-${t}`,r),...o}));return i.displayName=Jb(t),i};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],yE=Dt("chef-hat",DI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eS=Dt("circle-check-big",MI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vE=Dt("circle-question-mark",OI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],kI=Dt("clipboard-list",II);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],_E=Dt("droplets",LI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bE=Dt("file-text",jI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Cp=Dt("house",UI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zI=Dt("log-out",PI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],BI=Dt("lock",VI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],FI=Dt("plus",HI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],SE=Dt("user-check",qI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],TE=Dt("user-x",GI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],KI=Dt("users",YI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],XI=Dt("waves",WI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ac=Dt("x",QI);function $I(){const[t,e]=w.useState(""),[i,r]=w.useState(""),[o,u]=w.useState(!1),{login:c}=Nn(),h=async m=>{m.preventDefault(),r(""),u(!0);const p=c(t);p.success||(r(p.error),u(!1))};return b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:b.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx(re.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-block p-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4",children:b.jsx(Cp,{className:"w-12 h-12 text-white"})}),b.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"House Management"}),b.jsx("p",{className:"text-gray-600",children:"Enter your room code to continue"})]}),b.jsxs("form",{onSubmit:h,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Code"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(BI,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{id:"code",type:"text",value:t,onChange:m=>e(m.target.value.toUpperCase()),placeholder:"e.g., ALPHA-1001",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all",required:!0,disabled:o})]})]}),i&&b.jsx(re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:i}),b.jsx(re.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Authenticating...":"Enter House"})]}),b.jsx("div",{className:"mt-6 text-center",children:b.jsx("p",{className:"text-xs text-gray-500",children:"Secure access for household members only"})})]})})}const ZI=()=>{};var tS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(t,e){if(!t)throw aa(e)},aa=function(t){return new Error("Firebase Database ("+EE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},JI=function(t){const e=[];let i=0,r=0;for(;i<t.length;){const o=t[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[i++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[i++],c=t[i++],h=t[i++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const u=t[i++],c=t[i++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},wp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,h=c?t[o+1]:0,m=o+2<t.length,p=m?t[o+2]:0,g=u>>2,y=(u&3)<<4|h>>4;let _=(h&15)<<2|p>>6,S=p&63;m||(S=64,c||(_=64)),r.push(i[g],i[y],i[_],i[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=i[t.charAt(o++)],h=o<t.length?i[t.charAt(o)]:0;++o;const p=o<t.length?i[t.charAt(o)]:64;++o;const y=o<t.length?i[t.charAt(o)]:64;if(++o,u==null||h==null||p==null||y==null)throw new e3;const _=u<<2|h>>4;if(r.push(_),p!==64){const S=h<<4&240|p>>2;if(r.push(S),y!==64){const E=p<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class e3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CE=function(t){const e=xE(t);return wp.encodeByteArray(e,!0)},Zu=function(t){return CE(t).replace(/\./g,"")},Ju=function(t){try{return wp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){return wE(void 0,t)}function wE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!n3(i)||(t[i]=wE(t[i],e[i]));return t}function n3(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=()=>i3().__FIREBASE_DEFAULTS__,r3=()=>{if(typeof process>"u"||typeof tS>"u")return;const t=tS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ju(t[1]);return e&&JSON.parse(e)},Ap=()=>{try{return ZI()||s3()||r3()||a3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AE=t=>{var e,i;return(i=(e=Ap())==null?void 0:e.emulatorHosts)==null?void 0:i[t]},o3=t=>{const e=AE(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},RE=()=>{var t;return(t=Ap())==null?void 0:t.config},NE=t=>{var e;return(e=Ap())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zu(JSON.stringify(i)),Zu(JSON.stringify(c)),""].join(".")}const Eo={};function u3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Eo))Eo[e]?t.emulator.push(e):t.prod.push(e);return t}function c3(t){let e=document.getElementById(t),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),i=!0),{created:i,element:e}}let nS=!1;function ME(t,e){if(typeof window>"u"||typeof document>"u"||!oa(window.location.host)||Eo[t]===e||Eo[t]||nS)return;Eo[t]=e;function i(_){return`__firebase__banner__${_}`}const r="__firebase__banner",u=u3().prod.length>0;function c(){const _=document.getElementById(r);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{nS=!0,c()},_}function g(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=c3(r),S=i("text"),E=document.getElementById(S)||document.createElement("span"),C=i("learnmore"),N=document.getElementById(C)||document.createElement("a"),M=i("preprendIcon"),U=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const L=_.element;h(L),g(N,C);const G=p();m(U,M),L.append(U,E,N,G),document.body.appendChild(L)}u?(E.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function f3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d3(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m3(){return EE.NODE_ADMIN===!0}function p3(){try{return typeof indexedDB=="object"}catch{return!1}}function g3(){return new Promise((t,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="FirebaseError";class us extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=y3,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o.prototype.create)}}class $o{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?v3(u,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new us(o,h,r)}}function v3(t,e){return t.replace(_3,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const _3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){return JSON.parse(t)}function mt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=function(t){let e={},i={},r={},o="";try{const u=t.split(".");e=jo(Ju(u[0])||""),i=jo(Ju(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:r,signature:o}},b3=function(t){const e=IE(t),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},S3=function(t){const e=IE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function gm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ec(t,e,i){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(i,t[o],o,t));return r}function Vs(t,e){if(t===e)return!0;const i=Object.keys(t),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const u=t[o],c=e[o];if(iS(u)&&iS(c)){if(!Vs(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function iS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){const e=[];for(const[i,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)r[y]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let y=16;y<80;y++){const _=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],m=this.chain_[4],p,g;for(let y=0;y<80;y++){y<40?y<20?(p=h^u&(c^h),g=1518500249):(p=u^c^h,g=1859775393):y<60?(p=u&c|h&(u|c),g=2400959708):(p=u^c^h,g=3395469782);const _=(o<<5|o>>>27)+p+m+g+r[y]&4294967295;m=h,h=c,c=(u<<30|u>>>2)&4294967295,u=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let c=this.inbuf_;for(;o<i;){if(c===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}else for(;o<i;)if(u[c]=e[o],++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function E3(t,e){const i=new x3(t,e);return i.subscribe.bind(i)}class x3{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");C3(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Dd),o.error===void 0&&(o.error=Dd),o.complete===void 0&&(o.complete=Dd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C3(t,e){if(typeof t!="object"||t===null)return!1;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function Dd(){}function Np(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,Y(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;o=65536+(u<<10)+c}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Nc=function(t){let e=0;for(let i=0;i<t.length;i++){const r=t.charCodeAt(i);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Rc;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N3(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);r===h&&c.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:R3(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R3(t){return t===Os?void 0:t}function N3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new A3(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const M3={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},O3=ke.INFO,I3={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},k3=(t,e,...i)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=I3[e];if(o)console[o](`[${r}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dp{constructor(e){this.name=e,this._logLevel=O3,this._logHandler=k3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const L3=(t,e)=>e.some(i=>t instanceof i);let sS,rS;function j3(){return sS||(sS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U3(){return rS||(rS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kE=new WeakMap,ym=new WeakMap,LE=new WeakMap,Md=new WeakMap,Mp=new WeakMap;function P3(t){const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{i(es(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(i=>{i instanceof IDBCursor&&kE.set(i,t)}).catch(()=>{}),Mp.set(e,t),e}function z3(t){if(ym.has(t))return;const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});ym.set(t,e)}let vm={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return ym.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LE.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return es(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V3(t){vm=t(vm)}function B3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=t.call(Od(this),e,...i);return LE.set(r,e.sort?e.sort():[e]),es(r)}:U3().includes(t)?function(...e){return t.apply(Od(this),e),es(kE.get(this))}:function(...e){return es(t.apply(Od(this),e))}}function H3(t){return typeof t=="function"?B3(t):(t instanceof IDBTransaction&&z3(t),L3(t,j3())?new Proxy(t,vm):t)}function es(t){if(t instanceof IDBRequest)return P3(t);if(Md.has(t))return Md.get(t);const e=H3(t);return e!==t&&(Md.set(t,e),Mp.set(e,t)),e}const Od=t=>Mp.get(t);function F3(t,e,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),h=es(c);return r&&c.addEventListener("upgradeneeded",m=>{r(es(c.result),m.oldVersion,m.newVersion,es(c.transaction),m)}),i&&c.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const q3=["get","getKey","getAll","getAllKeys","count"],G3=["put","add","delete","clear"],Id=new Map;function aS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Id.get(e))return Id.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=G3.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||q3.includes(i)))return;const u=async function(c,...h){const m=this.transaction(c,o?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[i](...h),o&&m.done]))[0]};return Id.set(e,u),u}V3(t=>({...t,get:(e,i,r)=>aS(e,i)||t.get(e,i,r),has:(e,i)=>!!aS(e,i)||t.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(K3(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function K3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _m="@firebase/app",oS="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Dp("@firebase/app"),W3="@firebase/app-compat",X3="@firebase/analytics-compat",Q3="@firebase/analytics",$3="@firebase/app-check-compat",Z3="@firebase/app-check",J3="@firebase/auth",ek="@firebase/auth-compat",tk="@firebase/database",nk="@firebase/data-connect",ik="@firebase/database-compat",sk="@firebase/functions",rk="@firebase/functions-compat",ak="@firebase/installations",ok="@firebase/installations-compat",lk="@firebase/messaging",uk="@firebase/messaging-compat",ck="@firebase/performance",fk="@firebase/performance-compat",hk="@firebase/remote-config",dk="@firebase/remote-config-compat",mk="@firebase/storage",pk="@firebase/storage-compat",gk="@firebase/firestore",yk="@firebase/ai",vk="@firebase/firestore-compat",_k="firebase",bk="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="[DEFAULT]",Sk={[_m]:"fire-core",[W3]:"fire-core-compat",[Q3]:"fire-analytics",[X3]:"fire-analytics-compat",[Z3]:"fire-app-check",[$3]:"fire-app-check-compat",[J3]:"fire-auth",[ek]:"fire-auth-compat",[tk]:"fire-rtdb",[nk]:"fire-data-connect",[ik]:"fire-rtdb-compat",[sk]:"fire-fn",[rk]:"fire-fn-compat",[ak]:"fire-iid",[ok]:"fire-iid-compat",[lk]:"fire-fcm",[uk]:"fire-fcm-compat",[ck]:"fire-perf",[fk]:"fire-perf-compat",[hk]:"fire-rc",[dk]:"fire-rc-compat",[mk]:"fire-gcs",[pk]:"fire-gcs-compat",[gk]:"fire-fst",[vk]:"fire-fst-compat",[yk]:"fire-vertex","fire-js":"fire-js",[_k]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,Tk=new Map,Sm=new Map;function lS(t,e){try{t.container.addComponent(e)}catch(i){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Qr(t){const e=t.name;if(Sm.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,t);for(const i of tc.values())lS(i,t);for(const i of Tk.values())lS(i,t);return!0}function Op(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new $o("app","Firebase",Ek);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=bk;function jE(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const r={name:bm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(i||(i=RE()),!i)throw ts.create("no-options");const u=tc.get(o);if(u){if(Vs(i,u.options)&&Vs(r,u.config))return u;throw ts.create("duplicate-app",{appName:o})}const c=new D3(o);for(const m of Sm.values())c.addComponent(m);const h=new xk(i,r,c);return tc.set(o,h),h}function UE(t=bm){const e=tc.get(t);if(!e&&t===bm&&RE())return jE();if(!e)throw ts.create("no-app",{appName:t});return e}function ns(t,e,i){let r=Sk[t]??t;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(c.join(" "));return}Qr(new Bs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="firebase-heartbeat-database",wk=1,Uo="firebase-heartbeat-store";let kd=null;function PE(){return kd||(kd=F3(Ck,wk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uo)}catch(i){console.warn(i)}}}}).catch(t=>{throw ts.create("idb-open",{originalErrorMessage:t.message})})),kd}async function Ak(t){try{const i=(await PE()).transaction(Uo),r=await i.objectStore(Uo).get(zE(t));return await i.done,r}catch(e){if(e instanceof us)mi.warn(e.message);else{const i=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(i.message)}}}async function uS(t,e){try{const r=(await PE()).transaction(Uo,"readwrite");await r.objectStore(Uo).put(e,zE(t)),await r.done}catch(i){if(i instanceof us)mi.warn(i.message);else{const r=ts.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});mi.warn(r.message)}}}function zE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=1024,Nk=30;class Dk{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ok(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=cS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Nk){const c=Ik(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=cS(),{heartbeatsToSend:r,unsentEntries:o}=Mk(this._heartbeatsCache.heartbeats),u=Zu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return mi.warn(i),""}}}function cS(){return new Date().toISOString().substring(0,10)}function Mk(t,e=Rk){const i=[];let r=t.slice();for(const o of t){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),fS(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),fS(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Ok{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p3()?g3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ak(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fS(t){return Zu(JSON.stringify({version:2,heartbeats:t})).length}function Ik(t){if(t.length===0)return-1;let e=0,i=t[0].date;for(let r=1;r<t.length;r++)t[r].date<i&&(i=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){Qr(new Bs("platform-logger",e=>new Y3(e),"PRIVATE")),Qr(new Bs("heartbeat",e=>new Dk(e),"PRIVATE")),ns(_m,oS,t),ns(_m,oS,"esm2020"),ns("fire-js","")}kk("");var hS={};const dS="@firebase/database",mS="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VE="";function Lk(t){VE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),mt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:jo(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Si(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jk(e)}}catch{}return new Uk},js=BE("localStorage"),Pk=BE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Dp("@firebase/database"),zk=(function(){let t=1;return function(){return t++}})(),HE=function(t){const e=w3(t),i=new T3;i.update(e);const r=i.digest();return wp.encodeByteArray(r)},Zo=function(...t){let e="";for(let i=0;i<t.length;i++){const r=t[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Zo.apply(null,r):typeof r=="object"?e+=mt(r):e+=r,e+=" "}return e};let xo=null,pS=!0;const Vk=function(t,e){Y(!0,"Can't turn on custom loggers persistently."),Hr.logLevel=ke.VERBOSE,xo=Hr.log.bind(Hr)},Et=function(...t){if(pS===!0&&(pS=!1,xo===null&&Pk.get("logging_enabled")===!0&&Vk()),xo){const e=Zo.apply(null,t);xo(e)}},Jo=function(t){return function(...e){Et(t,...e)}},Tm=function(...t){const e="FIREBASE INTERNAL ERROR: "+Zo(...t);Hr.error(e)},pi=function(...t){const e=`FIREBASE FATAL ERROR: ${Zo(...t)}`;throw Hr.error(e),new Error(e)},Ht=function(...t){const e="FIREBASE WARNING: "+Zo(...t);Hr.warn(e)},Bk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},FE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Hk=function(t){if(document.readyState==="complete")t();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},$r="[MIN_NAME]",Hs="[MAX_NAME]",ca=function(t,e){if(t===e)return 0;if(t===$r||e===Hs)return-1;if(e===$r||t===Hs)return 1;{const i=gS(t),r=gS(e);return i!==null?r!==null?i-r===0?t.length-e.length:i-r:-1:r!==null?1:t<e?-1:1}},Fk=function(t,e){return t===e?0:t<e?-1:1},fo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+mt(e))},Ip=function(t){if(typeof t!="object"||t===null)return mt(t);const e=[];for(const r in t)e.push(r);e.sort();let i="{";for(let r=0;r<e.length;r++)r!==0&&(i+=","),i+=mt(e[r]),i+=":",i+=Ip(t[e[r]]);return i+="}",i},qE=function(t,e){const i=t.length;if(i<=e)return[t];const r=[];for(let o=0;o<i;o+=e)o+e>i?r.push(t.substring(o,i)):r.push(t.substring(o,o+e));return r};function Ft(t,e){for(const i in t)t.hasOwnProperty(i)&&e(i,t[i])}const GE=function(t){Y(!FE(t),"Invalid JSON number");const e=11,i=52,r=(1<<e-1)-1;let o,u,c,h,m;t===0?(u=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),u=h+r,c=Math.round(t*Math.pow(2,i-h)-Math.pow(2,i))):(u=0,c=Math.round(t/Math.pow(2,1-r-i))));const p=[];for(m=i;m;m-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(m=e;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const g=p.join("");let y="";for(m=0;m<64;m+=8){let _=parseInt(g.substr(m,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},qk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Gk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Yk(t,e){let i="Unknown Error";t==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?i="Client doesn't have permission to access the desired data.":t==="unavailable"&&(i="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+i);return r.code=t.toUpperCase(),r}const Kk=new RegExp("^-?(0*)\\d{1,10}$"),Wk=-2147483648,Xk=2147483647,gS=function(t){if(Kk.test(t)){const e=Number(t);if(e>=Wk&&e<=Xk)return e}return null},fa=function(t){try{t()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Ht("Exception was thrown by user callback.",i),e},Math.floor(0))}},Qk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Co=function(t,e){const i=setTimeout(t,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Ln(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)==null||i.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ht(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,i,r){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(e)}}class zu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}zu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="5",YE="v",KE="s",WE="r",XE="f",QE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$E="ls",ZE="p",Em="ac",JE="websocket",ex="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,i,r,o,u=!1,c="",h=!1,m=!1,p=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=js.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&js.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function Jk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function nx(t,e,i){Y(typeof e=="string","typeof type must == string"),Y(typeof i=="object","typeof params must == object");let r;if(e===JE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ex)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Jk(t)&&(i.ns=t.namespace);const o=[];return Ft(i,(u,c)=>{o.push(u+"="+c)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.counters_={}}incrementCounter(e,i=1){Si(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return t3(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld={},jd={};function Lp(t){const e=t.toString();return Ld[e]||(Ld[e]=new eL),Ld[e]}function tL(t,e){const i=t.toString();return jd[i]||(jd[i]=e()),jd[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&fa(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="start",iL="close",sL="pLPCommand",rL="pRTLPCB",ix="id",sx="pw",rx="ser",aL="cb",oL="seg",lL="ts",uL="d",cL="dframe",ax=1870,ox=30,fL=ax-ox,hL=25e3,dL=3e4;class zr{constructor(e,i,r,o,u,c,h){this.connId=e,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Jo(e),this.stats_=Lp(i),this.urlFn=m=>(this.appCheckToken&&(m[Em]=this.appCheckToken),nx(i,ex,m))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new nL(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(dL)),Hk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jp((...u)=>{const[c,h,m,p,g]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===yS)this.id=h,this.password=m;else if(c===iL)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[yS]="t",r[rx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[aL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[YE]=kp,this.transportSessionId&&(r[KE]=this.transportSessionId),this.lastSessionId&&(r[$E]=this.lastSessionId),this.applicationId&&(r[ZE]=this.applicationId),this.appCheckToken&&(r[Em]=this.appCheckToken),typeof location<"u"&&location.hostname&&QE.test(location.hostname)&&(r[WE]=XE);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zr.forceAllow_=!0}static forceDisallow(){zr.forceDisallow_=!0}static isAvailable(){return zr.forceAllow_?!0:!zr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!qk()&&!Gk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=mt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=CE(i),o=qE(r,fL);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[cL]="t",r[ix]=e,r[sx]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=mt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class jp{constructor(e,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=zk(),window[sL+this.uniqueCallbackIdentifier]=e,window[rL+this.uniqueCallbackIdentifier]=i,this.myIFrame=jp.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Et("frame writing exception"),h.stack&&Et(h.stack),Et(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Et("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ix]=this.myID,e[sx]=this.myPW,e[rx]=this.currentSerial;let i=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ox+r.length<=ax;){const c=this.pendingSegs.shift();r=r+"&"+oL+o+"="+c.seg+"&"+lL+o+"="+c.ts+"&"+uL+o+"="+c.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,r){this.pendingSegs.push({seg:e,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(hL)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{Et("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=16384,pL=45e3;let nc=null;typeof MozWebSocket<"u"?nc=MozWebSocket:typeof WebSocket<"u"&&(nc=WebSocket);class En{constructor(e,i,r,o,u,c,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Jo(this.connId),this.stats_=Lp(i),this.connURL=En.connectionURL_(i,c,h,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,u){const c={};return c[YE]=kp,typeof location<"u"&&location.hostname&&QE.test(location.hostname)&&(c[WE]=XE),i&&(c[KE]=i),r&&(c[$E]=r),o&&(c[Em]=o),u&&(c[ZE]=u),nx(e,JE,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,js.set("previous_websocket_failure",!0);try{let r;m3(),this.mySock=new nc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){En.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&nc!==null&&!En.forceDisallow_}static previouslyFailed(){return js.isInMemoryStorage||js.get("previous_websocket_failure")===!0}markConnectionHealthy(){js.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=jo(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=mt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=qE(i,mL);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(pL))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}En.responsesRequiredToBeHealthy=2;En.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static get ALL_TRANSPORTS(){return[zr,En]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=En&&En.isAvailable();let r=i&&!En.previouslyFailed();if(e.webSocketOnly&&(i||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[En];else{const o=this.transports_=[];for(const u of Po.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Po.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Po.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=6e4,yL=5e3,vL=10*1024,_L=100*1024,Ud="t",vS="d",bL="s",_S="r",SL="e",bS="o",SS="a",TS="n",ES="p",TL="h";class EL{constructor(e,i,r,o,u,c,h,m,p,g){this.id=e,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Jo("c:"+this.id+":"),this.transportManager_=new Po(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Co(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_L?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>vL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ud in e){const i=e[Ud];i===SS?this.upgradeIfSecondaryHealthy_():i===_S?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===bS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=fo("t",e),r=fo("d",e);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ES,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:TS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=fo("t",e),r=fo("d",e);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=fo(Ud,e);if(vS in e){const r=e[vS];if(i===TL){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===TS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===bL?this.onConnectionShutdown_(r):i===_S?this.onReset_(r):i===SL?Tm("Server Error: "+r):i===bS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tm("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),kp!==r&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Co(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(gL))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Co(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(yL))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ES,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(js.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{put(e,i,r,o){}merge(e,i,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,r){}onDisconnectMerge(e,i,r){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(e,i,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:r});const o=this.getInitialEvent(e);o&&i.apply(r,o)}off(e,i,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends ux{static getInstance(){return new ic}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=32,CS=768;class je{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Ae(){return new je("")}function he(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function as(t){return t.pieces_.length-t.pieceNum_}function Ue(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new je(t.pieces_,e)}function cx(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function xL(t){let e="";for(let i=t.pieceNum_;i<t.pieces_.length;i++)t.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[i])));return e||"/"}function fx(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function hx(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let i=t.pieceNum_;i<t.pieces_.length-1;i++)e.push(t.pieces_[i]);return new je(e,0)}function ut(t,e){const i=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);if(e instanceof je)for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new je(i,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function Vt(t,e){const i=he(t),r=he(e);if(i===null)return e;if(i===r)return Vt(Ue(t),Ue(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Up(t,e){if(as(t)!==as(e))return!1;for(let i=t.pieceNum_,r=e.pieceNum_;i<=t.pieces_.length;i++,r++)if(t.pieces_[i]!==e.pieces_[r])return!1;return!0}function xn(t,e){let i=t.pieceNum_,r=e.pieceNum_;if(as(t)>as(e))return!1;for(;i<t.pieces_.length;){if(t.pieces_[i]!==e.pieces_[r])return!1;++i,++r}return!0}class CL{constructor(e,i){this.errorPrefix_=i,this.parts_=fx(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Nc(this.parts_[r]);dx(this)}}function wL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Nc(e),dx(t)}function AL(t){const e=t.parts_.pop();t.byteLength_-=Nc(e),t.parts_.length>0&&(t.byteLength_-=1)}function dx(t){if(t.byteLength_>CS)throw new Error(t.errorPrefix_+"has a key path longer than "+CS+" bytes ("+t.byteLength_+").");if(t.parts_.length>xS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xS+") or object contains a cycle "+Is(t))}function Is(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends ux{static getInstance(){return new Pp}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=1e3,RL=300*1e3,wS=30*1e3,NL=1.3,DL=3e4,ML="server_kill",AS=3;class fi extends lx{constructor(e,i,r,o,u,c,h,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=fi.nextPersistentConnectionId_++,this.log_=Jo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ho,this.maxReconnectDelay_=RL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ic.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_(mt(u)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new Rc,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,o){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(c).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},c="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,h=>{const m=h.d,p=h.s;fi.warnOnListenWarnings_(m,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Si(e,"w")){const r=Xr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||S3(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=wS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=b3(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,c=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},c="n";o&&(u.q=r,u.t=o),this.sendRequest(c,u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,u){this.initConnection_();const c={p:i,d:r};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+mt(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Tm("Unrecognized action received from server: "+mt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>DL&&(this.reconnectDelay_=ho),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*NL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+fi.nextConnectionId_++,u=this.lastSessionId;let c=!1,h=null;const m=function(){h?h.close():(c=!0,r())},p=function(y){Y(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:m,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?Et("getToken() completed but was canceled"):(Et("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,h=new EL(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,S=>{Ht(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(ML)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Ht(y),m())}}}interrupt(e){Et("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Et("Resuming connection for reason: "+e),delete this.interruptReasons_[e],gm(this.interruptReasons_)&&(this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(u=>Ip(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new je(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Et("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=AS&&(this.reconnectDelay_=wS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Et("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=AS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+VE.replace(/\./g,"-")]=1,Rp()?e["framework.cordova"]=1:OE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ic.getInstance().currentlyOnline();return gm(this.interruptReasons_)&&e}}fi.nextPersistentConnectionId_=0;fi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new de(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const r=new de($r,e),o=new de($r,i);return this.compare(r,o)!==0}minPost(){return de.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;class mx extends Dc{static get __EMPTY_NODE(){return Nu}static set __EMPTY_NODE(e){Nu=e}compare(e,i){return ca(e.name,i.name)}isDefinedOn(e){throw aa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return de.MIN}maxPost(){return new de(Hs,Nu)}makePost(e,i){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new de(e,Nu)}toString(){return".key"}}const Fr=new mx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=i?r(e.key,i):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dt{constructor(e,i,r,o,u){this.key=e,this.value=i,this.color=r??dt.RED,this.left=o??Bt.EMPTY_NODE,this.right=u??Bt.EMPTY_NODE}copy(e,i,r,o,u){return new dt(e??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return Bt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dt.RED=!0;dt.BLACK=!1;class OL{copy(e,i,r,o,u){return this}insert(e,i,r){return new dt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Bt{constructor(e,i=Bt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Bt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,dt.BLACK,null,null))}remove(e){return new Bt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dt.BLACK,null,null))}get(e){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(e,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(e){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(e,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Du(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Du(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Du(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Du(this.root_,null,this.comparator_,!0,e)}}Bt.EMPTY_NODE=new OL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t,e){return ca(t.name,e.name)}function zp(t,e){return ca(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm;function kL(t){xm=t}const px=function(t){return typeof t=="number"?"number:"+GE(t):"string:"+t},gx=function(t){if(t.isLeafNode()){const e=t.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Si(e,".sv"),"Priority must be a string or number.")}else Y(t===xm||t.isEmpty(),"priority of unexpected type.");Y(t===xm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RS;class ht{static set __childrenNodeConstructor(e){RS=e}static get __childrenNodeConstructor(){return RS}constructor(e,i=ht.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gx(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ht(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:he(e)===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:ht.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=he(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(Y(r!==".priority"||as(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ht.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+px(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=GE(this.value_):e+=this.value_,this.lazyHash_=HE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ht.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ht.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=ht.VALUE_TYPE_ORDER.indexOf(i),u=ht.VALUE_TYPE_ORDER.indexOf(r);return Y(o>=0,"Unknown leaf type: "+i),Y(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ht.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yx,vx;function LL(t){yx=t}function jL(t){vx=t}class UL extends Dc{compare(e,i){const r=e.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?ca(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return de.MIN}maxPost(){return new de(Hs,new ht("[PRIORITY-POST]",vx))}makePost(e,i){const r=yx(e);return new de(i,new ht("[PRIORITY-POST]",r))}toString(){return".priority"}}const Qe=new UL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=Math.log(2);class zL{constructor(e){const i=u=>parseInt(Math.log(u)/PL,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sc=function(t,e,i,r){t.sort(e);const o=function(m,p){const g=p-m;let y,_;if(g===0)return null;if(g===1)return y=t[m],_=i?i(y):y,new dt(_,y.node,dt.BLACK,null,null);{const S=parseInt(g/2,10)+m,E=o(m,S),C=o(S+1,p);return y=t[S],_=i?i(y):y,new dt(_,y.node,dt.BLACK,E,C)}},u=function(m){let p=null,g=null,y=t.length;const _=function(E,C){const N=y-E,M=y;y-=E;const U=o(N+1,M),L=t[N],G=i?i(L):L;S(new dt(G,L.node,C,null,U))},S=function(E){p?(p.left=E,p=E):(g=E,p=E)};for(let E=0;E<m.count;++E){const C=m.nextBitIsOne(),N=Math.pow(2,m.count-(E+1));C?_(N,dt.BLACK):(_(N,dt.BLACK),_(N,dt.RED))}return g},c=new zL(t.length),h=u(c);return new Bt(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd;const Ir={};class ai{static get Default(){return Y(Ir&&Qe,"ChildrenNode.ts has not been loaded"),Pd=Pd||new ai({".priority":Ir},{".priority":Qe}),Pd}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Xr(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Bt?i:null}hasIndex(e){return Si(this.indexSet_,e.toString())}addIndex(e,i){Y(e!==Fr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(de.Wrap);let c=u.getNext();for(;c;)o=o||e.isDefinedOn(c.node),r.push(c),c=u.getNext();let h;o?h=sc(r,e.getCompare()):h=Ir;const m=e.toString(),p={...this.indexSet_};p[m]=e;const g={...this.indexes_};return g[m]=h,new ai(g,p)}addToIndexes(e,i){const r=ec(this.indexes_,(o,u)=>{const c=Xr(this.indexSet_,u);if(Y(c,"Missing index implementation for "+u),o===Ir)if(c.isDefinedOn(e.node)){const h=[],m=i.getIterator(de.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&h.push(p),p=m.getNext();return h.push(e),sc(h,c.getCompare())}else return Ir;else{const h=i.get(e.name);let m=o;return h&&(m=m.remove(new de(e.name,h))),m.insert(e,e.node)}});return new ai(r,this.indexSet_)}removeFromIndexes(e,i){const r=ec(this.indexes_,o=>{if(o===Ir)return o;{const u=i.get(e.name);return u?o.remove(new de(e.name,u)):o}});return new ai(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo;class ae{static get EMPTY_NODE(){return mo||(mo=new ae(new Bt(zp),null,ai.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&gx(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mo}updatePriority(e){return this.children_.isEmpty()?this:new ae(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?mo:i}}getChild(e){const i=he(e);return i===null?this:this.getImmediateChild(i).getChild(Ue(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(Y(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const r=new de(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const c=o.isEmpty()?mo:this.priorityNode_;return new ae(o,c,u)}}updateChild(e,i){const r=he(e);if(r===null)return i;{Y(he(e)!==".priority"||as(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Ue(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(Qe,(c,h)=>{i[c]=h.val(e),r++,u&&ae.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):u=!1}),!e&&u&&o<2*r){const c=[];for(const h in i)c[h]=i[h];return c}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+px(this.getPriority().val())+":"),this.forEachChild(Qe,(i,r)=>{const o=r.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":HE(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new de(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new de(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new de(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,de.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,de.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===el?-1:0}withIndex(e){if(e===Fr||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ae(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Fr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Qe),o=i.getIterator(Qe);let u=r.getNext(),c=o.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=r.getNext(),c=o.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Fr?null:this.indexMap_.get(e.toString())}}ae.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class VL extends ae{constructor(){super(new Bt(zp),ae.EMPTY_NODE,ai.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ae.EMPTY_NODE}isEmpty(){return!1}}const el=new VL;Object.defineProperties(de,{MIN:{value:new de($r,ae.EMPTY_NODE)},MAX:{value:new de(Hs,el)}});mx.__EMPTY_NODE=ae.EMPTY_NODE;ht.__childrenNodeConstructor=ae;kL(el);jL(el);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=!0;function St(t,e=null){if(t===null)return ae.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const i=t;return new ht(i,St(e))}if(!(t instanceof Array)&&BL){const i=[];let r=!1;if(Ft(t,(c,h)=>{if(c.substring(0,1)!=="."){const m=St(h);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),i.push(new de(c,m)))}}),i.length===0)return ae.EMPTY_NODE;const u=sc(i,IL,c=>c.name,zp);if(r){const c=sc(i,Qe.getCompare());return new ae(u,St(e),new ai({".priority":c},{".priority":Qe}))}else return new ae(u,St(e),ai.Default)}else{let i=ae.EMPTY_NODE;return Ft(t,(r,o)=>{if(Si(t,r)&&r.substring(0,1)!=="."){const u=St(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(St(e))}}LL(St);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL extends Dc{constructor(e){super(),this.indexPath_=e,Y(!ye(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const r=this.extractChild(e.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?ca(e.name,i.name):u}makePost(e,i){const r=St(e),o=ae.EMPTY_NODE.updateChild(this.indexPath_,r);return new de(i,o)}maxPost(){const e=ae.EMPTY_NODE.updateChild(this.indexPath_,el);return new de(Hs,e)}toString(){return fx(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL extends Dc{compare(e,i){const r=e.node.compareTo(i.node);return r===0?ca(e.name,i.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return de.MIN}maxPost(){return de.MAX}makePost(e,i){const r=St(e);return new de(i,r)}toString(){return".value"}}const qL=new FL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t){return{type:"value",snapshotNode:t}}function Zr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function zo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Vo(t,e,i){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:i}}function GL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this.index_=e}updateChild(e,i,r,o,u,c){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(i);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(i)?c.trackChildChange(zo(i,h)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Zr(i,r)):c.trackChildChange(Vo(i,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(e,i,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Qe,(o,u)=>{i.hasChild(o)||r.trackChildChange(zo(o,u))}),i.isLeafNode()||i.forEachChild(Qe,(o,u)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(u)||r.trackChildChange(Vo(o,u,c))}else r.trackChildChange(Zr(o,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ae.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.indexedFilter_=new Vp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Bo.getStartPost_(e),this.endPost_=Bo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&r}updateChild(e,i,r,o,u,c){return this.matches(new de(i,r))||(r=ae.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,r,o,u,c)}updateFullNode(e,i,r){i.isLeafNode()&&(i=ae.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(ae.EMPTY_NODE);const u=this;return i.forEachChild(Qe,(c,h)=>{u.matches(new de(c,h))||(o=o.updateImmediateChild(c,ae.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Bo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,r,o,u,c){return this.rangedFilter_.matches(new de(i,r))||(r=ae.EMPTY_NODE),e.getImmediateChild(i).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,r,o,u,c):this.fullLimitUpdateChild_(e,i,r,u,c)}updateFullNode(e,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=ae.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=ae.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(ae.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let c=0;for(;u.hasNext();){const h=u.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:o=o.updateImmediateChild(h.name,ae.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,r,o,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(_,S)=>y(S,_)}else c=this.index_.getCompare();const h=e;Y(h.numChildren()===this.limit_,"");const m=new de(i,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(m);if(h.hasChild(i)){const y=h.getImmediateChild(i);let _=o.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===i||h.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const S=_==null?1:c(_,m);if(g&&!r.isEmpty()&&S>=0)return u!=null&&u.trackChildChange(Vo(i,r,y)),h.updateImmediateChild(i,r);{u!=null&&u.trackChildChange(zo(i,y));const C=h.updateImmediateChild(i,ae.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(u!=null&&u.trackChildChange(Zr(_.name,_.node)),C.updateImmediateChild(_.name,_.node)):C}}else return r.isEmpty()?e:g&&c(p,m)>=0?(u!=null&&(u.trackChildChange(zo(p.name,p.node)),u.trackChildChange(Zr(i,r))),h.updateImmediateChild(i,r).updateImmediateChild(p.name,ae.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$r}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qe}copy(){const e=new Bp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function KL(t){return t.loadsAllData()?new Vp(t.getIndex()):t.hasLimit()?new YL(t):new Bo(t)}function NS(t){const e={};if(t.isDefault())return e;let i;if(t.index_===Qe?i="$priority":t.index_===qL?i="$value":t.index_===Fr?i="$key":(Y(t.index_ instanceof HL,"Unrecognized index type!"),i=t.index_.toString()),e.orderBy=mt(i),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=mt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+mt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=mt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+mt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function DS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let i=t.viewFrom_;i===""&&(t.isViewFromLeft()?i="l":i="r"),e.vf=i}return t.index_!==Qe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends lx{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Jo("p:rest:"),this.listens_={}}listen(e,i,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=rc.getListenId_(e,r),h={};this.listens_[c]=h;const m=NS(e._queryParams);this.restRequest_(u+".json",m,(p,g)=>{let y=g;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(u,y,!1,r),Xr(this.listens_,c)===h){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",o(_,null)}})}unlisten(e,i){const r=rc.getListenId_(e,i);delete this.listens_[r]}get(e){const i=NS(e._queryParams),r=e._path.toString(),o=new Rc;return this.restRequest_(r+".json",i,(u,c)=>{let h=c;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+la(i);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=jo(h.responseText)}catch{Ht("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,m)}else h.status!==401&&h.status!==404&&Ht("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this.rootNode_=ae.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(){return{value:null,children:new Map}}function bx(t,e,i){if(ye(e))t.value=i,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,i);else{const r=he(e);t.children.has(r)||t.children.set(r,ac());const o=t.children.get(r);e=Ue(e),bx(o,e,i)}}function Cm(t,e,i){t.value!==null?i(e,t.value):XL(t,(r,o)=>{const u=new je(e.toString()+"/"+r);Cm(o,u,i)})}function XL(t,e){t.children.forEach((i,r)=>{e(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&Ft(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=10*1e3,$L=30*1e3,ZL=300*1e3;class JL{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new QL(e);const r=MS+($L-MS)*Math.random();Co(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),i={};let r=!1;Ft(e,(o,u)=>{u>0&&Si(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),Co(this.reportStats_.bind(this),Math.floor(Math.random()*2*ZL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Cn||(Cn={}));function Sx(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Hp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Fp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i,r){this.path=e,this.affectedTree=i,this.revert=r,this.type=Cn.ACK_USER_WRITE,this.source=Sx()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new je(e));return new oc(Ae(),i,this.revert)}}else return Y(he(this.path)===e,"operationForChild called for unrelated child."),new oc(Ue(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i){this.source=e,this.path=i,this.type=Cn.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new Ho(this.source,Ae()):new Ho(this.source,Ue(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,i,r){this.source=e,this.path=i,this.snap=r,this.type=Cn.OVERWRITE}operationForChild(e){return ye(this.path)?new Fs(this.source,Ae(),this.snap.getImmediateChild(e)):new Fs(this.source,Ue(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,i,r){this.source=e,this.path=i,this.children=r,this.type=Cn.MERGE}operationForChild(e){if(ye(this.path)){const i=this.children.subtree(new je(e));return i.isEmpty()?null:i.value?new Fs(this.source,Ae(),i.value):new Fo(this.source,Ae(),i)}else return Y(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fo(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,i,r){this.node_=e,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const i=he(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function t4(t,e,i,r){const o=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(GL(c.childName,c.snapshotNode))}),po(t,o,"child_removed",e,r,i),po(t,o,"child_added",e,r,i),po(t,o,"child_moved",u,r,i),po(t,o,"child_changed",e,r,i),po(t,o,"value",e,r,i),o}function po(t,e,i,r,o,u){const c=r.filter(h=>h.type===i);c.sort((h,m)=>i4(t,h,m)),c.forEach(h=>{const m=n4(t,h,u);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(m,t.query_))})})}function n4(t,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function i4(t,e,i){if(e.childName==null||i.childName==null)throw aa("Should only compare child_ events.");const r=new de(e.childName,e.snapshotNode),o=new de(i.childName,i.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t,e){return{eventCache:t,serverCache:e}}function wo(t,e,i,r){return Mc(new qs(e,i,r),t.serverCache)}function Tx(t,e,i,r){return Mc(t.eventCache,new qs(e,i,r))}function wm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Gs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd;const s4=()=>(zd||(zd=new Bt(Fk)),zd);class Ve{static fromObject(e){let i=new Ve(null);return Ft(e,(r,o)=>{i=i.set(new je(r),o)}),i}constructor(e,i=s4()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Ae(),value:this.value};if(ye(e))return null;{const r=he(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Ue(e),i);return u!=null?{path:ut(new je(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const i=he(e),r=this.children.get(i);return r!==null?r.subtree(Ue(e)):new Ve(null)}}set(e,i){if(ye(e))return new Ve(i,this.children);{const r=he(e),u=(this.children.get(r)||new Ve(null)).set(Ue(e),i),c=this.children.insert(r,u);return new Ve(this.value,c)}}remove(e){if(ye(e))return this.children.isEmpty()?new Ve(null):new Ve(null,this.children);{const i=he(e),r=this.children.get(i);if(r){const o=r.remove(Ue(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Ve(null):new Ve(this.value,u)}else return this}}get(e){if(ye(e))return this.value;{const i=he(e),r=this.children.get(i);return r?r.get(Ue(e)):null}}setTree(e,i){if(ye(e))return i;{const r=he(e),u=(this.children.get(r)||new Ve(null)).setTree(Ue(e),i);let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),new Ve(this.value,c)}}fold(e){return this.fold_(Ae(),e)}fold_(e,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(ut(e,o),i)}),i(e,this.value,r)}findOnPath(e,i){return this.findOnPath_(e,Ae(),i)}findOnPath_(e,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(ye(e))return null;{const u=he(e),c=this.children.get(u);return c?c.findOnPath_(Ue(e),ut(i,u),r):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Ae(),i)}foreachOnPath_(e,i,r){if(ye(e))return this;{this.value&&r(i,this.value);const o=he(e),u=this.children.get(o);return u?u.foreachOnPath_(Ue(e),ut(i,o),r):new Ve(null)}}foreach(e){this.foreach_(Ae(),e)}foreach_(e,i){this.children.inorderTraversal((r,o)=>{o.foreach_(ut(e,r),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,r)=>{r.value&&e(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.writeTree_=e}static empty(){return new Rn(new Ve(null))}}function Ao(t,e,i){if(ye(e))return new Rn(new Ve(i));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const c=Vt(o,e);return u=u.updateChild(c,i),new Rn(t.writeTree_.set(o,u))}else{const o=new Ve(i),u=t.writeTree_.setTree(e,o);return new Rn(u)}}}function OS(t,e,i){let r=t;return Ft(i,(o,u)=>{r=Ao(r,ut(e,o),u)}),r}function IS(t,e){if(ye(e))return Rn.empty();{const i=t.writeTree_.setTree(e,new Ve(null));return new Rn(i)}}function Am(t,e){return Ws(t,e)!=null}function Ws(t,e){const i=t.writeTree_.findRootMostValueAndPath(e);return i!=null?t.writeTree_.get(i.path).getChild(Vt(i.path,e)):null}function kS(t){const e=[],i=t.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Qe,(r,o)=>{e.push(new de(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new de(r,o.value))}),e}function is(t,e){if(ye(e))return t;{const i=Ws(t,e);return i!=null?new Rn(new Ve(i)):new Rn(t.writeTree_.subtree(e))}}function Rm(t){return t.writeTree_.isEmpty()}function Jr(t,e){return Ex(Ae(),t.writeTree_,e)}function Ex(t,e,i){if(e.value!=null)return i.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(Y(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=Ex(ut(t,o),u,i)}),!i.getChild(t).isEmpty()&&r!==null&&(i=i.updateChild(ut(t,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t,e){return Ax(e,t)}function r4(t,e,i,r,o){Y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:i,writeId:r,visible:o}),o&&(t.visibleWrites=Ao(t.visibleWrites,e,i)),t.lastWriteId=r}function a4(t,e){for(let i=0;i<t.allWrites.length;i++){const r=t.allWrites[i];if(r.writeId===e)return r}return null}function o4(t,e){const i=t.allWrites.findIndex(h=>h.writeId===e);Y(i>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[i];t.allWrites.splice(i,1);let o=r.visible,u=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=i&&l4(h,r.path)?o=!1:xn(r.path,h.path)&&(u=!0)),c--}if(o){if(u)return u4(t),!0;if(r.snap)t.visibleWrites=IS(t.visibleWrites,r.path);else{const h=r.children;Ft(h,m=>{t.visibleWrites=IS(t.visibleWrites,ut(r.path,m))})}return!0}else return!1}function l4(t,e){if(t.snap)return xn(t.path,e);for(const i in t.children)if(t.children.hasOwnProperty(i)&&xn(ut(t.path,i),e))return!0;return!1}function u4(t){t.visibleWrites=xx(t.allWrites,c4,Ae()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function c4(t){return t.visible}function xx(t,e,i){let r=Rn.empty();for(let o=0;o<t.length;++o){const u=t[o];if(e(u)){const c=u.path;let h;if(u.snap)xn(i,c)?(h=Vt(i,c),r=Ao(r,h,u.snap)):xn(c,i)&&(h=Vt(c,i),r=Ao(r,Ae(),u.snap.getChild(h)));else if(u.children){if(xn(i,c))h=Vt(i,c),r=OS(r,h,u.children);else if(xn(c,i))if(h=Vt(c,i),ye(h))r=OS(r,Ae(),u.children);else{const m=Xr(u.children,he(h));if(m){const p=m.getChild(Ue(h));r=Ao(r,Ae(),p)}}}else throw aa("WriteRecord should have .snap or .children")}}return r}function Cx(t,e,i,r,o){if(!r&&!o){const u=Ws(t.visibleWrites,e);if(u!=null)return u;{const c=is(t.visibleWrites,e);if(Rm(c))return i;if(i==null&&!Am(c,Ae()))return null;{const h=i||ae.EMPTY_NODE;return Jr(c,h)}}}else{const u=is(t.visibleWrites,e);if(!o&&Rm(u))return i;if(!o&&i==null&&!Am(u,Ae()))return null;{const c=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(xn(p.path,e)||xn(e,p.path))},h=xx(t.allWrites,c,e),m=i||ae.EMPTY_NODE;return Jr(h,m)}}}function f4(t,e,i){let r=ae.EMPTY_NODE;const o=Ws(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Qe,(u,c)=>{r=r.updateImmediateChild(u,c)}),r;if(i){const u=is(t.visibleWrites,e);return i.forEachChild(Qe,(c,h)=>{const m=Jr(is(u,new je(c)),h);r=r.updateImmediateChild(c,m)}),kS(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const u=is(t.visibleWrites,e);return kS(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function h4(t,e,i,r,o){Y(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=ut(e,i);if(Am(t.visibleWrites,u))return null;{const c=is(t.visibleWrites,u);return Rm(c)?o.getChild(i):Jr(c,o.getChild(i))}}function d4(t,e,i,r){const o=ut(e,i),u=Ws(t.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const c=is(t.visibleWrites,o);return Jr(c,r.getNode().getImmediateChild(i))}else return null}function m4(t,e){return Ws(t.visibleWrites,e)}function p4(t,e,i,r,o,u,c){let h;const m=is(t.visibleWrites,e),p=Ws(m,Ae());if(p!=null)h=p;else if(i!=null)h=Jr(m,i);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],y=c.getCompare(),_=u?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let S=_.getNext();for(;S&&g.length<o;)y(S,r)!==0&&g.push(S),S=_.getNext();return g}else return[]}function g4(){return{visibleWrites:Rn.empty(),allWrites:[],lastWriteId:-1}}function lc(t,e,i,r){return Cx(t.writeTree,t.treePath,e,i,r)}function Gp(t,e){return f4(t.writeTree,t.treePath,e)}function LS(t,e,i,r){return h4(t.writeTree,t.treePath,e,i,r)}function uc(t,e){return m4(t.writeTree,ut(t.treePath,e))}function y4(t,e,i,r,o,u){return p4(t.writeTree,t.treePath,e,i,r,o,u)}function Yp(t,e,i){return d4(t.writeTree,t.treePath,e,i)}function wx(t,e){return Ax(ut(t.treePath,e),t.writeTree)}function Ax(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,r=e.childName;Y(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),Y(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,Vo(r,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,zo(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,Zr(r,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,Vo(r,e.snapshotNode,o.oldSnap));else throw aa("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{getCompleteChild(e){return null}getChildAfterChild(e,i,r){return null}}const Rx=new _4;class Kp{constructor(e,i,r=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new qs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yp(this.writes_,e,r)}}getChildAfterChild(e,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gs(this.viewCache_),u=y4(this.writes_,o,i,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t){return{filter:t}}function S4(t,e){Y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function T4(t,e,i,r,o){const u=new v4;let c,h;if(i.type===Cn.OVERWRITE){const p=i;p.source.fromUser?c=Nm(t,e,p.path,p.snap,r,o,u):(Y(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!ye(p.path),c=cc(t,e,p.path,p.snap,r,o,h,u))}else if(i.type===Cn.MERGE){const p=i;p.source.fromUser?c=x4(t,e,p.path,p.children,r,o,u):(Y(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),c=Dm(t,e,p.path,p.children,r,o,h,u))}else if(i.type===Cn.ACK_USER_WRITE){const p=i;p.revert?c=A4(t,e,p.path,r,o,u):c=C4(t,e,p.path,p.affectedTree,r,o,u)}else if(i.type===Cn.LISTEN_COMPLETE)c=w4(t,e,i.path,r,u);else throw aa("Unknown operation type: "+i.type);const m=u.getChanges();return E4(e,c,m),{viewCache:c,changes:m}}function E4(t,e,i){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=wm(t);(i.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(_x(wm(e)))}}function Nx(t,e,i,r,o,u){const c=e.eventCache;if(uc(r,i)!=null)return e;{let h,m;if(ye(i))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Gs(e),g=p instanceof ae?p:ae.EMPTY_NODE,y=Gp(r,g);h=t.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const p=lc(r,Gs(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=he(i);if(p===".priority"){Y(as(i)===1,"Can't have a priority with additional path components");const g=c.getNode();m=e.serverCache.getNode();const y=LS(r,i,g,m);y!=null?h=t.filter.updatePriority(g,y):h=c.getNode()}else{const g=Ue(i);let y;if(c.isCompleteForChild(p)){m=e.serverCache.getNode();const _=LS(r,i,c.getNode(),m);_!=null?y=c.getNode().getImmediateChild(p).updateChild(g,_):y=c.getNode().getImmediateChild(p)}else y=Yp(r,p,e.serverCache);y!=null?h=t.filter.updateChild(c.getNode(),p,y,g,o,u):h=c.getNode()}}return wo(e,h,c.isFullyInitialized()||ye(i),t.filter.filtersNodes())}}function cc(t,e,i,r,o,u,c,h){const m=e.serverCache;let p;const g=c?t.filter:t.filter.getIndexedFilter();if(ye(i))p=g.updateFullNode(m.getNode(),r,null);else if(g.filtersNodes()&&!m.isFiltered()){const S=m.getNode().updateChild(i,r);p=g.updateFullNode(m.getNode(),S,null)}else{const S=he(i);if(!m.isCompleteForPath(i)&&as(i)>1)return e;const E=Ue(i),N=m.getNode().getImmediateChild(S).updateChild(E,r);S===".priority"?p=g.updatePriority(m.getNode(),N):p=g.updateChild(m.getNode(),S,N,E,Rx,null)}const y=Tx(e,p,m.isFullyInitialized()||ye(i),g.filtersNodes()),_=new Kp(o,y,u);return Nx(t,y,i,o,_,h)}function Nm(t,e,i,r,o,u,c){const h=e.eventCache;let m,p;const g=new Kp(o,e,u);if(ye(i))p=t.filter.updateFullNode(e.eventCache.getNode(),r,c),m=wo(e,p,!0,t.filter.filtersNodes());else{const y=he(i);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),r),m=wo(e,p,h.isFullyInitialized(),h.isFiltered());else{const _=Ue(i),S=h.getNode().getImmediateChild(y);let E;if(ye(_))E=r;else{const C=g.getCompleteChild(y);C!=null?cx(_)===".priority"&&C.getChild(hx(_)).isEmpty()?E=C:E=C.updateChild(_,r):E=ae.EMPTY_NODE}if(S.equals(E))m=e;else{const C=t.filter.updateChild(h.getNode(),y,E,_,g,c);m=wo(e,C,h.isFullyInitialized(),t.filter.filtersNodes())}}}return m}function jS(t,e){return t.eventCache.isCompleteForChild(e)}function x4(t,e,i,r,o,u,c){let h=e;return r.foreach((m,p)=>{const g=ut(i,m);jS(e,he(g))&&(h=Nm(t,h,g,p,o,u,c))}),r.foreach((m,p)=>{const g=ut(i,m);jS(e,he(g))||(h=Nm(t,h,g,p,o,u,c))}),h}function US(t,e,i){return i.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Dm(t,e,i,r,o,u,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;ye(i)?p=r:p=new Ve(null).setTree(i,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const S=e.serverCache.getNode().getImmediateChild(y),E=US(t,S,_);m=cc(t,m,new je(y),E,o,u,c,h)}}),p.children.inorderTraversal((y,_)=>{const S=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!S){const E=e.serverCache.getNode().getImmediateChild(y),C=US(t,E,_);m=cc(t,m,new je(y),C,o,u,c,h)}}),m}function C4(t,e,i,r,o,u,c){if(uc(o,i)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(r.value!=null){if(ye(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return cc(t,e,i,m.getNode().getChild(i),o,u,h,c);if(ye(i)){let p=new Ve(null);return m.getNode().forEachChild(Fr,(g,y)=>{p=p.set(new je(g),y)}),Dm(t,e,i,p,o,u,h,c)}else return e}else{let p=new Ve(null);return r.foreach((g,y)=>{const _=ut(i,g);m.isCompleteForPath(_)&&(p=p.set(g,m.getNode().getChild(_)))}),Dm(t,e,i,p,o,u,h,c)}}function w4(t,e,i,r,o){const u=e.serverCache,c=Tx(e,u.getNode(),u.isFullyInitialized()||ye(i),u.isFiltered());return Nx(t,c,i,r,Rx,o)}function A4(t,e,i,r,o,u){let c;if(uc(r,i)!=null)return e;{const h=new Kp(r,e,o),m=e.eventCache.getNode();let p;if(ye(i)||he(i)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=lc(r,Gs(e));else{const y=e.serverCache.getNode();Y(y instanceof ae,"serverChildren would be complete if leaf node"),g=Gp(r,y)}g=g,p=t.filter.updateFullNode(m,g,u)}else{const g=he(i);let y=Yp(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=m.getImmediateChild(g)),y!=null?p=t.filter.updateChild(m,g,y,Ue(i),h,u):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(m,g,ae.EMPTY_NODE,Ue(i),h,u):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=lc(r,Gs(e)),c.isLeafNode()&&(p=t.filter.updateFullNode(p,c,u)))}return c=e.serverCache.isFullyInitialized()||uc(r,Ae())!=null,wo(e,p,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Vp(r.getIndex()),u=KL(r);this.processor_=b4(u);const c=i.serverCache,h=i.eventCache,m=o.updateFullNode(ae.EMPTY_NODE,c.getNode(),null),p=u.updateFullNode(ae.EMPTY_NODE,h.getNode(),null),g=new qs(m,c.isFullyInitialized(),o.filtersNodes()),y=new qs(p,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Mc(y,g),this.eventGenerator_=new e4(this.query_)}get query(){return this.query_}}function N4(t){return t.viewCache_.serverCache.getNode()}function D4(t,e){const i=Gs(t.viewCache_);return i&&(t.query._queryParams.loadsAllData()||!ye(e)&&!i.getImmediateChild(he(e)).isEmpty())?i.getChild(e):null}function PS(t){return t.eventRegistrations_.length===0}function M4(t,e){t.eventRegistrations_.push(e)}function zS(t,e,i){const r=[];if(i){Y(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(i,o);c&&r.push(c)})}if(e){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const c=t.eventRegistrations_[u];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function VS(t,e,i,r){e.type===Cn.MERGE&&e.source.queryId!==null&&(Y(Gs(t.viewCache_),"We should always have a full cache before handling merges"),Y(wm(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=T4(t.processor_,o,e,i,r);return S4(t.processor_,u.viewCache),Y(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Dx(t,u.changes,u.viewCache.eventCache.getNode(),null)}function O4(t,e){const i=t.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Qe,(u,c)=>{r.push(Zr(u,c))}),i.isFullyInitialized()&&r.push(_x(i.getNode())),Dx(t,r,i.getNode(),e)}function Dx(t,e,i,r){const o=r?[r]:t.eventRegistrations_;return t4(t.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc;class I4{constructor(){this.views=new Map}}function k4(t){Y(!fc,"__referenceConstructor has already been defined"),fc=t}function L4(){return Y(fc,"Reference.ts has not been loaded"),fc}function j4(t){return t.views.size===0}function Wp(t,e,i,r){const o=e.source.queryId;if(o!==null){const u=t.views.get(o);return Y(u!=null,"SyncTree gave us an op for an invalid query."),VS(u,e,i,r)}else{let u=[];for(const c of t.views.values())u=u.concat(VS(c,e,i,r));return u}}function U4(t,e,i,r,o){const u=e._queryIdentifier,c=t.views.get(u);if(!c){let h=lc(i,o?r:null),m=!1;h?m=!0:r instanceof ae?(h=Gp(i,r),m=!1):(h=ae.EMPTY_NODE,m=!1);const p=Mc(new qs(h,m,!1),new qs(r,o,!1));return new R4(e,p)}return c}function P4(t,e,i,r,o,u){const c=U4(t,e,r,o,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),M4(c,i),O4(c,i)}function z4(t,e,i,r){const o=e._queryIdentifier,u=[];let c=[];const h=os(t);if(o==="default")for(const[m,p]of t.views.entries())c=c.concat(zS(p,i,r)),PS(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query));else{const m=t.views.get(o);m&&(c=c.concat(zS(m,i,r)),PS(m)&&(t.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!os(t)&&u.push(new(L4())(e._repo,e._path)),{removed:u,events:c}}function Mx(t){const e=[];for(const i of t.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function qr(t,e){let i=null;for(const r of t.views.values())i=i||D4(r,e);return i}function Ox(t,e){if(e._queryParams.loadsAllData())return Oc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Ix(t,e){return Ox(t,e)!=null}function os(t){return Oc(t)!=null}function Oc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;function V4(t){Y(!hc,"__referenceConstructor has already been defined"),hc=t}function B4(){return Y(hc,"Reference.ts has not been loaded"),hc}let H4=1;class BS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ve(null),this.pendingWriteTree_=g4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function kx(t,e,i,r,o){return r4(t.pendingWriteTree_,e,i,r,o),o?tl(t,new Fs(Sx(),e,i)):[]}function Us(t,e,i=!1){const r=a4(t.pendingWriteTree_,e);if(o4(t.pendingWriteTree_,e)){let u=new Ve(null);return r.snap!=null?u=u.set(Ae(),!0):Ft(r.children,c=>{u=u.set(new je(c),!0)}),tl(t,new oc(r.path,u,i))}else return[]}function Ic(t,e,i){return tl(t,new Fs(Hp(),e,i))}function F4(t,e,i){const r=Ve.fromObject(i);return tl(t,new Fo(Hp(),e,r))}function q4(t,e){return tl(t,new Ho(Hp(),e))}function G4(t,e,i){const r=Qp(t,i);if(r){const o=$p(r),u=o.path,c=o.queryId,h=Vt(u,e),m=new Ho(Fp(c),h);return Zp(t,u,m)}else return[]}function Mm(t,e,i,r,o=!1){const u=e._path,c=t.syncPointTree_.get(u);let h=[];if(c&&(e._queryIdentifier==="default"||Ix(c,e))){const m=z4(c,e,i,r);j4(c)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const p=m.removed;if(h=m.events,!o){const g=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(u,(_,S)=>os(S));if(g&&!y){const _=t.syncPointTree_.subtree(u);if(!_.isEmpty()){const S=W4(_);for(let E=0;E<S.length;++E){const C=S[E],N=C.query,M=Ux(t,C);t.listenProvider_.startListening(Ro(N),dc(t,N),M.hashFn,M.onComplete)}}}!y&&p.length>0&&!r&&(g?t.listenProvider_.stopListening(Ro(e),null):p.forEach(_=>{const S=t.queryToTagMap.get(kc(_));t.listenProvider_.stopListening(Ro(_),S)}))}X4(t,p)}return h}function Y4(t,e,i,r){const o=Qp(t,r);if(o!=null){const u=$p(o),c=u.path,h=u.queryId,m=Vt(c,e),p=new Fs(Fp(h),m,i);return Zp(t,c,p)}else return[]}function K4(t,e,i,r){const o=Qp(t,r);if(o){const u=$p(o),c=u.path,h=u.queryId,m=Vt(c,e),p=Ve.fromObject(i),g=new Fo(Fp(h),m,p);return Zp(t,c,g)}else return[]}function HS(t,e,i,r=!1){const o=e._path;let u=null,c=!1;t.syncPointTree_.foreachOnPath(o,(_,S)=>{const E=Vt(_,o);u=u||qr(S,E),c=c||os(S)});let h=t.syncPointTree_.get(o);h?(c=c||os(h),u=u||qr(h,Ae())):(h=new I4,t.syncPointTree_=t.syncPointTree_.set(o,h));let m;u!=null?m=!0:(m=!1,u=ae.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((S,E)=>{const C=qr(E,Ae());C&&(u=u.updateImmediateChild(S,C))}));const p=Ix(h,e);if(!p&&!e._queryParams.loadsAllData()){const _=kc(e);Y(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const S=Q4();t.queryToTagMap.set(_,S),t.tagToQueryMap.set(S,_)}const g=qp(t.pendingWriteTree_,o);let y=P4(h,e,i,g,u,m);if(!p&&!c&&!r){const _=Ox(h,e);y=y.concat($4(t,e,_))}return y}function Xp(t,e,i){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(c,h)=>{const m=Vt(c,e),p=qr(h,m);if(p)return p});return Cx(o,e,u,i,!0)}function tl(t,e){return Lx(e,t.syncPointTree_,null,qp(t.pendingWriteTree_,Ae()))}function Lx(t,e,i,r){if(ye(t.path))return jx(t,e,i,r);{const o=e.get(Ae());i==null&&o!=null&&(i=qr(o,Ae()));let u=[];const c=he(t.path),h=t.operationForChild(c),m=e.children.get(c);if(m&&h){const p=i?i.getImmediateChild(c):null,g=wx(r,c);u=u.concat(Lx(h,m,p,g))}return o&&(u=u.concat(Wp(o,t,r,i))),u}}function jx(t,e,i,r){const o=e.get(Ae());i==null&&o!=null&&(i=qr(o,Ae()));let u=[];return e.children.inorderTraversal((c,h)=>{const m=i?i.getImmediateChild(c):null,p=wx(r,c),g=t.operationForChild(c);g&&(u=u.concat(jx(g,h,m,p)))}),o&&(u=u.concat(Wp(o,t,r,i))),u}function Ux(t,e){const i=e.query,r=dc(t,i);return{hashFn:()=>(N4(e)||ae.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?G4(t,i._path,r):q4(t,i._path);{const u=Yk(o,i);return Mm(t,i,null,u)}}}}function dc(t,e){const i=kc(e);return t.queryToTagMap.get(i)}function kc(t){return t._path.toString()+"$"+t._queryIdentifier}function Qp(t,e){return t.tagToQueryMap.get(e)}function $p(t){const e=t.indexOf("$");return Y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new je(t.substr(0,e))}}function Zp(t,e,i){const r=t.syncPointTree_.get(e);Y(r,"Missing sync point for query tag that we're tracking");const o=qp(t.pendingWriteTree_,e);return Wp(r,i,o,null)}function W4(t){return t.fold((e,i,r)=>{if(i&&os(i))return[Oc(i)];{let o=[];return i&&(o=Mx(i)),Ft(r,(u,c)=>{o=o.concat(c)}),o}})}function Ro(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(B4())(t._repo,t._path):t}function X4(t,e){for(let i=0;i<e.length;++i){const r=e[i];if(!r._queryParams.loadsAllData()){const o=kc(r),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}function Q4(){return H4++}function $4(t,e,i){const r=e._path,o=dc(t,e),u=Ux(t,i),c=t.listenProvider_.startListening(Ro(e),o,u.hashFn,u.onComplete),h=t.syncPointTree_.subtree(r);if(o)Y(!os(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((p,g,y)=>{if(!ye(p)&&g&&os(g))return[Oc(g).query];{let _=[];return g&&(_=_.concat(Mx(g).map(S=>S.query))),Ft(y,(S,E)=>{_=_.concat(E)}),_}});for(let p=0;p<m.length;++p){const g=m[p];t.listenProvider_.stopListening(Ro(g),dc(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Jp(i)}node(){return this.node_}}class eg{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=ut(this.path_,e);return new eg(this.syncTree_,i)}node(){return Xp(this.syncTree_,this.path_)}}const Z4=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},FS=function(t,e,i){if(!t||typeof t!="object")return t;if(Y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return J4(t[".sv"],e,i);if(typeof t[".sv"]=="object")return e6(t[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},J4=function(t,e,i){if(t==="timestamp")return i.timestamp;Y(!1,"Unexpected server value: "+t)},e6=function(t,e,i){t.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Y(!1,"Unexpected increment value: "+r);const o=e.node();if(Y(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return typeof c!="number"?r:c+r},t6=function(t,e,i,r){return tg(e,new eg(i,t),r)},Px=function(t,e,i){return tg(t,new Jp(e),i)};function tg(t,e,i){const r=t.getPriority().val(),o=FS(r,e.getImmediateChild(".priority"),i);let u;if(t.isLeafNode()){const c=t,h=FS(c.getValue(),e,i);return h!==c.getValue()||o!==c.getPriority().val()?new ht(h,St(o)):t}else{const c=t;return u=c,o!==c.getPriority().val()&&(u=u.updatePriority(new ht(o))),c.forEachChild(Qe,(h,m)=>{const p=tg(m,e.getImmediateChild(h),i);p!==m&&(u=u.updateImmediateChild(h,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e="",i=null,r={children:{},childCount:0}){this.name=e,this.parent=i,this.node=r}}function ig(t,e){let i=e instanceof je?e:new je(e),r=t,o=he(i);for(;o!==null;){const u=Xr(r.node.children,o)||{children:{},childCount:0};r=new ng(o,r,u),i=Ue(i),o=he(i)}return r}function ha(t){return t.node.value}function zx(t,e){t.node.value=e,Om(t)}function Vx(t){return t.node.childCount>0}function n6(t){return ha(t)===void 0&&!Vx(t)}function Lc(t,e){Ft(t.node.children,(i,r)=>{e(new ng(i,t,r))})}function Bx(t,e,i,r){i&&e(t),Lc(t,o=>{Bx(o,e,!0)})}function i6(t,e,i){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function nl(t){return new je(t.parent===null?t.name:nl(t.parent)+"/"+t.name)}function Om(t){t.parent!==null&&s6(t.parent,t.name,t)}function s6(t,e,i){const r=n6(i),o=Si(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Om(t)):!r&&!o&&(t.node.children[e]=i.node,t.node.childCount++,Om(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=/[\[\].#$\/\u0000-\u001F\u007F]/,a6=/[\[\].#$\u0000-\u001F\u007F]/,Vd=10*1024*1024,Hx=function(t){return typeof t=="string"&&t.length!==0&&!r6.test(t)},Fx=function(t){return typeof t=="string"&&t.length!==0&&!a6.test(t)},o6=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Fx(t)},l6=function(t,e,i,r){sg(Np(t,"value"),e,i)},sg=function(t,e,i){const r=i instanceof je?new CL(i,t):i;if(e===void 0)throw new Error(t+"contains undefined "+Is(r));if(typeof e=="function")throw new Error(t+"contains a function "+Is(r)+" with contents = "+e.toString());if(FE(e))throw new Error(t+"contains "+e.toString()+" "+Is(r));if(typeof e=="string"&&e.length>Vd/3&&Nc(e)>Vd)throw new Error(t+"contains a string greater than "+Vd+" utf8 bytes "+Is(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Ft(e,(c,h)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!Hx(c)))throw new Error(t+" contains an invalid key ("+c+") "+Is(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wL(r,c),sg(t,h,r),AL(r)}),o&&u)throw new Error(t+' contains ".value" child '+Is(r)+" in addition to actual children.")}},qx=function(t,e,i,r){if(!Fx(i))throw new Error(Np(t,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},u6=function(t,e,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),qx(t,e,i)},c6=function(t,e){if(he(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},f6=function(t,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Hx(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!o6(i))throw new Error(Np(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rg(t,e){let i=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();i!==null&&!Up(u,i.path)&&(t.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&t.eventLists_.push(i)}function Gx(t,e,i){rg(t,i),Yx(t,r=>Up(r,e))}function gi(t,e,i){rg(t,i),Yx(t,r=>xn(r,e)||xn(e,r))}function Yx(t,e){t.recursionDepth_++;let i=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const u=o.path;e(u)?(d6(t.eventLists_[r]),t.eventLists_[r]=null):i=!1}}i&&(t.eventLists_=[]),t.recursionDepth_--}function d6(t){for(let e=0;e<t.events.length;e++){const i=t.events[e];if(i!==null){t.events[e]=null;const r=i.getEventRunner();xo&&Et("event: "+i.toString()),fa(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="repo_interrupt",p6=25;class g6{constructor(e,i,r,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new h6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ac(),this.transactionQueueTree_=new ng,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function y6(t,e,i){if(t.stats_=Lp(t.repoInfo_),t.forceRestClient_||Qk())t.server_=new rc(t.repoInfo_,(r,o,u,c)=>{qS(t,r,o,u,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>GS(t,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{mt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new fi(t.repoInfo_,e,(r,o,u,c)=>{qS(t,r,o,u,c)},r=>{GS(t,r)},r=>{_6(t,r)},t.authTokenProvider_,t.appCheckProvider_,i),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=tL(t.repoInfo_,()=>new JL(t.stats_,t.server_)),t.infoData_=new WL,t.infoSyncTree_=new BS({startListening:(r,o,u,c)=>{let h=[];const m=t.infoData_.getNode(r._path);return m.isEmpty()||(h=Ic(t.infoSyncTree_,r._path,m),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),og(t,"connected",!1),t.serverSyncTree_=new BS({startListening:(r,o,u,c)=>(t.server_.listen(r,u,o,(h,m)=>{const p=c(h,m);gi(t.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function v6(t){const i=t.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function ag(t){return Z4({timestamp:v6(t)})}function qS(t,e,i,r,o){t.dataUpdateCount++;const u=new je(e);i=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,i):i;let c=[];if(o)if(r){const m=ec(i,p=>St(p));c=K4(t.serverSyncTree_,u,m,o)}else{const m=St(i);c=Y4(t.serverSyncTree_,u,m,o)}else if(r){const m=ec(i,p=>St(p));c=F4(t.serverSyncTree_,u,m)}else{const m=St(i);c=Ic(t.serverSyncTree_,u,m)}let h=u;c.length>0&&(h=jc(t,u)),gi(t.eventQueue_,h,c)}function GS(t,e){og(t,"connected",e),e===!1&&S6(t)}function _6(t,e){Ft(e,(i,r)=>{og(t,i,r)})}function og(t,e,i){const r=new je("/.info/"+e),o=St(i);t.infoData_.updateSnapshot(r,o);const u=Ic(t.infoSyncTree_,r,o);gi(t.eventQueue_,r,u)}function Kx(t){return t.nextWriteId_++}function b6(t,e,i,r,o){lg(t,"set",{path:e.toString(),value:i,priority:r});const u=ag(t),c=St(i,r),h=Xp(t.serverSyncTree_,e),m=Px(c,h,u),p=Kx(t),g=kx(t.serverSyncTree_,e,m,p,!0);rg(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(_,S)=>{const E=_==="ok";E||Ht("set at "+e+" failed: "+_);const C=Us(t.serverSyncTree_,p,!E);gi(t.eventQueue_,e,C),C6(t,o,_,S)});const y=Zx(t,e);jc(t,y),gi(t.eventQueue_,y,[])}function S6(t){lg(t,"onDisconnectEvents");const e=ag(t),i=ac();Cm(t.onDisconnect_,Ae(),(o,u)=>{const c=t6(o,u,t.serverSyncTree_,e);bx(i,o,c)});let r=[];Cm(i,Ae(),(o,u)=>{r=r.concat(Ic(t.serverSyncTree_,o,u));const c=Zx(t,o);jc(t,c)}),t.onDisconnect_=ac(),gi(t.eventQueue_,Ae(),r)}function T6(t,e,i){let r;he(e._path)===".info"?r=HS(t.infoSyncTree_,e,i):r=HS(t.serverSyncTree_,e,i),Gx(t.eventQueue_,e._path,r)}function E6(t,e,i){let r;he(e._path)===".info"?r=Mm(t.infoSyncTree_,e,i):r=Mm(t.serverSyncTree_,e,i),Gx(t.eventQueue_,e._path,r)}function x6(t){t.persistentConnection_&&t.persistentConnection_.interrupt(m6)}function lg(t,...e){let i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),Et(i,...e)}function C6(t,e,i,r){e&&fa(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const c=new Error(u);c.code=o,e(c)}})}function Wx(t,e,i){return Xp(t.serverSyncTree_,e,i)||ae.EMPTY_NODE}function ug(t,e=t.transactionQueueTree_){if(e||Uc(t,e),ha(e)){const i=Qx(t,e);Y(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&w6(t,nl(e),i)}else Vx(e)&&Lc(e,i=>{ug(t,i)})}function w6(t,e,i){const r=i.map(p=>p.currentWriteId),o=Wx(t,e,r);let u=o;const c=o.hash();for(let p=0;p<i.length;p++){const g=i[p];Y(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Vt(e,g.path);u=u.updateChild(y,g.currentOutputSnapshotRaw)}const h=u.val(!0),m=e;t.server_.put(m.toString(),h,p=>{lg(t,"transaction put response",{path:m.toString(),status:p});let g=[];if(p==="ok"){const y=[];for(let _=0;_<i.length;_++)i[_].status=2,g=g.concat(Us(t.serverSyncTree_,i[_].currentWriteId)),i[_].onComplete&&y.push(()=>i[_].onComplete(null,!0,i[_].currentOutputSnapshotResolved)),i[_].unwatcher();Uc(t,ig(t.transactionQueueTree_,e)),ug(t,t.transactionQueueTree_),gi(t.eventQueue_,e,g);for(let _=0;_<y.length;_++)fa(y[_])}else{if(p==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{Ht("transaction at "+m.toString()+" failed: "+p);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=p}jc(t,e)}},c)}function jc(t,e){const i=Xx(t,e),r=nl(i),o=Qx(t,i);return A6(t,o,r),r}function A6(t,e,i){if(e.length===0)return;const r=[];let o=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],p=Vt(i,m.path);let g=!1,y;if(Y(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)g=!0,y=m.abortReason,o=o.concat(Us(t.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=p6)g=!0,y="maxretry",o=o.concat(Us(t.serverSyncTree_,m.currentWriteId,!0));else{const _=Wx(t,m.path,c);m.currentInputSnapshot=_;const S=e[h].update(_.val());if(S!==void 0){sg("transaction failed: Data returned ",S,m.path);let E=St(S);typeof S=="object"&&S!=null&&Si(S,".priority")||(E=E.updatePriority(_.getPriority()));const N=m.currentWriteId,M=ag(t),U=Px(E,_,M);m.currentOutputSnapshotRaw=E,m.currentOutputSnapshotResolved=U,m.currentWriteId=Kx(t),c.splice(c.indexOf(N),1),o=o.concat(kx(t.serverSyncTree_,m.path,U,m.currentWriteId,m.applyLocally)),o=o.concat(Us(t.serverSyncTree_,N,!0))}else g=!0,y="nodata",o=o.concat(Us(t.serverSyncTree_,m.currentWriteId,!0))}gi(t.eventQueue_,i,o),o=[],g&&(e[h].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(y),!1,null))))}Uc(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)fa(r[h]);ug(t,t.transactionQueueTree_)}function Xx(t,e){let i,r=t.transactionQueueTree_;for(i=he(e);i!==null&&ha(r)===void 0;)r=ig(r,i),e=Ue(e),i=he(e);return r}function Qx(t,e){const i=[];return $x(t,e,i),i.sort((r,o)=>r.order-o.order),i}function $x(t,e,i){const r=ha(e);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);Lc(e,o=>{$x(t,o,i)})}function Uc(t,e){const i=ha(e);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,zx(e,i.length>0?i:void 0)}Lc(e,r=>{Uc(t,r)})}function Zx(t,e){const i=nl(Xx(t,e)),r=ig(t.transactionQueueTree_,e);return i6(r,o=>{Bd(t,o)}),Bd(t,r),Bx(r,o=>{Bd(t,o)}),i}function Bd(t,e){const i=ha(e);if(i){const r=[];let o=[],u=-1;for(let c=0;c<i.length;c++)i[c].status===3||(i[c].status===1?(Y(u===c-1,"All SENT items should be at beginning of queue."),u=c,i[c].status=3,i[c].abortReason="set"):(Y(i[c].status===0,"Unexpected transaction status in abort"),i[c].unwatcher(),o=o.concat(Us(t.serverSyncTree_,i[c].currentWriteId,!0)),i[c].onComplete&&r.push(i[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?zx(e,void 0):i.length=u+1,gi(t.eventQueue_,nl(e),o);for(let c=0;c<r.length;c++)fa(r[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){let e="";const i=t.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function N6(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const i of t.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ht(`Invalid query segment '${i}' in query '${t}'`)}return e}const YS=function(t,e){const i=D6(t),r=i.namespace;i.domain==="firebase.com"&&pi(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||Bk();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new tx(i.host,i.secure,r,o,e,"",r!==i.subdomain),path:new je(i.pathString)}},D6=function(t){let e="",i="",r="",o="",u="",c=!0,h="https",m=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=R6(t.substring(g,y)));const _=N6(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(c=h==="https"||h==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")i="localhost";else if(S.split(".").length<=2)i=S;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),i=e.substring(E+1),u=r}"ns"in _&&(u=_.ns)}return{host:e,port:m,domain:i,subdomain:r,secure:c,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,i,r,o){this.eventType=e,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+mt(this.snapshot.exportVal())}}class O6{constructor(e,i,r){this.eventRegistration=e,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,i,r,o){this._repo=e,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return ye(this._path)?null:cx(this._path)}get ref(){return new cs(this._repo,this._path)}get _queryIdentifier(){const e=DS(this._queryParams),i=Ip(e);return i==="{}"?"default":i}get _queryObject(){return DS(this._queryParams)}isEqual(e){if(e=Dn(e),!(e instanceof cg))return!1;const i=this._repo===e._repo,r=Up(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+xL(this._path)}}class cs extends cg{constructor(e,i){super(e,i,new Bp,!1)}get parent(){const e=hx(this._path);return e===null?null:new cs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class mc{constructor(e,i,r){this._node=e,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new je(e),r=Im(this.ref,e);return new mc(this._node.getChild(i),r,Qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new mc(o,Im(this.ref,r),Qe)))}hasChild(e){const i=new je(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qe(t,e){return t=Dn(t),t._checkNotDeleted("ref"),e!==void 0?Im(t._root,e):t._root}function Im(t,e){return t=Dn(t),he(t._path)===null?u6("child","path",e):qx("child","path",e),new cs(t._repo,ut(t._path,e))}function zt(t,e){t=Dn(t),c6("set",t._path),l6("set",e,t._path);const i=new Rc;return b6(t._repo,t._path,e,null,i.wrapCallback(()=>{})),i.promise}class fg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const r=i._queryParams.getIndex();return new M6("value",this,new mc(e.snapshotNode,new cs(i._repo,i._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new O6(this,e,i):null}matches(e){return e instanceof fg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function k6(t,e,i,r,o){const u=new I6(i,void 0),c=new fg(u);return T6(t._repo,t,c),()=>E6(t._repo,t,c)}function yi(t,e,i,r){return k6(t,"value",e)}k4(cs);V4(cs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="FIREBASE_DATABASE_EMULATOR_HOST",km={};let j6=!1;function U6(t,e,i,r){const o=e.lastIndexOf(":"),u=e.substring(0,o),c=oa(u);t.repoInfo_=new tx(e,c,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(t.authTokenProvider_=r)}function P6(t,e,i,r,o){let u=r||t.options.databaseURL;u===void 0&&(t.options.projectId||pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Et("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=YS(u,o),h=c.repoInfo,m;typeof process<"u"&&hS&&(m=hS[L6]),m?(u=`http://${m}?ns=${h.namespace}`,c=YS(u,o),h=c.repoInfo):c.repoInfo.secure;const p=new Zk(t.name,t.options,e);f6("Invalid Firebase Database URL",c),ye(c.path)||pi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=V6(h,t,p,new $k(t,i));return new B6(g,t)}function z6(t,e){const i=km[e];(!i||i[t.key]!==t)&&pi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),x6(t),delete i[t.key]}function V6(t,e,i,r){let o=km[e.name];o||(o={},km[e.name]=o);let u=o[t.toURLString()];return u&&pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new g6(t,j6,i,r),o[t.toURLString()]=u,u}class B6{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(y6(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cs(this._repo,Ae())),this._rootInternal}_delete(){return this._rootInternal!==null&&(z6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pi("Cannot call "+e+" on a deleted database.")}}function H6(t=UE(),e){const i=Op(t,"database").getImmediate({identifier:e});if(!i._instanceStarted){const r=o3("database");r&&F6(i,...r)}return i}function F6(t,e,i,r={}){t=Dn(t),t._checkNotDeleted("useEmulator");const o=`${e}:${i}`,u=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Vs(r,u.repoInfo_.emulatorOptions))return;pi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new zu(zu.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:l3(r.mockUserToken,t.app.options.projectId);c=new zu(h)}oa(e)&&(DE(e),ME("Database",!0)),U6(u,o,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t){Lk(ua),Qr(new Bs("database",(e,{instanceIdentifier:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return P6(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),ns(dS,mS,t),ns(dS,mS,"esm2020")}fi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};fi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};q6();var G6="firebase",Y6="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(G6,Y6,"app");function Jx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K6=Jx,eC=new $o("auth","Firebase",Jx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Dp("@firebase/auth");function W6(t,...e){pc.logLevel<=ke.WARN&&pc.warn(`Auth (${ua}): ${t}`,...e)}function Vu(t,...e){pc.logLevel<=ke.ERROR&&pc.error(`Auth (${ua}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,...e){throw hg(t,...e)}function Un(t,...e){return hg(t,...e)}function tC(t,e,i){const r={...K6(),[e]:i};return new $o("auth","Firebase",r).create(e,{appName:t.name})}function zs(t){return tC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hg(t,...e){if(typeof t!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(i,...r)}return eC.create(t,...e)}function oe(t,e,...i){if(!t)throw hg(e,...i)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function _i(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function X6(){return KS()==="http:"||KS()==="https:"}function KS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X6()||h3()||"connection"in navigator)?navigator.onLine:!0}function $6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,i){this.shortDelay=e,this.longDelay=i,_i(i>e,"Short delay should be less than long delay!"),this.isMobile=Rp()||OE()}get(){return Q6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e){_i(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e5=new il(3e4,6e4);function mg(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function da(t,e,i,r,o={}){return iC(t,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const h=la({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...u};return f3()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&oa(t.emulatorConfig.host)&&(p.credentials="include"),nC.fetch()(await sC(t,t.config.apiHost,i,h),p)})}async function iC(t,e,i){t._canInitEmulator=!1;const r={...Z6,...e};try{const o=new n5(t),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Mu(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const h=u.ok?c.errorMessage:c.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mu(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Mu(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Mu(t,"user-disabled",c);const g=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw tC(t,g,p);vi(t,g)}}catch(o){if(o instanceof us)throw o;vi(t,"network-request-failed",{message:String(o)})}}async function t5(t,e,i,r,o={}){const u=await da(t,e,i,r,o);return"mfaPendingCredential"in u&&vi(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function sC(t,e,i,r){const o=`${e}${i}?${r}`,u=t,c=u.config.emulator?dg(t.config,o):`${t.config.apiScheme}://${o}`;return J6.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class n5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Un(this.auth,"network-request-failed")),e5.get())})}}function Mu(t,e,i){const r={appName:t.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Un(t,e,r);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5(t,e){return da(t,"POST","/v1/accounts:delete",e)}async function gc(t,e){return da(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s5(t,e=!1){const i=Dn(t),r=await i.getIdToken(e),o=pg(r);oe(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:No(Hd(o.auth_time)),issuedAtTime:No(Hd(o.iat)),expirationTime:No(Hd(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Hd(t){return Number(t)*1e3}function pg(t){const[e,i,r]=t.split(".");if(e===void 0||i===void 0||r===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ju(i);return o?JSON.parse(o):(Vu("Failed to decode base64 JWT payload"),null)}catch(o){return Vu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function WS(t){const e=pg(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof us&&r5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function r5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(t){var y;const e=t.auth,i=await t.getIdToken(),r=await qo(t,gc(e,{idToken:i}));oe(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const u=(y=o.providerUserInfo)!=null&&y.length?rC(o.providerUserInfo):[],c=l5(t.providerData,u),h=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),p=h?m:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function o5(t){const e=Dn(t);await yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l5(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function rC(t){return t.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(t,e){const i=await iC(t,{},async()=>{const r=la({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,c=await sC(t,o,"/v1/token",`key=${u}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:r};return t.emulatorConfig&&oa(t.emulatorConfig.host)&&(m.credentials="include"),nC.fetch()(c,m)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function c5(t,e){return da(t,"POST","/v2/accounts:revokeToken",mg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const i=WS(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await u5(e,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,c=new Gr;return r&&(oe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(oe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(oe(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gr,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wn{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new a5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await qo(this,this.stsTokenManager.getToken(this.auth,e));return oe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return s5(this,e)}reload(){return o5(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await yc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(zs(this.auth));const e=await this.getIdToken();return await qo(this,i5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,c=i.photoURL??void 0,h=i.tenantId??void 0,m=i._redirectEventId??void 0,p=i.createdAt??void 0,g=i.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:S,providerData:E,stsTokenManager:C}=i;oe(y&&C,e,"internal-error");const N=Gr.fromJSON(this.name,C);oe(typeof y=="string",e,"internal-error"),Ki(r,e.name),Ki(o,e.name),oe(typeof _=="boolean",e,"internal-error"),oe(typeof S=="boolean",e,"internal-error"),Ki(u,e.name),Ki(c,e.name),Ki(h,e.name),Ki(m,e.name),Ki(p,e.name),Ki(g,e.name);const M=new wn({uid:y,auth:e,email:o,emailVerified:_,displayName:r,isAnonymous:S,photoURL:c,phoneNumber:u,tenantId:h,stsTokenManager:N,createdAt:p,lastLoginAt:g});return E&&Array.isArray(E)&&(M.providerData=E.map(U=>({...U}))),m&&(M._redirectEventId=m),M}static async _fromIdTokenResponse(e,i,r=!1){const o=new Gr;o.updateFromServerResponse(i);const u=new wn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await yc(u),u}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];oe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?rC(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),h=new Gr;h.updateFromIdToken(r);const m=new wn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Map;function li(t){_i(t instanceof Function,"Expected a class definition");let e=XS.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}aC.type="NONE";const QS=aC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t,e,i){return`firebase:${t}:${e}:${i}`}class Yr{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Bu(this.userKey,o.apiKey,u),this.fullPersistenceKey=Bu("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await gc(this.auth,{idToken:e}).catch(()=>{});return i?wn._fromGetAccountInfoResponse(this.auth,i,e):null}return wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Yr(li(QS),e,r);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||li(QS);const c=Bu(r,e.config.apiKey,e.name);let h=null;for(const p of i)try{const g=await p._get(c);if(g){let y;if(typeof g=="string"){const _=await gc(e,{idToken:g}).catch(()=>{});if(!_)break;y=await wn._fromGetAccountInfoResponse(e,_,g)}else y=wn._fromJSON(e,g);p!==u&&(h=y),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Yr(u,e,r):(u=m[0],h&&await u._set(c,h.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(c)}catch{}})),new Yr(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hC(e))return"Blackberry";if(dC(e))return"Webos";if(lC(e))return"Safari";if((e.includes("chrome/")||uC(e))&&!e.includes("edge/"))return"Chrome";if(fC(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oC(t=Nt()){return/firefox\//i.test(t)}function lC(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uC(t=Nt()){return/crios\//i.test(t)}function cC(t=Nt()){return/iemobile/i.test(t)}function fC(t=Nt()){return/android/i.test(t)}function hC(t=Nt()){return/blackberry/i.test(t)}function dC(t=Nt()){return/webos/i.test(t)}function gg(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f5(t=Nt()){var e;return gg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function h5(){return d3()&&document.documentMode===10}function mC(t=Nt()){return gg(t)||fC(t)||dC(t)||hC(t)||/windows phone/i.test(t)||cC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e=[]){let i;switch(t){case"Browser":i=$S(Nt());break;case"Worker":i=`${$S(Nt())}-${t}`;break;default:i=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ua}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((c,h)=>{try{const m=e(u);c(m)}catch(m){h(m)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e={}){return da(t,"GET","/v2/passwordPolicy",mg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=6;class g5{constructor(e){var r;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??p5,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZS(this),this.idTokenSubscription=new ZS(this),this.beforeStateQueue=new d5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=li(i)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await Yr.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await gc(this,{idToken:e}),r=await wn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Ln(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(u=this.redirectUser)==null?void 0:u._redirectEventId,h=r==null?void 0:r._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&(m!=null&&m.user)&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await yc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(zs(this));const i=e?Dn(e):null;return i&&oe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m5(this),i=new g5(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $o("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await c5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&li(e)||this._popupRedirectResolver;oe(i,this,"argument-error"),this.redirectPersistenceManager=await Yr.create(this,[li(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(h,this,"internal-error"),h.then(()=>{c||u(this.currentUser)}),typeof i=="function"){const m=e.addObserver(i,r,o);return()=>{c=!0,m()}}else{const m=e.addObserver(i);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var i;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&W6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function yg(t){return Dn(t)}class ZS{constructor(e){this.auth=e,this.observer=null,this.addObserver=E3(i=>this.observer=i)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v5(t){vg=t}function _5(t){return vg.loadJS(t)}function b5(){return vg.gapiScript}function S5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t,e){const i=Op(t,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Vs(u,e??{}))return o;vi(o,"already-initialized")}return i.initialize({options:e})}function E5(t,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function x5(t,e,i){const r=yg(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=gC(e),{host:c,port:h}=C5(e),m=h===null?"":`:${h}`,p={url:`${u}//${c}${m}/`},g=Object.freeze({host:c,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(Vs(p,r.config.emulator)&&Vs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,oa(c)?(DE(`${u}//${c}${m}`),ME("Auth",!0)):w5()}function gC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function C5(t){const e=gC(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:JS(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:JS(c)}}}function JS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function w5(){function t(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,i){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kr(t,e){return t5(t,"POST","/v1/accounts:signInWithIdp",mg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="http://localhost";class Ys extends yC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):vi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=i;if(!r||!o)return null;const c=new Ys(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const i=this.buildRequest();return Kr(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Kr(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Kr(e,i)}buildRequest(){const e={requestUri:A5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=la(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends vC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends sl{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ys._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Qi.credential(i,r)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends sl{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends sl{constructor(){super("twitter.com")}static credential(e,i){return Ys._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Zi.credential(i,r)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const u=await wn._fromIdTokenResponse(e,r,o),c=e1(r);return new ea({user:u,providerId:c,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=e1(r);return new ea({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function e1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends us{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,vc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new vc(e,i,r,o)}}function _C(t,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vc._fromErrorAndOperation(t,u,e,r):u})}async function R5(t,e,i=!1){const r=await qo(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return ea._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(t,e,i=!1){const{auth:r}=t;if(Ln(r.app))return Promise.reject(zs(r));const o="reauthenticate";try{const u=await qo(t,_C(r,o,e,t),i);oe(u.idToken,r,"internal-error");const c=pg(u.idToken);oe(c,r,"internal-error");const{sub:h}=c;return oe(t.uid===h,r,"user-mismatch"),ea._forOperation(t,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&vi(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D5(t,e,i=!1){if(Ln(t.app))return Promise.reject(zs(t));const r="signIn",o=await _C(t,r,e),u=await ea._fromIdTokenResponse(t,r,o);return i||await t._updateCurrentUser(u.user),u}function M5(t,e,i,r){return Dn(t).onIdTokenChanged(e,i,r)}function O5(t,e,i){return Dn(t).beforeAuthStateChanged(e,i)}const _c="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(_c,"1"),this.storage.removeItem(_c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=1e3,k5=10;class SC extends bC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);h5()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,k5):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},I5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}SC.type="LOCAL";const L5=SC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC extends bC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}TC.type="SESSION";const EC=TC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Pc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:u}=i.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(c).map(async p=>p(i.origin,u)),m=await j5(h);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return t+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((h,m)=>{const p=_g("",20);o.port1.start();const g=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(g),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(_.data.response);break;default:clearTimeout(g),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function P5(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function z5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function B5(){return xC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebaseLocalStorageDb",H5=1,bc="firebaseLocalStorage",wC="fbase_key";class rl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function zc(t,e){return t.transaction([bc],e?"readwrite":"readonly").objectStore(bc)}function F5(){const t=indexedDB.deleteDatabase(CC);return new rl(t).toPromise()}function Um(){const t=indexedDB.open(CC,H5);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bc,{keyPath:wC})}catch(o){i(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bc)?e(r):(r.close(),await F5(),e(await Um()))})})}async function t1(t,e,i){const r=zc(t,!0).put({[wC]:e,value:i});return new rl(r).toPromise()}async function q5(t,e){const i=zc(t,!1).get(e),r=await new rl(i).toPromise();return r===void 0?null:r.value}function n1(t,e){const i=zc(t,!0).delete(e);return new rl(i).toPromise()}const G5=800,Y5=3;class AC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>Y5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pc._getInstance(B5()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,r;if(this.activeServiceWorker=await z5(),!this.activeServiceWorker)return;this.sender=new U5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await t1(e,_c,"1"),await n1(e,_c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>t1(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>q5(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>n1(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=zc(o,!1).getAll();return new rl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AC.type="LOCAL";const K5=AC;new il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t,e){return e?li(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg extends yC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Kr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Kr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function X5(t){return D5(t.auth,new bg(t),t.bypassAuthState)}function Q5(t){const{auth:e,user:i}=t;return oe(i,e,"internal-error"),N5(i,new bg(t),t.bypassAuthState)}async function $5(t){const{auth:e,user:i}=t;return oe(i,e,"internal-error"),R5(i,new bg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,i,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X5;case"linkViaPopup":case"linkViaRedirect":return $5;case"reauthViaPopup":case"reauthViaRedirect":return Q5;default:vi(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=new il(2e3,1e4);class Vr extends RC{constructor(e,i,r,o,u){super(e,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Vr.currentPopupAction&&Vr.currentPopupAction.cancel(),Vr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if((r=(i=this.authWindow)==null?void 0:i.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z5.get())};e()}}Vr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="pendingRedirect",Hu=new Map;class ej extends RC{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Hu.get(this.auth._key());if(!e){try{const r=await tj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Hu.set(this.auth._key(),e)}return this.bypassAuthState||Hu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tj(t,e){const i=sj(e),r=ij(t);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function nj(t,e){Hu.set(t._key(),e)}function ij(t){return li(t._redirectPersistence)}function sj(t){return Bu(J5,t.config.apiKey,t.name)}async function rj(t,e,i=!1){if(Ln(t.app))return Promise.reject(zs(t));const r=yg(t),o=W5(r,e),c=await new ej(r,o,i).execute();return c&&!i&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=600*1e3;class oj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lj(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!NC(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";i.onError(Un(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aj&&this.cachedEventUids.clear(),this.cachedEventUids.has(i1(e))}saveEventToCache(e){this.cachedEventUids.add(i1(e)),this.lastProcessedEventTime=Date.now()}}function i1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t,e={}){return da(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fj=/^https?/;async function hj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uj(t);for(const i of e)try{if(dj(i))return}catch{}vi(t,"unauthorized-domain")}function dj(t){const e=Lm(),{protocol:i,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&c.hostname===r}if(!fj.test(i))return!1;if(cj.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=new il(3e4,6e4);function s1(){const t=Pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function pj(t){return new Promise((e,i)=>{var o,u,c;function r(){s1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s1(),i(Un(t,"network-request-failed"))},timeout:mj.get()})}if((u=(o=Pn().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((c=Pn().gapi)!=null&&c.load)r();else{const h=S5("iframefcb");return Pn()[h]=()=>{gapi.load?r():i(Un(t,"network-request-failed"))},_5(`${b5()}?onload=${h}`).catch(m=>i(m))}}).catch(e=>{throw Fu=null,e})}let Fu=null;function gj(t){return Fu=Fu||pj(t),Fu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=new il(5e3,15e3),vj="__/auth/iframe",_j="emulator/auth/iframe",bj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tj(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?dg(e,_j):`https://${t.config.authDomain}/${vj}`,r={apiKey:e.apiKey,appName:t.name,v:ua},o=Sj.get(t.config.apiHost);o&&(r.eid=o);const u=t._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${la(r).slice(1)}`}async function Ej(t){const e=await gj(t),i=Pn().gapi;return oe(i,t,"internal-error"),e.open({where:document.body,url:Tj(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bj,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Un(t,"network-request-failed"),h=Pn().setTimeout(()=>{u(c)},yj.get());function m(){Pn().clearTimeout(h),o(r)}r.ping(m).then(m,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cj=500,wj=600,Aj="_blank",Rj="http://localhost";class r1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Nj(t,e,i,r=Cj,o=wj){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const m={...xj,width:r.toString(),height:o.toString(),top:u,left:c},p=Nt().toLowerCase();i&&(h=uC(p)?Aj:i),oC(p)&&(e=e||Rj,m.scrollbars="yes");const g=Object.entries(m).reduce((_,[S,E])=>`${_}${S}=${E},`,"");if(f5(p)&&h!=="_self")return Dj(e||"",h),new r1(null);const y=window.open(e||"",h,g);oe(y,t,"popup-blocked");try{y.focus()}catch{}return new r1(y)}function Dj(t,e){const i=document.createElement("a");i.href=t,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj="__/auth/handler",Oj="emulator/auth/handler",Ij=encodeURIComponent("fac");async function a1(t,e,i,r,o,u){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:r,v:ua,eventId:o};if(e instanceof vC){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",gm(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof sl){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const m=await t._getAppCheckToken(),p=m?`#${Ij}=${encodeURIComponent(m)}`:"";return`${kj(t)}?${la(h).slice(1)}${p}`}function kj({config:t}){return t.emulator?dg(t,Oj):`https://${t.authDomain}/${Mj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="webStorageSupport";class Lj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EC,this._completeRedirectFn=rj,this._overrideRedirectResult=nj}async _openPopup(e,i,r,o){var c;_i((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const u=await a1(e,i,r,Lm(),o);return Nj(e,u,_g())}async _openRedirect(e,i,r,o){await this._originValidation(e);const u=await a1(e,i,r,Lm(),o);return P5(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(_i(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await Ej(e),r=new oj(e);return i.register("authEvent",o=>(oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Fd,{type:Fd},o=>{var c;const u=(c=o==null?void 0:o[0])==null?void 0:c[Fd];u!==void 0&&i(!!u),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=hj(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return mC()||lC()||gg()}}const jj=Lj;var o1="@firebase/auth",l1="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zj(t){Qr(new Bs("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;oe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pC(t)},p=new y5(r,o,u,m);return E5(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new Bs("auth-internal",e=>{const i=yg(e.getProvider("auth").getImmediate());return(r=>new Uj(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(o1,l1,Pj(t)),ns(o1,l1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=300,Bj=NE("authIdTokenMaxAge")||Vj;let u1=null;const Hj=t=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Bj)return;const o=i==null?void 0:i.token;u1!==o&&(u1=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Fj(t=UE()){const e=Op(t,"auth");if(e.isInitialized())return e.getImmediate();const i=T5(t,{popupRedirectResolver:jj,persistence:[K5,L5,EC]}),r=NE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=Hj(u.toString());O5(i,c,()=>c(i.currentUser)),M5(i,h=>c(h))}}const o=AE("auth");return o&&x5(i,`http://${o}`),i}function qj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}v5({loadJS(t){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const u=Un("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",qj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zj("Browser");const Gj={apiKey:"AIzaSyBsOv2pYZS-AGQLbgNFFEfx4QKuKFK_b8M",authDomain:"home-management-6faac.firebaseapp.com",databaseURL:"https://home-management-6faac-default-rtdb.europe-west1.firebasedatabase.app",projectId:"home-management-6faac",storageBucket:"home-management-6faac.firebasestorage.app",messagingSenderId:"791263470571",appId:"1:791263470571:web:1341680fbb73ac4d2e2fae"},DC=jE(Gj),Ge=H6(DC);Fj(DC);function MC({status:t,program:e,onStart:i,onStop:r,currentUser:o,queue:u=[]}){const[c,h]=w.useState(0);w.useEffect(()=>{if(t==="running"){const p=setInterval(()=>{h(g=>(g+10)%360)},50);return()=>clearInterval(p)}},[t]);const m=()=>{switch(t){case"running":return"from-blue-400 to-blue-600";case"done":return"from-green-400 to-green-600";default:return"from-gray-300 to-gray-400"}};return b.jsx("div",{className:"relative",children:b.jsxs(re.div,{className:`relative w-full aspect-square rounded-3xl bg-gradient-to-br ${m()} shadow-2xl p-6`,animate:t==="done"?{scale:[1,1.02,1],boxShadow:["0 20px 25px -5px rgba(0, 0, 0, 0.1)","0 20px 25px -5px rgba(34, 197, 94, 0.4)","0 20px 25px -5px rgba(0, 0, 0, 0.1)"]}:{},transition:{duration:1,repeat:t==="done"?1/0:0,repeatType:"loop"},children:[b.jsxs("div",{className:"bg-gray-900 rounded-xl p-3 mb-4",children:[b.jsxs("div",{className:"text-green-400 font-mono text-xs mb-1",children:[t==="idle"&&"READY",t==="running"&&`WASHING${".".repeat(c/120%4)}`,t==="done"&&"COMPLETE!"]}),e&&b.jsx("div",{className:"text-white text-sm font-semibold",children:e.name}),o&&b.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:["User: ",o]})]}),b.jsxs("div",{className:"relative bg-gradient-to-br from-gray-800 to-gray-900 rounded-full aspect-square border-8 border-gray-700 overflow-hidden",children:[t==="running"&&b.jsx(re.div,{className:"absolute inset-0 bg-blue-300 opacity-30",animate:{y:["100%","0%","100%"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),b.jsxs(re.div,{className:"absolute inset-4 rounded-full border-4 border-gray-600",style:{rotate:c},children:[[...Array(6)].map((p,g)=>b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:`rotate(${g*60}deg)`},children:b.jsx("div",{className:"h-full w-2 bg-gray-500"})},g)),t!=="idle"&&b.jsxs(b.Fragment,{children:[b.jsx(re.div,{className:"absolute top-1/4 left-1/4 w-8 h-8 bg-red-400 rounded-full opacity-70",animate:t==="running"?{x:[0,10,0],y:[0,-10,0]}:{},transition:{duration:2,repeat:1/0}}),b.jsx(re.div,{className:"absolute top-1/3 right-1/4 w-6 h-6 bg-blue-300 rounded-full opacity-70",animate:t==="running"?{x:[0,-8,0],y:[0,8,0]}:{},transition:{duration:2.5,repeat:1/0}}),b.jsx(re.div,{className:"absolute bottom-1/3 left-1/3 w-7 h-7 bg-yellow-300 rounded-full opacity-70",animate:t==="running"?{x:[0,5,0],y:[0,10,0]}:{},transition:{duration:1.8,repeat:1/0}})]})]}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent pointer-events-none"})]}),b.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex gap-2",children:[t==="idle"&&b.jsx(re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"flex-1 bg-white text-gray-800 font-bold py-2 px-4 rounded-lg shadow-lg",children:"START"}),(t==="running"||t==="done")&&b.jsx(re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:"flex-1 bg-red-500 text-white font-bold py-2 px-4 rounded-lg shadow-lg",children:t==="running"?"STOP":"CLEAR"})]})]})})}function OC({status:t,program:e,onStart:i,onStop:r,currentUser:o,queue:u=[]}){const[c,h]=w.useState(0);w.useEffect(()=>{if(t==="running"){const p=setInterval(()=>{h(g=>(g+8)%360)},50);return()=>clearInterval(p)}},[t]);const m=()=>{switch(t){case"running":return"from-orange-400 to-red-500";case"done":return"from-green-400 to-green-600";default:return"from-gray-300 to-gray-400"}};return b.jsx("div",{className:"relative",children:b.jsxs(re.div,{className:`relative w-full aspect-square rounded-3xl bg-gradient-to-br ${m()} shadow-2xl p-6`,animate:t==="done"?{scale:[1,1.02,1],boxShadow:["0 20px 25px -5px rgba(0, 0, 0, 0.1)","0 20px 25px -5px rgba(34, 197, 94, 0.4)","0 20px 25px -5px rgba(0, 0, 0, 0.1)"]}:{},transition:{duration:1,repeat:t==="done"?1/0:0,repeatType:"loop"},children:[b.jsxs("div",{className:"bg-gray-900 rounded-xl p-3 mb-4",children:[b.jsxs("div",{className:"text-orange-400 font-mono text-xs mb-1",children:[t==="idle"&&"READY",t==="running"&&`DRYING${".".repeat(c/120%4)}`,t==="done"&&"COMPLETE!"]}),e&&b.jsx("div",{className:"text-white text-sm font-semibold",children:e.name}),o&&b.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:["User: ",o]}),t==="running"&&b.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[b.jsx("div",{className:"text-red-400 text-xs",children:""}),b.jsx("div",{className:"text-xs text-gray-400",children:"Heat Active"})]})]}),b.jsxs("div",{className:"relative bg-gradient-to-br from-gray-800 to-gray-900 rounded-full aspect-square border-8 border-gray-700 overflow-hidden",children:[t==="running"&&b.jsxs(b.Fragment,{children:[b.jsx(re.div,{className:"absolute inset-0 bg-gradient-to-t from-orange-500/20 to-transparent",animate:{opacity:[.2,.4,.2]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),[...Array(3)].map((p,g)=>b.jsx(re.div,{className:"absolute inset-x-0 h-px bg-gradient-to-r from-transparent via-orange-300/50 to-transparent",style:{top:`${30+g*15}%`},animate:{x:["-100%","100%"]},transition:{duration:1.5+g*.5,repeat:1/0,ease:"linear"}},g))]}),b.jsxs(re.div,{className:"absolute inset-4 rounded-full border-4 border-gray-600",style:{rotate:c},children:[[...Array(4)].map((p,g)=>b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:`rotate(${g*90}deg)`},children:b.jsx("div",{className:"h-full w-3 bg-gradient-to-r from-gray-500 to-gray-600 rounded-full"})},g)),t!=="idle"&&b.jsxs(b.Fragment,{children:[b.jsx(re.div,{className:"absolute top-1/4 left-1/4 w-10 h-10 bg-purple-400 rounded-lg opacity-70",animate:t==="running"?{rotate:[0,360],x:[0,15,0],y:[0,-15,0]}:{},transition:{duration:2,repeat:1/0}}),b.jsx(re.div,{className:"absolute top-1/2 right-1/4 w-8 h-8 bg-green-300 rounded-lg opacity-70",animate:t==="running"?{rotate:[0,-360],x:[0,-10,0],y:[0,12,0]}:{},transition:{duration:2.2,repeat:1/0}}),b.jsx(re.div,{className:"absolute bottom-1/3 left-1/2 w-9 h-9 bg-pink-300 rounded-lg opacity-70",animate:t==="running"?{rotate:[0,360],x:[0,8,0],y:[0,8,0]}:{},transition:{duration:1.9,repeat:1/0}})]})]}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent pointer-events-none"}),t==="running"&&b.jsx(re.div,{className:"absolute inset-0 bg-orange-500/10 rounded-full",animate:{opacity:[.1,.3,.1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),b.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex gap-2",children:[t==="idle"&&b.jsx(re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"flex-1 bg-white text-gray-800 font-bold py-2 px-4 rounded-lg shadow-lg",children:"START"}),(t==="running"||t==="done")&&b.jsx(re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:"flex-1 bg-red-500 text-white font-bold py-2 px-4 rounded-lg shadow-lg",children:t==="running"?"STOP":"CLEAR"})]})]})})}function Yj({onClose:t}){const{currentRoom:e}=Nn(),[i,r]=w.useState(null),[o,u]=w.useState(null);return w.useEffect(()=>{const c=qe(Ge,"laundry/washingMachine"),h=qe(Ge,"laundry/dryer"),m=yi(c,g=>{r(g.val())}),p=yi(h,g=>{u(g.val())});return()=>{m(),p()}},[]),b.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:b.jsxs(re.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:c=>c.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-500 to-cyan-600 text-white p-6 rounded-t-3xl flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-3xl font-bold",children:"Laundry Room"}),b.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Ground Floor  Manage washing & drying"})]}),b.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:b.jsx(Ac,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"p-6 space-y-6",children:[i&&b.jsx(MC,{status:i.status,program:i.program,currentUser:i.currentUser,onStart:()=>{},onStop:()=>{}}),o&&b.jsx(OC,{status:o.status,program:o.program,currentUser:o.currentUser,onStart:()=>{},onStop:()=>{}})]})]})})}function Kj({onClose:t}){var h;const{currentRoom:e}=Nn(),[i,r]=w.useState(null);if(w.useEffect(()=>{const m=qe(Ge,"tasks"),p=yi(m,g=>{r(g.val())});return()=>p()},[]),!i)return null;const o=Object.entries(ri.kitchens).find(([m,p])=>p.assignedRooms.includes(e.id)),u=Object.entries(ri.showers).find(([m,p])=>p.assignedRooms.includes(e.id)),c=Object.entries(ri.toilets).find(([m,p])=>p.assignedRooms.includes(e.id));return b.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:b.jsxs(re.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:m=>m.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6 rounded-t-3xl flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-3xl font-bold",children:"Your Tasks"}),b.jsx("p",{className:"text-green-100 text-sm mt-1",children:e.displayName})]}),b.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:b.jsx(Ac,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"p-6 space-y-6",children:[o&&b.jsxs("div",{className:"bg-gray-50 rounded-2xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx(yE,{className:"w-6 h-6 text-green-600"}),b.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:o[1].name})]}),b.jsx("div",{className:"space-y-2",children:Object.entries(i.kitchens[o[0]]).map(([m,p])=>{var g;return b.jsxs("div",{className:"p-3 bg-white rounded-lg border-2 border-gray-200",children:[b.jsx("div",{className:"font-semibold text-gray-800 capitalize",children:m}),b.jsxs("div",{className:"text-sm text-gray-600",children:["Current: ",((g=An[p.currentRoom])==null?void 0:g.name)||p.currentRoom,p.currentRoom===e.id&&b.jsx("span",{className:"ml-2 text-purple-600 font-semibold",children:"(Your turn!)"})]})]},m)})})]}),u&&b.jsxs("div",{className:"bg-gray-50 rounded-2xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx(_E,{className:"w-6 h-6 text-cyan-600"}),b.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:u[1].name})]}),b.jsxs("div",{className:"p-3 bg-white rounded-lg border-2 border-gray-200",children:[b.jsx("div",{className:"font-semibold text-gray-800",children:"Cleaning"}),b.jsxs("div",{className:"text-sm text-gray-600",children:["Current: ",(h=An[i.showers[u[0]].currentRoom])==null?void 0:h.name,i.showers[u[0]].currentRoom===e.id&&b.jsx("span",{className:"ml-2 text-purple-600 font-semibold",children:"(Your turn!)"})]})]})]}),c&&b.jsxs("div",{className:"bg-gray-50 rounded-2xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx(bE,{className:"w-6 h-6 text-gray-600"}),b.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:c[1].name})]}),b.jsxs("div",{className:"p-3 bg-white rounded-lg border-2 border-gray-200",children:[b.jsx("div",{className:"font-semibold text-gray-800",children:"Toilet Paper Status"}),b.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Status: ",b.jsx("span",{className:"font-bold uppercase",children:i.toilets[c[0]].paperStatus})]})]})]})]})]})})}function Wj({roomId:t,onClose:e}){const{currentRoom:i}=Nn(),[r,o]=w.useState({}),u=An[t],c=t===i.id;w.useEffect(()=>{const S=qe(Ge,"presence"),E=yi(S,C=>{o(C.val()||{})});return()=>E()},[]);const h=S=>{const E=r[S];return E==="N/A"||E===null||E===void 0?"N/A":E?"home":"away"},m=()=>{if(!c)return;const S=r[t];let E;S==="N/A"||S===null||S===void 0?E=Date.now():S?E=!1:E="N/A",zt(qe(Ge,`presence/${t}`),E)},p=h(t),g=S=>S==="home"?b.jsx(SE,{className:"w-8 h-8 text-green-600"}):S==="away"?b.jsx(TE,{className:"w-8 h-8 text-gray-400"}):b.jsx(vE,{className:"w-8 h-8 text-blue-400"}),y=S=>S==="home"?"from-green-400 to-green-600":S==="away"?"from-gray-400 to-gray-600":"from-blue-400 to-blue-600",_=S=>S==="home"?"I'm Home":S==="away"?"I'm Away":"Status Unknown";return b.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:b.jsxs(re.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:S=>S.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-md w-full",children:[b.jsxs("div",{className:`bg-gradient-to-r ${y(p)} text-white p-6 rounded-t-3xl flex justify-between items-center`,children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-3xl font-bold",children:(u==null?void 0:u.displayName)||t}),b.jsxs("p",{className:"text-sm opacity-90 mt-1",children:["Floor ",u==null?void 0:u.floor]})]}),b.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:b.jsx(Ac,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gray-100 mb-4",children:g(p)}),b.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:_(p)})]}),c?b.jsxs(b.Fragment,{children:[b.jsx(re.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,className:`w-full py-4 rounded-xl font-semibold shadow-lg text-white bg-gradient-to-r ${y(p)}`,children:"Tap to Change Status"}),b.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Cycle: ",p==="N/A"?"N/A  Home":p==="home"?"Home  Away":"Away  N/A"]})]}):b.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[b.jsx("p",{className:"text-gray-600",children:"You can only change your own status"}),b.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["This is ",u==null?void 0:u.name,"'s room"]})]})]})]})})}function Xj(){const{currentRoom:t}=Nn(),[e,i]=w.useState({}),[r,o]=w.useState(null),[u,c]=w.useState(null),[h,m]=w.useState(null);w.useEffect(()=>{const E=qe(Ge,"presence"),C=yi(E,N=>{const M=N.val()||{};i(M)});return()=>C()},[]);const p=E=>{const C=e[E];return C&&C!=="N/A"&&C!==!1},g=E=>{c(E),o("room")},y=E=>{o(E)},_=()=>{o(null),c(null)},S=({roomId:E,x:C,y:N,width:M=80,height:U=100})=>{var q;const L=p(E),G=h===E;return b.jsxs(re.g,{onClick:()=>g(E),onMouseEnter:()=>m(E),onMouseLeave:()=>m(null),style:{cursor:"pointer"},whileHover:{scale:1.05},transition:{duration:.2},children:[b.jsx("rect",{x:C,y:N,width:M,height:U,fill:"#e8e8e8",stroke:"#555",strokeWidth:"3",rx:"5"}),b.jsx("rect",{x:C+5,y:N+5,width:M-10,height:U-10,fill:L?"#fff4b8":"#1a3a52",opacity:L?.95:.6}),b.jsx("line",{x1:C+M/2,y1:N+5,x2:C+M/2,y2:N+U-5,stroke:"#555",strokeWidth:"2"}),b.jsx("line",{x1:C+5,y1:N+U/2,x2:C+M-5,y2:N+U/2,stroke:"#555",strokeWidth:"2"}),L&&b.jsx("rect",{x:C-10,y:N-10,width:M+20,height:U+20,fill:"url(#windowGlow)",opacity:"0.4",pointerEvents:"none"}),G&&b.jsx("text",{x:C+M/2,y:N+U+20,textAnchor:"middle",fill:"white",fontSize:"14",fontWeight:"bold",children:((q=An[E])==null?void 0:q.name)||E})]})};return b.jsxs("div",{className:"relative w-full h-screen bg-gradient-to-b from-indigo-950 via-indigo-900 to-indigo-800 overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0",children:[b.jsx(re.div,{className:"absolute top-20 right-32 w-24 h-24 bg-yellow-100 rounded-full shadow-2xl",animate:{y:[0,-10,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},children:b.jsx("div",{className:"absolute inset-2 bg-yellow-50 rounded-full opacity-50"})}),[...Array(50)].map((E,C)=>b.jsx(re.div,{className:"absolute w-1 h-1 bg-white rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*60}%`},animate:{opacity:[.3,1,.3]},transition:{duration:2+Math.random()*3,repeat:1/0,delay:Math.random()*2}},C))]}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-b from-green-900 to-green-950"}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gray-800 border-t-4 border-yellow-400"}),b.jsxs("svg",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",viewBox:"0 0 1200 900",style:{width:"90vw",maxWidth:"1200px",height:"auto"},children:[b.jsx("defs",{children:b.jsxs("radialGradient",{id:"windowGlow",children:[b.jsx("stop",{offset:"0%",stopColor:"#fff4b8",stopOpacity:"0.6"}),b.jsx("stop",{offset:"100%",stopColor:"#fff4b8",stopOpacity:"0"})]})}),b.jsx("rect",{x:"200",y:"650",width:"800",height:"80",fill:"#2c1810"}),b.jsx("rect",{x:"200",y:"250",width:"800",height:"400",fill:"#b84848",stroke:"#8b3838",strokeWidth:"4"}),b.jsx("polygon",{points:"150,250 600,80 1050,250",fill:"#2d3748",stroke:"#1a202c",strokeWidth:"4"}),b.jsxs("g",{children:[b.jsx("rect",{x:"320",y:"150",width:"120",height:"100",fill:"#e8e8e8",stroke:"#555",strokeWidth:"2"}),b.jsx("polygon",{points:"310,150 380,100 450,150",fill:"#2d3748",stroke:"#1a202c",strokeWidth:"2"}),b.jsx(S,{roomId:"13C",x:"340",y:"170",width:"80",height:"70"})]}),b.jsxs("g",{children:[b.jsx("rect",{x:"760",y:"150",width:"120",height:"100",fill:"#e8e8e8",stroke:"#555",strokeWidth:"2"}),b.jsx("polygon",{points:"750,150 820,100 890,150",fill:"#2d3748",stroke:"#1a202c",strokeWidth:"2"}),b.jsx(S,{roomId:"14C",x:"780",y:"170",width:"80",height:"70"})]}),b.jsx(S,{roomId:"8C",x:"250",y:"280"}),b.jsx(S,{roomId:"9C",x:"460",y:"280"}),b.jsx(S,{roomId:"10C",x:"670",y:"280"}),b.jsx(S,{roomId:"11C",x:"880",y:"320",width:"60",height:"80"}),b.jsx(S,{roomId:"12C",x:"960",y:"320",width:"60",height:"80"}),b.jsx(S,{roomId:"3C",x:"250",y:"420"}),b.jsx(S,{roomId:"4C",x:"460",y:"420"}),b.jsx(S,{roomId:"5C",x:"670",y:"420"}),b.jsx(S,{roomId:"6C",x:"880",y:"460",width:"60",height:"80"}),b.jsx(S,{roomId:"7C",x:"960",y:"460",width:"60",height:"80"}),b.jsx(S,{roomId:"1C",x:"300",y:"560"}),b.jsx(S,{roomId:"2C",x:"600",y:"560"}),b.jsxs(re.g,{onClick:()=>y("laundry"),onMouseEnter:()=>m("laundry"),onMouseLeave:()=>m(null),style:{cursor:"pointer"},whileHover:{scale:1.05},children:[b.jsx("rect",{x:"450",y:"570",width:"100",height:"150",fill:"#8b4513",stroke:"#654321",strokeWidth:"3",rx:"5"}),b.jsx("circle",{cx:"530",cy:"640",r:"5",fill:"#ffd700"}),h==="laundry"&&b.jsx("text",{x:"500",y:"750",textAnchor:"middle",fill:"white",fontSize:"16",fontWeight:"bold",children:"Laundry Room"})]}),b.jsxs(re.g,{onClick:()=>y("tasks"),onMouseEnter:()=>m("tasks"),onMouseLeave:()=>m(null),style:{cursor:"pointer"},children:[b.jsx("rect",{x:"880",y:"600",width:"140",height:"50",fill:"rgba(255, 255, 255, 0.1)",stroke:"rgba(255,255,255,0.3)",strokeWidth:"2",rx:"5"}),h==="tasks"&&b.jsx("text",{x:"950",y:"632",textAnchor:"middle",fill:"white",fontSize:"14",fontWeight:"bold",children:"Kitchen & Tasks"})]}),b.jsx("text",{x:"600",y:"50",textAnchor:"middle",fill:"white",fontSize:"28",fontWeight:"bold",children:t.displayName}),b.jsx("text",{x:"600",y:"80",textAnchor:"middle",fill:"#cbd5e0",fontSize:"16",children:"Click rooms and facilities to interact"})]}),b.jsxs(iE,{children:[r==="laundry"&&b.jsx(Yj,{onClose:_}),r==="tasks"&&b.jsx(Kj,{onClose:_}),r==="room"&&u&&b.jsx(Wj,{roomId:u,onClose:_})]})]})}function Qj(){return b.jsx(Xj,{})}const c1=[{id:"quick",name:"Quick Wash",duration:30},{id:"normal",name:"Normal",duration:60},{id:"heavy",name:"Heavy Duty",duration:90},{id:"delicate",name:"Delicate",duration:45},{id:"eco",name:"Eco Mode",duration:120}],f1=[{id:"quick",name:"Quick Dry",duration:30},{id:"normal",name:"Normal",duration:60},{id:"heavy",name:"Heavy Load",duration:90},{id:"delicate",name:"Delicate",duration:40},{id:"air",name:"Air Dry",duration:20}],qd=(t,e)=>{const r=(e.indexOf(t)+1)%e.length;return e[r]};function $j(){const{currentRoom:t}=Nn(),[e,i]=w.useState(null),[r,o]=w.useState(null),[u,c]=w.useState(null);w.useEffect(()=>{const y=qe(Ge,"laundry/washingMachine"),_=yi(y,C=>{const N=C.val()||{status:"idle",program:null,startTime:null,endTime:null,currentUser:null,queue:[]};i(N)}),S=qe(Ge,"laundry/dryer"),E=yi(S,C=>{const N=C.val()||{status:"idle",program:null,startTime:null,endTime:null,currentUser:null,queue:[]};o(N)});return()=>{_(),E()}},[]);const h=async(y,_)=>{const S=y==="washer"?"laundry/washingMachine":"laundry/dryer",E=Date.now(),C=E+_.duration*60*1e3;await zt(qe(Ge,S),{status:"running",program:_,startTime:E,endTime:C,currentUser:t.id,queue:y==="washer"?(e==null?void 0:e.queue)||[]:(r==null?void 0:r.queue)||[]}),c(null)},m=async y=>{const _=y==="washer"?"laundry/washingMachine":"laundry/dryer",S=y==="washer"?e:r;if(S.status==="running")await zt(qe(Ge,_),{...S,status:"done"});else if(S.status==="done"){const E=S.queue||[];if(E.length>0){const C=E[0],N=E.slice(1),M=(y==="washer"?c1:f1).find(G=>G.id===C.programId),U=Date.now(),L=U+M.duration*60*1e3;await zt(qe(Ge,_),{status:"running",program:M,startTime:U,endTime:L,currentUser:C.roomId,queue:N})}else await zt(qe(Ge,_),{status:"idle",program:null,startTime:null,endTime:null,currentUser:null,queue:[]})}},p=async(y,_)=>{const S=y==="washer"?"laundry/washingMachine":"laundry/dryer",E=y==="washer"?e:r,C={roomId:t.id,programId:_.id,program:_.name,timestamp:Date.now()},N=(E==null?void 0:E.queue)||[];await zt(qe(Ge,`${S}/queue`),[...N,C]),c(null)};w.useEffect(()=>{if((e==null?void 0:e.status)==="running"&&e.endTime){const y=e.endTime-Date.now();if(y<=0)zt(qe(Ge,"laundry/washingMachine/status"),"done");else{const _=setTimeout(()=>{zt(qe(Ge,"laundry/washingMachine/status"),"done")},y);return()=>clearTimeout(_)}}},[e]),w.useEffect(()=>{if((r==null?void 0:r.status)==="running"&&r.endTime){const y=r.endTime-Date.now();if(y<=0)zt(qe(Ge,"laundry/dryer/status"),"done");else{const _=setTimeout(()=>{zt(qe(Ge,"laundry/dryer/status"),"done")},y);return()=>clearTimeout(_)}}},[r]);const g=y=>{c(y)};return!e||!r?b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsx("div",{className:"text-lg",children:"Loading laundry room..."})}):b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4 pb-24",children:[b.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[b.jsxs("div",{className:"text-center py-6",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Laundry Room"}),b.jsx("p",{className:"text-gray-600",children:"Ground Floor"})]}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Washing Machine"}),b.jsx(MC,{status:e.status,program:e.program,currentUser:e.currentUser,queue:e.queue,onStart:()=>g("washer"),onStop:()=>m("washer")})]}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Dryer"}),b.jsx(OC,{status:r.status,program:r.program,currentUser:r.currentUser,queue:r.queue,onStart:()=>g("dryer"),onStop:()=>m("dryer")})]})]}),b.jsx(iE,{children:u&&b.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>c(null),children:b.jsxs(re.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",onClick:y=>y.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Select Program"}),b.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:b.jsx(Ac,{className:"w-6 h-6"})})]}),b.jsx("div",{className:"space-y-3",children:(u==="washer"?c1:f1).map(y=>{const S=(u==="washer"?e:r).status==="idle";return b.jsx(re.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>S?h(u,y):p(u,y),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-xl shadow-lg hover:shadow-xl transition-all text-left",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("div",{className:"font-semibold text-lg",children:y.name}),b.jsxs("div",{className:"text-sm text-blue-100",children:[y.duration," ","minutes"]})]}),!S&&b.jsx(FI,{className:"w-5 h-5"})]})},y.id)})}),(u==="washer"?e:r).status!=="idle"&&b.jsx("div",{className:"mt-4 text-sm text-gray-600 text-center",children:"Machine is busy. Program will be added to queue."})]})})})]})}function Zj(){var y,_;const{currentRoom:t}=Nn(),[e,i]=w.useState(null);w.useEffect(()=>{const S=qe(Ge,"tasks"),E=yi(S,C=>{const N=C.val()||{kitchens:{lower:{trash:{currentRoom:"1C",lastCompleted:null,nextDue:null},cupboard:{currentRoom:"1C",lastCompleted:null,nextDue:null},stove:{currentRoom:"1C",lastCompleted:null,nextDue:null}},upper:{trash:{currentRoom:"8C",lastCompleted:null,nextDue:null},cupboard:{currentRoom:"8C",lastCompleted:null,nextDue:null},stove:{currentRoom:"8C",lastCompleted:null,nextDue:null}}},showers:{lower:{currentRoom:"1C",lastCleaned:null,nextDue:null},upper:{currentRoom:"8C",lastCleaned:null,nextDue:null}},toilets:{floor0:{paperStatus:"full",lastChecked:null,currentRoom:null},floor1:{paperStatus:"full",lastChecked:null,currentRoom:"1C"},floor2:{paperStatus:"full",lastChecked:null,currentRoom:"3C"},floor3:{paperStatus:"full",lastChecked:null,currentRoom:"8C"},floor4:{paperStatus:"full",lastChecked:null,currentRoom:"13C"}}};i(N)});return()=>E()},[]);const r=async(S,E)=>{const C=ri.kitchens[S],N=e.kitchens[S][E].currentRoom,M=qd(N,C.assignedRooms);await zt(qe(Ge,`tasks/kitchens/${S}/${E}`),{currentRoom:M,lastCompleted:Date.now(),nextDue:Date.now()+10080*60*1e3})},o=async S=>{const E=ri.showers[S],C=e.showers[S].currentRoom,N=qd(C,E.assignedRooms);await zt(qe(Ge,`tasks/showers/${S}`),{currentRoom:N,lastCleaned:Date.now(),nextDue:Date.now()+10080*60*1e3})},u=async(S,E)=>{const C=e.toilets[S].currentRoom;let N=C;if(E==="full"&&C){const M=ri.toilets[S];M.assignedRooms.length>0&&(N=qd(C,M.assignedRooms))}await zt(qe(Ge,`tasks/toilets/${S}`),{paperStatus:E,lastChecked:Date.now(),currentRoom:N})};if(!e)return b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsx("div",{className:"text-lg",children:"Loading tasks..."})});const c=S=>S===t.id,h=Object.entries(ri.kitchens).find(([S,E])=>E.assignedRooms.includes(t.id)),m=Object.entries(ri.showers).find(([S,E])=>E.assignedRooms.includes(t.id)),p=Object.entries(ri.toilets).find(([S,E])=>E.assignedRooms.includes(t.id)),g={full:"bg-green-500",low:"bg-yellow-500",empty:"bg-red-500"};return b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4 pb-24",children:b.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[b.jsxs("div",{className:"text-center py-6",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Your Tasks"}),b.jsx("p",{className:"text-gray-600",children:t.displayName})]}),h&&b.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx(yE,{className:"w-6 h-6 text-green-600"}),b.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:h[1].name})]}),b.jsx("div",{className:"space-y-2",children:Object.entries(e.kitchens[h[0]]).map(([S,E])=>{var N;const C=c(E.currentRoom);return b.jsx(re.div,{className:`p-4 rounded-lg border-2 ${C?"border-purple-500 bg-purple-50":"border-gray-200 bg-gray-50"}`,children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("div",{className:"font-semibold text-gray-800 capitalize",children:S}),b.jsxs("div",{className:"text-sm text-gray-600",children:["Current: ",((N=An[E.currentRoom])==null?void 0:N.name)||E.currentRoom,C&&b.jsx("span",{className:"ml-2 text-purple-600 font-semibold",children:"(Your turn!)"})]})]}),C&&b.jsxs(re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(h[0],S),className:"bg-green-500 text-white px-4 py-2 rounded-lg font-semibold shadow-lg flex items-center gap-2",children:[b.jsx(eS,{className:"w-4 h-4"}),"Done"]})]})},S)})})]}),m&&b.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx(_E,{className:"w-6 h-6 text-cyan-600"}),b.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:m[1].name})]}),b.jsx(re.div,{className:`p-4 rounded-lg border-2 ${c(e.showers[m[0]].currentRoom)?"border-purple-500 bg-purple-50":"border-gray-200 bg-gray-50"}`,children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("div",{className:"font-semibold text-gray-800",children:"Cleaning"}),b.jsxs("div",{className:"text-sm text-gray-600",children:["Current: ",((y=An[e.showers[m[0]].currentRoom])==null?void 0:y.name)||e.showers[m[0]].currentRoom,c(e.showers[m[0]].currentRoom)&&b.jsx("span",{className:"ml-2 text-purple-600 font-semibold",children:"(Your turn!)"})]})]}),c(e.showers[m[0]].currentRoom)&&b.jsxs(re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(m[0]),className:"bg-green-500 text-white px-4 py-2 rounded-lg font-semibold shadow-lg flex items-center gap-2",children:[b.jsx(eS,{className:"w-4 h-4"}),"Done"]})]})})]}),p&&b.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx(bE,{className:"w-6 h-6 text-gray-600"}),b.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[p[1].name," (Paper Status)"]})]}),b.jsx(re.div,{className:`p-4 rounded-lg border-2 ${e.toilets[p[0]].paperStatus==="empty"?"border-red-500 bg-red-50":"border-gray-200 bg-gray-50"}`,children:b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("div",{className:"font-semibold text-gray-800",children:"Toilet Paper"}),e.toilets[p[0]].currentRoom&&b.jsxs("div",{className:"text-sm text-gray-600",children:["Next refill: ",((_=An[e.toilets[p[0]].currentRoom])==null?void 0:_.name)||e.toilets[p[0]].currentRoom,c(e.toilets[p[0]].currentRoom)&&b.jsx("span",{className:"ml-2 text-purple-600 font-semibold",children:"(Your turn!)"})]})]}),b.jsx("span",{className:`px-3 py-1 rounded-full text-white text-xs font-semibold ${g[e.toilets[p[0]].paperStatus]}`,children:e.toilets[p[0]].paperStatus.toUpperCase()})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(p[0],"full"),className:"flex-1 bg-green-500 text-white px-3 py-2 rounded-lg font-semibold shadow text-sm",children:"Full"}),b.jsx(re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(p[0],"low"),className:"flex-1 bg-yellow-500 text-white px-3 py-2 rounded-lg font-semibold shadow text-sm",children:"Low"}),b.jsx(re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(p[0],"empty"),className:"flex-1 bg-red-500 text-white px-3 py-2 rounded-lg font-semibold shadow text-sm",children:"Empty"})]})]})})]})]})})}function Jj(){const{currentRoom:t}=Nn(),[e,i]=w.useState({});w.useEffect(()=>{const _=qe(Ge,"presence"),S=yi(_,E=>{const C=E.val()||{};i(C)});return()=>S()},[]);const r=()=>{const _=e[t.id];let S;_==="N/A"||_===null||_===void 0?S=Date.now():_?S=!1:S="N/A",zt(qe(Ge,`presence/${t.id}`),S)},o=_=>{const S=e[_];return S==="N/A"||S===null||S===void 0?"N/A":S?"home":"away"},u=o(t.id),c=go().filter(_=>o(_)==="home").length,h=go().filter(_=>o(_)==="away").length,m=go().filter(_=>o(_)==="N/A").length,p=_=>_==="home"?b.jsx(SE,{className:"w-5 h-5 text-green-600"}):_==="away"?b.jsx(TE,{className:"w-5 h-5 text-gray-400"}):b.jsx(vE,{className:"w-5 h-5 text-blue-400"}),g=_=>_==="home"?"border-green-500 bg-green-50":_==="away"?"border-gray-300 bg-gray-50":"border-blue-300 bg-blue-50",y=_=>_==="home"?"Home":_==="away"?"Away":"N/A";return b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4 pb-24",children:b.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[b.jsxs("div",{className:"text-center py-6",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Who's Home?"}),b.jsx("p",{className:"text-gray-600",children:"Track household presence"})]}),b.jsxs(re.div,{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl shadow-lg p-6 text-white",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-semibold mb-1",children:t.displayName}),b.jsx("p",{className:"text-purple-100 text-sm",children:"Your Status"})]}),b.jsx(Cp,{className:"w-8 h-8"})]}),b.jsxs(re.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:`w-full py-3 rounded-xl font-semibold shadow-lg flex items-center justify-center gap-2 ${u==="home"?"bg-green-500 hover:bg-green-600":u==="away"?"bg-gray-600 hover:bg-gray-700":"bg-blue-500 hover:bg-blue-600"}`,children:[p(u),u==="home"?"I'm Home":u==="away"?"I'm Away":"Status Unknown"]}),b.jsxs("p",{className:"text-sm text-purple-100 mt-3 text-center",children:["Tap to cycle: ",u==="N/A"?"N/A  Home":u==="home"?"Home  Away":"Away  N/A"]})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[b.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[b.jsx("div",{className:"text-3xl font-bold text-green-600",children:c}),b.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Home"})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[b.jsx("div",{className:"text-3xl font-bold text-gray-400",children:h}),b.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Away"})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[b.jsx("div",{className:"text-3xl font-bold text-blue-400",children:m}),b.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"N/A"})]})]}),[1,2,3,4].map(_=>{const S=go().filter(E=>An[E].floor===_);return S.length===0?null:b.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[b.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Floor ",_]}),b.jsx("div",{className:"grid grid-cols-2 gap-3",children:S.map(E=>{const C=o(E),N=E===t.id;return b.jsxs("div",{className:`p-4 rounded-xl border-2 ${g(C)} ${N?"ring-2 ring-purple-500":""}`,children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"text-left",children:[b.jsxs("div",{className:"font-semibold text-gray-800",children:[An[E].name,N&&b.jsx("span",{className:"ml-1 text-purple-600 text-xs",children:"(You)"})]}),b.jsx("div",{className:"text-xs text-gray-600",children:E})]}),p(C)]}),b.jsx("div",{className:"mt-2 text-xs font-medium text-gray-700",children:y(C)})]},E)})})]},_)}),b.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 text-sm text-gray-700",children:[b.jsx("p",{className:"font-semibold mb-1",children:" How it works:"}),b.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[b.jsx("li",{children:"You can only update your own status"}),b.jsx("li",{children:'Default status is "N/A" (unknown)'}),b.jsx("li",{children:"Tap your status card to cycle through options"}),b.jsx("li",{children:"Others can see your status in real-time"})]})]})]})})}function eU(){const t=Hm(),e=bi(),{logout:i}=Nn(),r=[{path:"/dashboard",icon:Cp,label:"Home"},{path:"/laundry",icon:XI,label:"Laundry"},{path:"/tasks",icon:kI,label:"Tasks"},{path:"/presence",icon:KI,label:"Presence"}],o=()=>{confirm("Are you sure you want to log out?")&&(i(),t("/"))};return b.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:b.jsx("div",{className:"max-w-2xl mx-auto px-2 py-2",children:b.jsxs("div",{className:"flex justify-around items-center",children:[r.map(({path:u,icon:c,label:h})=>{const m=e.pathname===u;return b.jsxs(re.button,{whileTap:{scale:.95},onClick:()=>t(u),className:`flex flex-col items-center justify-center px-4 py-2 rounded-lg transition-colors ${m?"text-purple-600":"text-gray-600 hover:text-gray-800"}`,children:[b.jsx(c,{className:`w-6 h-6 mb-1 ${m?"stroke-[2.5]":""}`}),b.jsx("span",{className:`text-xs ${m?"font-semibold":"font-medium"}`,children:h}),m&&b.jsx(re.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-1 bg-purple-600 rounded-t-full"})]},u)}),b.jsxs(re.button,{whileTap:{scale:.95},onClick:o,className:"flex flex-col items-center justify-center px-4 py-2 rounded-lg text-red-600 hover:text-red-700 transition-colors",children:[b.jsx(zI,{className:"w-6 h-6 mb-1"}),b.jsx("span",{className:"text-xs font-medium",children:"Logout"})]})]})})})}function Ou({children:t}){const{isAuthenticated:e,loading:i}=Nn();return i?b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsx("div",{className:"text-lg",children:"Loading..."})}):e?t:b.jsx(w1,{to:"/",replace:!0})}function tU(){const{isAuthenticated:t,loading:e}=Nn();return e?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600",children:b.jsx("div",{className:"text-white text-lg",children:"Loading..."})}):b.jsxs(b.Fragment,{children:[b.jsxs(lN,{children:[b.jsx(kr,{path:"/",element:t?b.jsx(w1,{to:"/dashboard",replace:!0}):b.jsx($I,{})}),b.jsx(kr,{path:"/dashboard",element:b.jsx(Ou,{children:b.jsx(Qj,{})})}),b.jsx(kr,{path:"/laundry",element:b.jsx(Ou,{children:b.jsx($j,{})})}),b.jsx(kr,{path:"/tasks",element:b.jsx(Ou,{children:b.jsx(Zj,{})})}),b.jsx(kr,{path:"/presence",element:b.jsx(Ou,{children:b.jsx(Jj,{})})})]}),t&&b.jsx(eU,{})]})}function nU(){return b.jsx(ON,{children:b.jsx(FN,{children:b.jsx(tU,{})})})}fR.createRoot(document.getElementById("root")).render(b.jsx(w.StrictMode,{children:b.jsx(nU,{})}));
